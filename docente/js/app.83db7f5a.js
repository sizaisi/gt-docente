(function(t){function e(e){for(var i,s,n=e[0],c=e[1],d=e[2],u=0,m=[];u<n.length;u++)s=n[u],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&m.push(r[s][0]),r[s]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);l&&l(e);while(m.length)m.shift()();return o.push.apply(o,d||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],i=!0,n=1;n<a.length;n++){var c=a[n];0!==r[c]&&(i=!1)}i&&(o.splice(e--,1),t=s(s.s=a[0]))}return t}var i={},r={app:0},o=[];function s(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=i,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(a,i,function(e){return t[e]}.bind(null,i));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/sisacad/sisdoce/graduacion/gt-docente/docente/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],c=n.push.bind(n);n.push=e,n=n.slice();for(var d=0;d<n.length;d++)e(n[d]);var l=c;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"00ac":function(t,e,a){"use strict";var i=a("9472"),r=a.n(i);r.a},"01ce":function(t,e,a){},"0343":function(t,e,a){"use strict";var i=a("305b"),r=a.n(i);r.a},"034f":function(t,e,a){"use strict";var i=a("85ec"),r=a.n(i);r.a},"03e7":function(t,e,a){},"04f2":function(t,e,a){},"09b7":function(t,e,a){},"0f51":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container p-4",staticStyle:{"background-color":"#fff"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col text-center"},[t.array_grado_modalidad.length>0?a("h5",{staticClass:"font-weight-bold text-uppercase text-danger",domProps:{textContent:t._s("Grados - Modalidades")}}):a("h5",{staticClass:"text-info",domProps:{textContent:t._s("No existen solicitudes pendientes")}})])]),t._l(t.objectGroups,(function(e,i){return a("div",{key:i,staticClass:"row text-center mt-3"},t._l(t.array_grado_modalidad.slice(i*t.itemsPerRow,(i+1)*t.itemsPerRow),(function(e,i){return a("div",{key:i,staticClass:"col-lg-4"},[a("div",{staticClass:"counter"},[a("h5",{staticClass:"count-text-title",domProps:{textContent:t._s(e.grado_titulo+" - "+e.modalidad)}}),a("h2",{staticClass:"timer count-title count-number text-danger",domProps:{textContent:t._s(e.total_expedientes)}}),a("p",{staticClass:"count-text"},[t._v("Solicitudes pendientes")]),a("br"),a("b-button",{attrs:{pill:"",variant:"info"},on:{click:function(a){return t.mostrarProcedimientos(e)}}},[t._v(" Ver procedimientos ")])],1)])})),0)}))],2)},r=[],o=(a("a630"),a("d3b7"),a("3ca3"),a("ddb0"),{name:"inicio",data:function(){return{url:this.$root.API_URL,array_grado_modalidad:[],itemsPerRow:3}},computed:{objectGroups:function(){return Array.from(Array(Math.ceil(this.array_grado_modalidad.length/this.itemsPerRow)).keys())}},created:function(){this.getGradoModalidad()},methods:{getGradoModalidad:function(){var t=this,e=this.$store.getters.getUsuario,a=new FormData;a.append("codi_usuario",e.codi_usuario),a.append("idrol",e.idrol),this.axios.post("".concat(this.url,"/GradoModalidad/inicio"),a).then((function(e){e.data.error?console.log(e.data.message):t.array_grado_modalidad=e.data.array_grado_modalidad}))},mostrarProcedimientos:function(t){this.$store.dispatch("setGradoModalidad",t),this.$router.push({name:"procedimientos"})}}}),s=o,n=a("2877"),c=Object(n["a"])(s,i,r,!1,null,null,null);e["default"]=c.exports},1299:function(t,e,a){"use strict";var i=a("9874"),r=a.n(i);r.a},"153c":function(t,e,a){},"188d":function(t,e,a){"use strict";var i=a("5e03"),r=a.n(i);r.a},2240:function(t,e,a){"use strict";var i=a("73c5"),r=a.n(i);r.a},2461:function(t,e,a){"use strict";var i=a("dceb"),r=a.n(i);r.a},2750:function(t,e,a){},2796:function(t,e,a){"use strict";var i=a("04f2"),r=a.n(i);r.a},"280a":function(t,e,a){},"2f08":function(t,e,a){},"305b":function(t,e,a){},"317c":function(t,e,a){},"331a":function(t,e,a){"use strict";var i=a("f95f"),r=a.n(i);r.a},"352d":function(t,e,a){},"36fc":function(t,e,a){"use strict";var i=a("9f60"),r=a.n(i);r.a},3926:function(t,e,a){},"3b4c":function(t,e,a){},"41a7":function(t,e,a){"use strict";var i=a("c50b"),r=a.n(i);r.a},"41c0":function(t,e,a){"use strict";var i=a("dbc1"),r=a.n(i);r.a},4411:function(t,e,a){},"45bd":function(t,e,a){},"49d4":function(t,e,a){"use strict";var i=a("2750"),r=a.n(i);r.a},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var i=a("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("b-navbar",{staticClass:"nav-docente",attrs:{toggleable:"lg",type:"dark"}},[a("b-navbar-brand",{attrs:{href:"#"}},[t._v("Grados y Títulos - UNSA")]),a("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),a("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[a("b-navbar-nav",[a("b-nav-item",{attrs:{to:{name:"inicio"}}},[t._v("Expedientes")]),a("b-nav-item",{attrs:{to:{name:"reportes"}}},[t._v("Reportes")])],1)],1)],1),a("router-view")],1)},o=[],s={name:"app",data:function(){return{url:this.$root.API_URL,codi_usuario:null}},created:function(){this.getCodiOper()},methods:{getCodiOper:function(){var t=this;this.axios.get("".concat(this.url,"/codi_oper.php")).then((function(e){e.data.error?t.$root.errorAlert(e.data.message):(t.codi_usuario=e.data.codi_oper,t.getUsuario())}))},getUsuario:function(){var t=this,e=new FormData;e.append("codi_usuario",this.codi_usuario),this.axios.post("".concat(this.url,"/Usuario/getUsuario"),e).then((function(e){if(e.data.error)console.log(e.data.message);else{var a=e.data.usuario;t.$store.dispatch("setUsuario",a)}}))}}},n=s,c=(a("034f"),a("2877")),d=Object(c["a"])(n,r,o,!1,null,null,null),l=d.exports,u=a("fb9a"),m=a.n(u),b=(a("04f21"),a("85ff")),p=a.n(b),f=(a("c789"),a("8c4f"));i["default"].use(f["a"]);var h=[{path:"/",name:"home",component:a("bb51").default},{path:"/expedientes/inicio",name:"inicio",component:a("0f51").default},{path:"/expedientes/procedimientos",name:"procedimientos",component:a("e4d8").default},{path:"/expedientes/bandeja",name:"bandeja",component:a("9692").default},{path:"/expedientes/TituloProfesional-SustentancionTesis",name:"TituloProfesional-SustentancionTesis",component:a("6aaa").default,props:!0},{path:"/reportes",name:"reportes",component:a("bb51").default}],v=new f["a"]({mode:"history",base:"/sisacad/sisdoce/graduacion/gt-docente/docente/",routes:h}),_=v,x=a("2f62"),g=a("bc3a"),y=a.n(g),C={API_URL:"//190.119.145.150:8022/sisacad/sisdoce/graduacion/gt-docente/backend",color_acciones:{enviar:"success",derivar:"success",devolver:"danger",denegar:"danger",observar:"warning",rechazar:"danger",aceptar:"success",aprobar:"success",anular:"danger",finalizar:"primary"},color_estados:{enviado:"success",derivado:"success",devuelto:"danger",denegado:"danger",observado:"warning",rechazado:"danger",aceptado:"success",aprobado:"success",anulado:"danger",finalizado:"primary"},estados:{enviar:"enviado",derivar:"derivado",devolver:"devuelto",denegar:"denegado",observar:"observado",rechazar:"rechazado",aceptar:"aceptado",aprobar:"aprobado",anular:"anulado",finalizar:"finalizado"}},I=C;i["default"].use(x["a"]);var $=new x["a"].Store({state:{usuario:null,grado_modalidad:null,procedimiento:null,graduando:null,expediente:null,rutas:[],rutaVecinaActiva:!1},mutations:{SET_USUARIO:function(t,e){t.usuario=e},SET_GRADO_MODALIDAD:function(t,e){t.grado_modalidad=e},SET_PROCEDIMIENTO:function(t,e){t.procedimiento=e},SET_GRADUANDO:function(t,e){t.graduando=e},SET_EXPEDIENTE:function(t,e){t.expediente=e},SET_RUTAS:function(t,e){t.rutas=e},SET_RUTA_ACTIVA:function(t,e){t.rutaVecinaActiva=e}},actions:{setUsuario:function(t,e){var a=t.commit;a("SET_USUARIO",e)},setGradoModalidad:function(t,e){var a=t.commit;a("SET_GRADO_MODALIDAD",e)},setProcedimiento:function(t,e){var a=t.commit;a("SET_PROCEDIMIENTO",e)},setGraduando:function(t,e){var a=t.commit;a("SET_GRADUANDO",e)},setExpediente:function(t,e){var a=t.commit;a("SET_EXPEDIENTE",e)},getRutas:function(t){var e=t.commit,a=t.state,i=new FormData;i.append("idproc_origen",a.procedimiento.id),y.a.post("".concat(I.API_URL,"/Ruta/getRutasByProc"),i).then((function(t){t.data.error?console.log(t.data.message):e("SET_RUTAS",t.data.array_ruta)}))},verificarRecursoRutasVecinas:function(t,e){var a=t.commit,i=t.state,r=new FormData;r.append("idexpediente",i.expediente.id),r.append("idprocedimiento",i.procedimiento.id),r.append("idusuario",i.usuario.id),r.append("idruta",e),y.a.post("".concat(I.API_URL,"/Recurso/verify"),r).then((function(t){t.data.error?console.log(t.data.message):a("SET_RUTA_ACTIVA",t.data.existeRecursoRutaVecinas)}))}},getters:{getUsuario:function(t){return t.usuario},getGradoModalidad:function(t){return t.grado_modalidad},getProcedimiento:function(t){return t.procedimiento},getGraduando:function(t){return t.graduando},getExpediente:function(t){return t.expediente}},modules:{}}),A=a("5f5b"),k=a("b1e0"),w=a("a7fe"),R=a.n(w),j=a("4a7a"),T=a.n(j),P=a("8e5f"),E=a.n(P);a("f9e3"),a("2dd8"),a("5df9"),a("6dfc"),a("e607"),a("5aea");i["default"].use(m.a,{theme:{colors:{primary:"#5b3cc4",success:"rgb(23, 201, 100)",danger:"rgb(242, 19, 93)",warning:"rgb(255, 130, 0)",dark:"rgb(36, 33, 69)"}}});var O=!0,D={isEnabled:!0,logLevel:O?"error":"debug",stringifyArguments:!1,showLogLevel:!0,showMethodName:!0,separator:"|",showConsoleColors:!0};i["default"].use(p.a,D),i["default"].use(k["a"]),i["default"].use(R.a,y.a),i["default"].use(A["a"]),i["default"].use(k["b"]),i["default"].component("v-select",T.a),i["default"].component("multiselect",E.a),i["default"].config.productionTip=!1,new i["default"]({data:{API_URL:I.API_URL,FILE_URL:I.FILE_URL,color_acciones:I.color_acciones,color_estados:I.color_estados,estados:I.estados},methods:{successAlert:function(t){this.$vs.notify({title:"Éxito!",color:"success",time:4e3,icon:"done",text:t,position:"bottom-right"})},errorAlert:function(t){this.$vs.notify({title:"Error!",color:"danger",time:4e3,icon:"error_outline",text:t,position:"bottom-right"})}},router:_,store:$,render:function(t){return t(l)}}).$mount("#app")},5983:function(t,e,a){"use strict";var i=a("cf82"),r=a.n(i);r.a},"5aea":function(t,e,a){},"5e03":function(t,e,a){},"61fa":function(t,e,a){"use strict";var i=a("ed94"),r=a.n(i);r.a},6339:function(t,e,a){},"6aaa":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"container-fluid",staticStyle:{"background-color":"#fff",padding:"20px"}},[a("h5",{staticClass:"text-center font-weight-bold text-uppercase text-danger",domProps:{textContent:t._s(t.procedimiento.nombre)}}),a("p",{staticClass:"narrow text-center",domProps:{textContent:t._s(t.procedimiento.descripcion)}}),a("div",{staticClass:"text-center m-3"},[a("b-button",{attrs:{to:{name:"bandeja"},variant:"outline-info"}},[a("b-icon",{attrs:{icon:"arrow-left-short"}}),t._v("Atras ")],1)],1),a("b-card",{attrs:{"no-body":""}},[a("b-tabs",{attrs:{pills:"",card:"",vertical:""}},[a("b-tab",{attrs:{title:"Trámite",active:""}},[a("b-card",{attrs:{"no-body":""}},[a("b-tabs",{attrs:{card:"",justified:"","active-nav-item-class":"font-weight-bold text-uppercase text-danger"}},[a("b-tab",{attrs:{title:"Expediente"}},[a("b-card",[a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-md-3"},[a("label",{staticClass:"text-info"},[t._v("Código")]),a("label",{staticClass:"lbl-data",domProps:{textContent:t._s(t.expediente.codigo)}})]),a("div",{staticClass:"form-group col-md-9"},[a("label",{staticClass:"text-info"},[t._v("Título Proyecto")]),a("label",{staticClass:"lbl-data",domProps:{textContent:t._s(t.expediente.titulo)}})])]),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-md-6"},[a("label",{staticClass:"text-info"},[t._v("Programa de estudios")]),a("label",{staticClass:"lbl-data",domProps:{textContent:t._s(t.expediente.escuela)}})]),a("div",{staticClass:"form-group col-md-6"},[a("label",{staticClass:"text-info"},[t._v("Fecha de inicio de trámite")]),a("label",{staticClass:"lbl-data",domProps:{textContent:t._s(t.expediente.fing)}})])])])],1),a("b-tab",{attrs:{title:"Graduando"}},[a("b-card",[a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-md-3"},[a("label",{staticClass:"text-info"},[t._v("CUI")]),a("label",{staticClass:"lbl-data",domProps:{textContent:t._s(t.graduando.cui)}})]),a("div",{staticClass:"form-group col-md-9"},[a("label",{staticClass:"text-info"},[t._v("Apellidos y Nombres")]),a("label",{staticClass:"lbl-data",domProps:{textContent:t._s(t.graduando.apell_nombres)}})])]),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-md-3"},[a("label",{staticClass:"text-info"},[t._v("E-mail")]),a("label",{staticClass:"lbl-data",domProps:{textContent:t._s(t.graduando.email)}})]),a("div",{staticClass:"form-group col-md-3"},[a("label",{staticClass:"text-info"},[t._v("Teléfono")]),a("label",{staticClass:"lbl-data",domProps:{textContent:t._s(t.graduando.telefono_movil)}})]),a("div",{staticClass:"form-group col-md-6"},[a("label",{staticClass:"text-info"},[t._v("Dirección")]),a("label",{staticClass:"lbl-data",domProps:{textContent:t._s(t.graduando.direccion)}})])])])],1),a("b-tab",{attrs:{title:"Documentos"}},[a("form",{ref:"show_file",attrs:{action:t.url_show_file,target:"my-frame",method:"post"}},[a("input",{attrs:{type:"hidden",name:"file_id"}})]),a("b-table",{attrs:{items:t.array_archivo,fields:t.columnas_archivos,striped:"",bordered:"",hover:"",small:"",responsive:"","show-empty":"","empty-text":"No hay documentos que mostrar.","primary-key":"id"},scopedSlots:t._u([{key:"cell(descargar)",fn:function(e){return[a("b-button",{attrs:{variant:"warning",size:"sm",title:"Descargar"},on:{click:function(a){return t.mostrarArchivo(e.item.id,e.item.nombre)}}},[a("b-icon",{attrs:{icon:"eye"}})],1)]}}])})],1)],1)],1)],1),a("b-tab",{attrs:{title:"Procedencia"}},[a("b-card",{attrs:{"no-body":""}},[a("b-tabs",{attrs:{card:"","active-nav-item-class":"font-weight-bold text-uppercase text-danger"}},[a("b-tab",{attrs:{title:"Estado de expediente"}},[a("b-row",{staticClass:"justify-content-lg-center"},[a("b-col",{attrs:{col:"",lg:"10"}},[a("table",{staticClass:"table table-bordered table-borderless"},[a("tbody",[a("tr",[a("th",{staticClass:"bg-light text-right"},[t._v("Procedimiento:")]),a("td",{domProps:{textContent:t._s(t.movimiento.procedimiento_origen)}})]),a("tr",[a("th",{staticClass:"bg-light text-right"},[t._v("Rol / Área:")]),null!=t.movimiento.rol_area_origen?a("td",{domProps:{textContent:t._s(t.movimiento.rol_area_origen)}}):a("td",{domProps:{textContent:t._s(t.movimiento.tipo_rol)}})]),a("tr",[a("th",{staticClass:"bg-light text-right"},[t._v("Responsable:")]),a("td",{domProps:{textContent:t._s(t.movimiento.nombre_usuario)}})]),a("tr",[a("th",{staticClass:"bg-light text-right"},[t._v("Estado:")]),a("td",[a("b-badge",{staticClass:"estado",attrs:{variant:t.color_acciones[t.movimiento.etiqueta]},domProps:{textContent:t._s(t.estados[t.movimiento.etiqueta])}})],1)]),a("tr",[a("th",{staticClass:"bg-light text-right"},[t._v("Fecha / Hora:")]),a("td",{domProps:{textContent:t._s(t.movimiento.fecha+" hrs.")}},[t._v("johncarter@mail.com")])])])])])],1)],1),t.array_archivo_ultimo.length>0?a("b-tab",{attrs:{title:"Archivos adjuntos"}},[a("div",{staticClass:"mb-4"},[a("h4",{staticClass:"text-info text-center"},[a("i",{staticClass:"fa fa-files-o",attrs:{"aria-hidden":"true"}}),t._v(" Archivos adjuntos ")])]),a("form",{ref:"show_file_ultimo",attrs:{action:t.url_show_file,target:"my-frame",method:"post"}},[a("input",{attrs:{type:"hidden",name:"file_id"}})]),a("b-table",{attrs:{items:t.array_archivo_ultimo,fields:t.columnas_archivos_ultimo,striped:"",bordered:"",borderless:"",responsive:"","show-empty":"","empty-text":"No hay archivos que mostrar.","primary-key":"id"},scopedSlots:t._u([{key:"cell(descargar)",fn:function(e){return[a("b-button",{attrs:{variant:"warning",size:"sm",title:"Descargar"},on:{click:function(a){return t.mostrarArchivoUltimo(e.item.id,e.item.nombre)}}},[a("b-icon",{attrs:{icon:"eye"}})],1)]}}],null,!1,4066017)})],1):t._e()],1)],1)],1),null!=t.movimiento?a("b-tab",{attrs:{title:"Derivación"}},[null!=t.graduando?a(t.procedimiento.componente,{tag:"component",attrs:{movimiento:t.movimiento}}):t._e()],1):t._e()],1)],1)],1),a("div",{staticClass:"modal fade centered-modal",class:{mostrar:t.modal},staticStyle:{display:"none"},attrs:{tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-primary modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h4",{staticClass:"modal-title",domProps:{textContent:t._s(t.nombre_documento)}}),a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){t.modal=0}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),a("div",{staticClass:"modal-body"},[a("iframe",{attrs:{name:"my-frame",src:t.url_show_file,width:"660",height:"380",frameborder:"0",allowtransparency:"true"}})]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(e){t.modal=0}}},[t._v("Cerrar")])])])])])])},r=[],o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return null!=t.movimiento?a("div",[a("div",{staticClass:"row justify-content-center mb-1"},[a("fieldset",{staticClass:"col-8 col-md-6 px-3"},[a("legend",[t._v("Elija una opción:")]),a("div",{staticClass:"row justify-content-center"},[t._l(t.array_ruta,(function(e,i){return[a("b-form-radio",{key:i,staticClass:"m-2",attrs:{value:e,button:"",name:"acciones","button-variant":"outline-primary"},model:{value:t.ruta_seleccionada,callback:function(e){t.ruta_seleccionada=e},expression:"ruta_seleccionada"}},[t._v(" "+t._s(t._f("capitalize")(e.etiqueta))+" Expediente ")])]}))],2)])]),"derivado"==t.estados[t.movimiento.etiqueta]&&null!=t.ruta_seleccionada?["aceptar"==t.ruta_seleccionada.etiqueta?a("derivado_aceptar",{attrs:{ruta:t.ruta_seleccionada,movimiento:t.movimiento}}):t._e(),"denegar"==t.ruta_seleccionada.etiqueta?a("derivado_denegar",{attrs:{ruta:t.ruta_seleccionada,movimiento:t.movimiento}}):t._e()]:t._e()],2):t._e()},s=[],n=(a("fb6a"),a("d3b7"),a("25f0"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-card",[t.existeRecursoRutaVecinas?[a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[a("ul",[a("li",[t._v("Debe deshacer las acciones realizadas en otras opciones de este procedimiento")])])])]:[a("b-card",{attrs:{"no-body":""}},[a("b-tabs",{staticStyle:{"min-height":"250px"},attrs:{card:"","active-nav-item-class":"font-weight-bold text-uppercase text-danger"},model:{value:t.tabIndex,callback:function(e){t.tabIndex=e},expression:"tabIndex"}},[a("b-tab",{attrs:{title:"1. "+t.ruta.etiqueta.charAt(0).toUpperCase()+t.ruta.etiqueta.slice(1)+" expediente","title-item-class":"disabledTab",disabled:t.tabIndex2<0}},[a("movimiento_expediente",{attrs:{movimiento:t.movimiento,ruta:t.ruta}})],1)],1)],1),a("div",{staticClass:"text-center"},[a("b-button-group",{staticClass:"mt-3"},[a("b-button",{staticClass:"mr-1",attrs:{disabled:0==t.tabIndex},on:{click:t.prevTab}},[t._v("Anterior")]),a("b-button",{attrs:{disabled:0==t.tabIndex},on:{click:t.nextTab}},[t._v("Siguiente")])],1)],1)]],2)}),c=[],d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-center"},[a("b-row",{staticClass:"justify-content-lg-center"},[a("b-col",{attrs:{col:"",lg:"8"}},[a("p",{staticClass:"text-justify"},[a("b",[t._v("Nota: ")]),t._v(" La acción "+t._s(t.ruta.etiqueta)+" permite derivar el expediente al procedimiento "),a("b",[t._v(t._s(t.ruta.procedimiento_destino))]),t._v(" a cargo de "),a("b",[t._v(t._s(t.ruta.rol_area_destino))])])])],1),a("b-button",{staticClass:"m-1",attrs:{variant:t.color_acciones[t.ruta.etiqueta]},on:{click:function(e){return t.mover(t.ruta)}}},[t._v(" "+t._s(t._f("capitalize")(t.ruta.etiqueta))+" ")])],1)},l=[],u={name:"movimiento-expediente",props:{movimiento:Object,ruta:Object},data:function(){return{url:this.$root.API_URL,usuario:this.$store.getters.getUsuario,expediente:this.$store.getters.getExpediente,color_acciones:this.$root.color_acciones,estados:this.$root.estados}},filters:{capitalize:function(t){return t?(t=t.toString(),t.charAt(0).toUpperCase()+t.slice(1)):""}},methods:{mover:function(t){var e=this;this.$bvModal.msgBoxConfirm("¿Seguro que quiere "+t.etiqueta+" este expediente?",{title:t.etiqueta.charAt(0).toUpperCase()+t.etiqueta.slice(1)+" Expediente",okVariant:this.color_acciones[t.etiqueta],okTitle:t.etiqueta.charAt(0).toUpperCase()+t.etiqueta.slice(1),cancelTitle:"Cancelar",centered:!0}).then((function(a){if(a){var i=new FormData;i.append("idexpediente",e.expediente.id),i.append("idusuario",e.usuario.id),i.append("idruta",t.id),i.append("idproc_origen",t.idproc_origen),i.append("idproc_destino",t.idproc_destino),i.append("idmov_anterior",e.movimiento.id),i.append("estado_expediente",e.estados[t.etiqueta]),e.axios.post("".concat(e.url,"/Movimiento/mover"),i).then((function(t){t.data.error?e.$root.errorAlert(t.data.message):(e.$root.successAlert(t.data.message),e.$router.push({name:"bandeja"}))}))}}))}}},m=u,b=a("2877"),p=Object(b["a"])(m,d,l,!1,null,null,null),f=p.exports,h={name:"derivado-aceptar",props:{ruta:Object,movimiento:Object},components:{movimiento_expediente:f},data:function(){return{url:this.$root.API_URL,tabIndex:0,tabIndex2:0,errors:[]}},computed:{existeRecursoRutaVecinas:function(){return this.$store.state.rutaVecinaActiva}},created:function(){this.$store.dispatch("verificarRecursoRutasVecinas",this.ruta.id)},methods:{prevTab:function(){this.errors=[],this.tabIndex2--,this.tabIndex--},nextTab:function(){this.errors=[];var t=!1;t&&(this.tabIndex2++,this.$nextTick((function(){this.tabIndex++})))}}},v=h,_=(a("f658"),a("61fa"),Object(b["a"])(v,n,c,!1,null,"932fb454",null)),x=_.exports,g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-card",[t.existeRecursoRutaVecinas?[a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[a("ul",[a("li",[t._v("Debe deshacer las acciones realizadas en otras opciones de este procedimiento")])])])]:[a("b-card",{attrs:{"no-body":""}},[a("b-tabs",{staticStyle:{"min-height":"250px"},attrs:{card:"","active-nav-item-class":"font-weight-bold text-uppercase text-danger"},model:{value:t.tabIndex,callback:function(e){t.tabIndex=e},expression:"tabIndex"}},[a("b-tab",{attrs:{title:"1. Generar documento","title-item-class":"disabledTab",disabled:t.tabIndex2<0}},[a("generacion_documento",{ref:"documentos",attrs:{asesor:t.asesor,nombre_archivo_pdf:"informe_renuncia_asesoria.php",boton_nombre:"Informe de renuncia"}})],1),a("b-tab",{attrs:{title:"2. Añadir documento","title-item-class":"disabledTab",disabled:t.tabIndex2<1}},[a("documentos",{ref:"documentos",attrs:{ruta:t.ruta,max_docs:"1",nombre_asignado:"Informe de renuncia de asesoria"}}),t.errors.length?a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[a("ul",t._l(t.errors,(function(e,i){return a("li",{key:i},[t._v(t._s(e))])})),0)]):t._e()],1),a("b-tab",{attrs:{title:"3. "+t.ruta.etiqueta.charAt(0).toUpperCase()+t.ruta.etiqueta.slice(1)+" expediente","title-item-class":"disabledTab",disabled:t.tabIndex2<2}},[a("movimiento_expediente",{attrs:{movimiento:t.movimiento,ruta:t.ruta}})],1)],1)],1),a("div",{staticClass:"text-center"},[a("b-button-group",{staticClass:"mt-3"},[a("b-button",{staticClass:"mr-1",attrs:{disabled:0==t.tabIndex},on:{click:t.prevTab}},[t._v("Anterior")]),a("b-button",{attrs:{disabled:2==t.tabIndex},on:{click:t.nextTab}},[t._v("Siguiente")])],1)],1)]],2)},y=[],C=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mb-3"},[a("b-form",{ref:"frm_datos_pdf",staticClass:"mb-3",attrs:{action:t.url_pdf+t.nombre_archivo_pdf,method:"post"},on:{submit:function(e){return e.preventDefault(),t.generarPdf(e)}}},[a("input",{attrs:{type:"hidden",name:"expediente"}}),a("input",{attrs:{type:"hidden",name:"movimiento"}}),a("input",{attrs:{type:"hidden",name:"asesor"}}),a("input",{attrs:{type:"hidden",name:"graduando"}}),a("input",{attrs:{type:"hidden",name:"jurados"}}),a("div",{staticClass:"row"},[a("div",{staticClass:"mx-auto"},[a("b-button",{attrs:{type:"submit",variant:"success"}},[a("b-icon",{attrs:{icon:"file-earmark-arrow-down"}}),t._v(" "+t._s(t.boton_nombre)+" ")],1)],1)])])],1)},I=[],$={name:"resolucion-designacion-nuevo-asesor",props:{asesor:Object,jurados:Array,nombre_archivo_pdf:String,boton_nombre:String},data:function(){return{url_pdf:"".concat(this.$root.API_URL,"/pdfs/titulo_profesional_sustentacion_tesis/"),graduando:this.$store.getters.getGraduando,expediente:this.$store.getters.getExpediente,show_frame:"none"}},methods:{generarPdf:function(){this.$refs.frm_datos_pdf.expediente.value=JSON.stringify(this.expediente),this.$refs.frm_datos_pdf.graduando.value=JSON.stringify(this.graduando),this.$refs.frm_datos_pdf.asesor.value=JSON.stringify(this.asesor),this.$refs.frm_datos_pdf.jurados.value=JSON.stringify(this.jurados),this.$refs.frm_datos_pdf.submit(),this.show_frame="block"}}},A=$,k=Object(b["a"])(A,C,I,!1,null,null,null),w=k.exports,R=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-form",{staticClass:"mb-3",on:{submit:function(e){return e.preventDefault(),t.registrarDocumento(e)}}},[null==t.array_opciones?a("b-row",[a("b-col",{attrs:{sm:"12",md:"8",lg:"8"}},[a("b-form-file",{attrs:{placeholder:"Seleccione un archivo...",accept:".jpg, .png, .pdf",required:""},model:{value:t.file,callback:function(e){t.file=e},expression:"file"}})],1),a("b-col",{attrs:{sm:"12",md:"4",lg:"4"}},[a("b-button",{attrs:{type:"submit",variant:"success",title:"Subir Archivo",disabled:t.array_documento.length==t.max_docs}},[a("b-icon",{attrs:{icon:"plus-circle"}})],1)],1)],1):a("b-row",[a("b-col",{attrs:{sm:"12",md:"3",lg:"3"}},[a("b-form-select",{staticClass:"mr-3",attrs:{options:t.array_opciones,required:""},model:{value:t.opcion_documento,callback:function(e){t.opcion_documento=e},expression:"opcion_documento"}})],1),a("b-col",{attrs:{sm:"12",md:"6",lg:"6"}},[a("b-form-file",{attrs:{placeholder:"Seleccione un archivo...",accept:".jpg, .png, .pdf",required:""},model:{value:t.file,callback:function(e){t.file=e},expression:"file"}})],1),a("b-col",{attrs:{sm:"12",md:"3",lg:"3"}},[a("b-button",{attrs:{type:"submit",variant:"success",title:"Subir Archivo",disabled:t.array_documento.length==t.max_docs}},[a("b-icon",{attrs:{icon:"plus-circle"}})],1)],1)],1)],1),a("b-table",{attrs:{items:t.array_documento,fields:t.columnas_documento,striped:"",bordered:"",small:"","show-empty":"","empty-text":"No hay documentos que mostrar.","primary-key":"id",busy:t.estaOcupado},scopedSlots:t._u([{key:"cell(acciones)",fn:function(e){return[a("form",{ref:"show_file",attrs:{action:t.url_show_file,target:"document-frame",method:"post"}},[a("input",{attrs:{type:"hidden",name:"file_id"},domProps:{value:e.item.id}})]),a("b-button",{staticClass:"mr-1",attrs:{variant:"warning",size:"sm",title:"Visualizar"},on:{click:function(a){return t.mostrarArchivo(e.item.nombre)}}},[a("b-icon",{attrs:{icon:"eye"}})],1),a("b-button",{attrs:{variant:"danger",size:"sm",title:"Eliminar"},on:{click:function(a){return t.eliminarDocumento(e.item.id)}}},[a("b-icon",{attrs:{icon:"trash"}})],1)]}},{key:"table-busy",fn:function(){return[a("div",{staticClass:"text-center text-danger my-2"},[a("b-spinner",{staticClass:"align-middle"}),a("strong",[t._v("Cargando...")])],1)]},proxy:!0}])}),a("div",{staticClass:"modal fade centered-modal",class:{mostrar:t.modal},staticStyle:{display:"none"},attrs:{tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-primary modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h4",{staticClass:"modal-title",domProps:{textContent:t._s(t.nombre_documento)}}),a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){t.modal=0}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),a("div",{staticClass:"modal-body"},[a("iframe",{attrs:{name:"document-frame",src:t.url_show_file,width:"660",height:"380",frameborder:"0",allowtransparency:"true"}})]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(e){t.modal=0}}},[t._v("Cerrar")])])])])])],1)},j=[],T={name:"documentos",props:{ruta:Object,nombre_asignado:String,array_opciones:Array,max_docs:String},data:function(){return{url:this.$root.API_URL,usuario:this.$store.getters.getUsuario,procedimiento:this.$store.getters.getProcedimiento,expediente:this.$store.getters.getExpediente,url_show_file:this.$root.API_URL+"/utils/show_file.php",array_documento:[],columnas_documento:[{key:"nombre_asignado",label:"Nombre documento"},{key:"nombre_archivo",label:"Nombre archivo"},{key:"acciones",label:"Acciones",class:"text-center"}],file:null,estaOcupado:!1,modal:0,nombre_documento:"",opcion_documento:null}},created:function(){this.getDocumento()},methods:{cantidadDocumentos:function(){return this.array_documento.length},mostrarArchivo:function(t){this.$refs.show_file.submit(),this.nombre_documento=t,this.modal=1},getDocumento:function(){var t=this,e=new FormData;e.append("idexpediente",this.expediente.id),e.append("idusuario",this.usuario.id),e.append("idprocedimiento",this.procedimiento.id),this.axios.post("".concat(this.url,"/Archivo/get"),e).then((function(e){e.data.error?console.log(e.data.message):t.array_documento=e.data.array_documento}))},registrarDocumento:function(){var t,e=this;t=null!=this.nombre_asignado?this.nombre_asignado:this.opcion_documento;var a=new FormData;a.append("idexpediente",this.expediente.id),a.append("idprocedimiento",this.procedimiento.id),a.append("idusuario",this.usuario.id),a.append("idruta",this.ruta.id),a.append("nombre_asignado",t),a.append("file",this.file),this.estaOcupado=!0,this.axios.post("".concat(this.url,"/Archivo/store"),a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){e.resetearValores(),t.data.error?e.$root.errorAlert(t.data.message):(e.$root.successAlert(t.data.message),e.getDocumento())}))},eliminarDocumento:function(t){var e=this,a=new FormData;a.append("id",t),this.$bvModal.msgBoxConfirm("¿Esta seguro de eliminar el documento?",{title:"Eliminar documento",okVariant:"danger",okTitle:"SI",cancelTitle:"NO",centered:!0}).then((function(t){t&&e.axios.post("".concat(e.url,"/Archivo/delete"),a).then((function(t){e.resetearValores(),t.data.error?e.$root.errorAlert(t.data.message):(e.$root.successAlert(t.data.message),e.getDocumento())}))}))},resetearValores:function(){this.file=null,this.errors=[],this.opcion_documento=null,this.estaOcupado=!1}}},P=T,E=(a("9b05"),Object(b["a"])(P,R,j,!1,null,"6a088e4f",null)),O=E.exports,D={name:"derivado-denegar",props:{ruta:Object,movimiento:Object},components:{generacion_documento:w,documentos:O,movimiento_expediente:f},data:function(){return{url:this.$root.API_URL,expediente:this.$store.getters.getExpediente,tabIndex:0,tabIndex2:0,asesor:null,errors:[]}},computed:{existeRecursoRutaVecinas:function(){return this.$store.state.rutaVecinaActiva}},created:function(){this.$store.dispatch("verificarRecursoRutasVecinas",this.ruta.id),this.getAsesor()},methods:{prevTab:function(){this.errors=[],this.tabIndex2--,this.tabIndex--},nextTab:function(){this.errors=[];var t=!1;0==this.tabIndex&&(t=!0),1==this.tabIndex&&(t=this.validarTab1()),t&&(this.tabIndex2++,this.$nextTick((function(){this.tabIndex++})))},validarTab1:function(){return 0==this.$refs.documentos.cantidadDocumentos()&&this.errors.push("Debe registrar documentos para el expediente seleccionado."),!this.errors.length},getAsesor:function(){var t=this,e=new FormData;e.append("idexpediente",this.expediente.id),this.axios.post("".concat(this.url,"/Persona/get_asesor_expediente"),e).then((function(e){e.data.error?console.log(e.data.message):t.asesor=e.data.asesor}))}}},S=D,U=(a("5983"),a("41c0"),Object(b["a"])(S,g,y,!1,null,"006eee1f",null)),q=U.exports,V={name:"index",props:{movimiento:Object},components:{derivado_aceptar:x,derivado_denegar:q},data:function(){return{url:this.$root.API_URL,ruta_seleccionada:null,estados:this.$root.estados}},filters:{capitalize:function(t){return t?(t=t.toString(),t.charAt(0).toUpperCase()+t.slice(1)):""}},computed:{array_ruta:function(){return this.$store.state.rutas}},created:function(){this.$store.dispatch("getRutas")},methods:{}},z=V,L=(a("92ba"),Object(b["a"])(z,o,s,!1,null,"33252071",null)),F=L.exports,M=function(){var t=this,e=t.$createElement,a=t._self._c||e;return null!=t.movimiento?a("div",[a("div",{staticClass:"row justify-content-center mb-1"},[a("fieldset",{staticClass:"col-8 col-md-6 px-3"},[a("legend",[t._v("Elija una opción:")]),a("div",{staticClass:"row justify-content-center"},[t._l(t.array_ruta,(function(e,i){return[a("b-form-radio",{key:i,staticClass:"m-2",attrs:{value:e,button:"",name:"acciones","button-variant":"outline-primary"},model:{value:t.ruta_seleccionada,callback:function(e){t.ruta_seleccionada=e},expression:"ruta_seleccionada"}},[t._v(" "+t._s(t._f("capitalize")(e.etiqueta))+" Expediente ")])]}))],2)])]),"derivado"==t.estados[t.movimiento.etiqueta]&&null!=t.ruta_seleccionada?["aprobar"==t.ruta_seleccionada.etiqueta?a("derivado_aprobar",{attrs:{ruta:t.ruta_seleccionada,movimiento:t.movimiento}}):t._e(),"rechazar"==t.ruta_seleccionada.etiqueta?a("derivado_rechazar",{attrs:{ruta:t.ruta_seleccionada,movimiento:t.movimiento}}):t._e()]:t._e()],2):t._e()},G=[],N=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-card",[t.existeRecursoRutaVecinas?[a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[a("ul",[a("li",[t._v(" Debe deshacer las acciones realizadas en otras opciones de este procedimiento ")])])])]:[a("b-card",{attrs:{"no-body":""}},[a("b-tabs",{staticStyle:{"min-height":"250px"},attrs:{card:"","active-nav-item-class":"font-weight-bold text-uppercase text-danger"},model:{value:t.tabIndex,callback:function(e){t.tabIndex=e},expression:"tabIndex"}},[a("b-tab",{attrs:{title:"1. Generar documento","title-item-class":"disabledTab",disabled:t.tabIndex2<0}},[a("generacion_documento",{ref:"documentos",attrs:{asesor:t.asesor,nombre_archivo_pdf:"informe_conformidad_asesoramiento.php",boton_nombre:"Informe conformidad asesoramiento"}})],1),a("b-tab",{attrs:{title:"2. Añadir documento","title-item-class":"disabledTab",disabled:t.tabIndex2<1}},[a("documentos",{ref:"documentos",attrs:{ruta:t.ruta,max_docs:"1",nombre_asignado:"Informe de conformidad de asesoramiento"}}),t.errors.length?a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[a("ul",t._l(t.errors,(function(e,i){return a("li",{key:i},[t._v(t._s(e))])})),0)]):t._e()],1),a("b-tab",{attrs:{title:"3. "+t.ruta.etiqueta.charAt(0).toUpperCase()+t.ruta.etiqueta.slice(1)+" expediente","title-item-class":"disabledTab",disabled:t.tabIndex2<2}},[a("movimiento_expediente",{attrs:{movimiento:t.movimiento,ruta:t.ruta}})],1)],1)],1),a("div",{staticClass:"text-center"},[a("b-button-group",{staticClass:"mt-3"},[a("b-button",{staticClass:"mr-1",attrs:{disabled:0==t.tabIndex},on:{click:t.prevTab}},[t._v("Anterior")]),a("b-button",{attrs:{disabled:2==t.tabIndex},on:{click:t.nextTab}},[t._v("Siguiente")])],1)],1)]],2)},B=[],J={name:"derivado-aprobar",props:{ruta:Object,movimiento:Object},components:{generacion_documento:w,documentos:O,movimiento_expediente:f},data:function(){return{url:this.$root.API_URL,expediente:this.$store.getters.getExpediente,tabIndex:0,tabIndex2:0,asesor:null,errors:[]}},computed:{existeRecursoRutaVecinas:function(){return this.$store.state.rutaVecinaActiva}},created:function(){this.$store.dispatch("verificarRecursoRutasVecinas",this.ruta.id),this.getAsesor()},methods:{prevTab:function(){this.errors=[],this.tabIndex2--,this.tabIndex--},nextTab:function(){this.errors=[];var t=!1;0==this.tabIndex&&(t=!0),1==this.tabIndex&&(t=this.validarTab1()),t&&(this.tabIndex2++,this.$nextTick((function(){this.tabIndex++})))},validarTab1:function(){return 0==this.$refs.documentos.cantidadDocumentos()&&this.errors.push("Debe registrar documentos para el expediente seleccionado."),!this.errors.length},getAsesor:function(){var t=this,e=new FormData;e.append("idexpediente",this.expediente.id),this.axios.post("".concat(this.url,"/Persona/get_asesor_expediente"),e).then((function(e){e.data.error?console.log(e.data.message):t.asesor=e.data.asesor}))}}},H=J,X=(a("bd1d"),a("d0e7"),Object(b["a"])(H,N,B,!1,null,"60cfc27c",null)),K=X.exports,Q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-card",[t.existeRecursoRutaVecinas?[a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[a("ul",[a("li",[t._v(" Debe deshacer las acciones realizadas en otras opciones de este procedimiento ")])])])]:[a("b-card",{attrs:{"no-body":""}},[a("b-tabs",{staticStyle:{"min-height":"250px"},attrs:{card:"","active-nav-item-class":"font-weight-bold text-uppercase text-danger"},model:{value:t.tabIndex,callback:function(e){t.tabIndex=e},expression:"tabIndex"}},[a("b-tab",{attrs:{title:"1. Añadir observaciones","title-item-class":"disabledTab",disabled:t.tabIndex2<0}},[a("observaciones",{ref:"observaciones",attrs:{ruta:t.ruta}}),t.errors.length?a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[a("ul",t._l(t.errors,(function(e,i){return a("li",{key:i},[t._v(t._s(e))])})),0)]):t._e()],1),a("b-tab",{attrs:{title:"2. "+t.ruta.etiqueta.charAt(0).toUpperCase()+t.ruta.etiqueta.slice(1)+" expediente","title-item-class":"disabledTab",disabled:t.tabIndex2<1}},[a("movimiento_expediente",{attrs:{movimiento:t.movimiento,ruta:t.ruta}})],1)],1)],1),a("div",{staticClass:"text-center"},[a("b-button-group",{staticClass:"mt-3"},[a("b-button",{staticClass:"mr-1",attrs:{disabled:0==t.tabIndex},on:{click:t.prevTab}},[t._v("Anterior")]),a("b-button",{attrs:{disabled:1==t.tabIndex},on:{click:t.nextTab}},[t._v("Siguiente")])],1)],1)]],2)},W=[],Y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-form",{staticClass:"mb-3",on:{submit:function(e){return e.preventDefault(),t.guardarObservaciones(e)}}},[a("b-row",{staticClass:"justify-content-lg-center mb-2"},[a("b-col",{attrs:{col:"",lg:"6"}},[a("b-form-group",{staticClass:"mb-0",attrs:{label:"Observaciones:","label-for":"observaciones"}},[a("b-form-textarea",{attrs:{id:"observaciones",placeholder:"Ingrese al menos 30 caracteres",state:t.observacion.descripcion.length>=30,required:"",rows:"3"},model:{value:t.observacion.descripcion,callback:function(e){t.$set(t.observacion,"descripcion",e)},expression:"observacion.descripcion"}})],1)],1)],1),a("b-row",{staticClass:"justify-content-lg-center"},[a("b-col",{staticClass:"text-right",attrs:{col:"",lg:"6"}},[a("b-button",{staticStyle:{height:"34px"},attrs:{variant:"success",size:"sm",type:"submit",title:"Guardar"}},[t._v(" Guardar ")])],1)],1)],1),a("b-table",{attrs:{items:t.array_observaciones,fields:t.columnas_observaciones,striped:"",bordered:"",small:"","show-empty":"","empty-text":"No hay observaciones que mostrar.","primary-key":"id"},scopedSlots:t._u([{key:"cell(acciones)",fn:function(e){return[a("b-button",{staticClass:"mr-1",attrs:{variant:"warning",size:"sm",title:"Editar"},on:{click:function(a){return t.editarObservaciones(e.item)}}},[a("b-icon",{attrs:{icon:"pencil-square"}})],1),a("b-button",{attrs:{variant:"danger",size:"sm",title:"Eliminar"},on:{click:function(a){return t.eliminarObservaciones(e.item.id)}}},[a("b-icon",{attrs:{icon:"trash"}})],1)]}}])}),t.errors.length?a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[a("ul",t._l(t.errors,(function(e,i){return a("li",{key:i},[t._v(t._s(e))])})),0)]):t._e()],1)},Z=[],tt={name:"observaciones",props:{ruta:Object},data:function(){return{url:this.$root.API_URL,usuario:this.$store.getters.getUsuario,procedimiento:this.$store.getters.getProcedimiento,expediente:this.$store.getters.getExpediente,columnas_observaciones:[{key:"descripcion",label:"Observaciones"},{key:"acciones",label:"Acciones",class:"text-center"}],observacion:{id:null,descripcion:""},array_observaciones:[],errors:[]}},filters:{capitalize:function(t){return t?(t=t.toString(),t.charAt(0).toUpperCase()+t.slice(1)):""}},created:function(){this.getObservaciones()},methods:{cantidadObservaciones:function(){return this.array_observaciones.length},editarObservaciones:function(t){this.observacion=Object.assign({},t)},guardarObservaciones:function(){null==this.observacion.id?this.registrarObservaciones():this.actualizarObservaciones()},getObservaciones:function(){var t=this,e=new FormData;e.append("idexpediente",this.expediente.id),e.append("idusuario",this.usuario.id),e.append("idprocedimiento",this.procedimiento.id),this.axios.post("".concat(this.url,"/Observaciones/show"),e).then((function(e){e.data.error?console.log(e.data.message):t.array_observaciones=e.data.array_observaciones}))},registrarObservaciones:function(){var t=this;if(this.errors=[],this.observacion.descripcion.length<30)this.errors.push("Debe ingresar al menos 30 caracteres.");else{var e=new FormData;e.append("idexpediente",this.expediente.id),e.append("idprocedimiento",this.procedimiento.id),e.append("idusuario",this.usuario.id),e.append("idruta",this.ruta.id),e.append("descripcion",this.observacion.descripcion),this.axios.post("".concat(this.url,"/Observaciones/store"),e).then((function(e){t.resetearValores(),e.data.error?t.$root.errorAlert(e.data.message):(t.$root.successAlert(e.data.message),t.getObservaciones())}))}},actualizarObservaciones:function(){var t=this;if(this.errors=[],this.observacion.descripcion.length<30)this.errors.push("Debe ingresar al menos 30 caracteres.");else{var e=new FormData;e.append("id",this.observacion.id),e.append("descripcion",this.observacion.descripcion),this.axios.post("".concat(this.url,"/Observaciones/update"),e).then((function(e){t.resetearValores(),e.data.error?t.$root.errorAlert(e.data.message):(t.$root.successAlert(e.data.message),t.getObservaciones())}))}},eliminarObservaciones:function(t){var e=this,a=new FormData;a.append("id",t),this.$bvModal.msgBoxConfirm("¿Seguro que quieres eliminar estas observaciones?",{title:"Eliminar observaciones",okVariant:"danger",okTitle:"Eliminar",cancelTitle:"Cancelar",centered:!0}).then((function(t){t&&e.axios.post("".concat(e.url,"/Observaciones/delete"),a).then((function(t){e.resetearValores(),t.data.error?e.$root.errorAlert(t.data.message):(e.$root.successAlert(t.data.message),e.getObservaciones())}))}))},resetearValores:function(){this.observacion.id=null,this.observacion.descripcion=""}}},et=tt,at=(a("2240"),Object(b["a"])(et,Y,Z,!1,null,"4e83fc72",null)),it=at.exports,rt={name:"derivado-rechazar",props:{ruta:Object,movimiento:Object},components:{observaciones:it,movimiento_expediente:f},data:function(){return{url:this.$root.API_URL,tabIndex:0,tabIndex2:0,errors:[]}},computed:{existeRecursoRutaVecinas:function(){return this.$store.state.rutaVecinaActiva}},created:function(){this.$store.dispatch("verificarRecursoRutasVecinas",this.ruta.id)},methods:{prevTab:function(){this.errors=[],this.tabIndex2--,this.tabIndex--},nextTab:function(){this.errors=[];var t=!1;0==this.tabIndex&&(t=this.validarTab1()),t&&(this.tabIndex2++,this.$nextTick((function(){this.tabIndex++})))},validarTab1:function(){return 0==this.$refs.observaciones.cantidadObservaciones()&&this.errors.push("Debe registrar observaciones para el expediente seleccionado."),!this.errors.length}}},ot=rt,st=(a("2461"),a("41a7"),Object(b["a"])(ot,Q,W,!1,null,"67184fbc",null)),nt=st.exports,ct={name:"index",props:{movimiento:Object},components:{derivado_aprobar:K,derivado_rechazar:nt},data:function(){return{url:this.$root.API_URL,ruta_seleccionada:null,estados:this.$root.estados}},filters:{capitalize:function(t){return t?(t=t.toString(),t.charAt(0).toUpperCase()+t.slice(1)):""}},computed:{array_ruta:function(){return this.$store.state.rutas}},created:function(){this.$store.dispatch("getRutas")},methods:{}},dt=ct,lt=(a("9253"),Object(b["a"])(dt,M,G,!1,null,"4a3e2536",null)),ut=lt.exports,mt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return null!=t.movimiento?a("div",[a("div",{staticClass:"row justify-content-center mb-1"},[a("fieldset",{staticClass:"col-8 col-md-6 px-3"},[a("legend",[t._v("Elija una opción:")]),a("div",{staticClass:"row justify-content-center"},[t._l(t.array_ruta,(function(e,i){return[a("b-form-radio",{key:i,staticClass:"m-2",attrs:{value:e,button:"",name:"acciones","button-variant":"outline-primary"},model:{value:t.ruta_seleccionada,callback:function(e){t.ruta_seleccionada=e},expression:"ruta_seleccionada"}},[t._v(" "+t._s(t._f("capitalize")(e.etiqueta))+" Expediente ")])]}))],2)])]),"derivado"==t.estados[t.movimiento.etiqueta]&&null!=t.ruta_seleccionada?["aprobar"==t.ruta_seleccionada.etiqueta?a("derivado_aprobar",{attrs:{ruta:t.ruta_seleccionada,movimiento:t.movimiento}}):t._e(),"observar"==t.ruta_seleccionada.etiqueta?a("derivado_observar",{attrs:{ruta:t.ruta_seleccionada,movimiento:t.movimiento}}):t._e()]:t._e()],2):t._e()},bt=[],pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-card",[t.existeRecursoRutaVecinas?[a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[a("ul",[a("li",[t._v("Debe deshacer las acciones realizadas en otras opciones de este procedimiento")])])])]:[a("b-card",{attrs:{"no-body":""}},[a("b-tabs",{staticStyle:{"min-height":"250px"},attrs:{card:"","active-nav-item-class":"font-weight-bold text-uppercase text-danger"},model:{value:t.tabIndex,callback:function(e){t.tabIndex=e},expression:"tabIndex"}},[a("b-tab",{attrs:{title:"1. "+t.ruta.etiqueta.charAt(0).toUpperCase()+t.ruta.etiqueta.slice(1)+" expediente","title-item-class":"disabledTab",disabled:t.tabIndex2<0}},[a("movimiento_expediente",{attrs:{movimiento:t.movimiento,ruta:t.ruta}})],1)],1)],1),a("div",{staticClass:"text-center"},[a("b-button-group",{staticClass:"mt-3"},[a("b-button",{staticClass:"mr-1",attrs:{disabled:0==t.tabIndex},on:{click:t.prevTab}},[t._v("Anterior")]),a("b-button",{attrs:{disabled:0==t.tabIndex},on:{click:t.nextTab}},[t._v("Siguiente")])],1)],1)]],2)},ft=[],ht={name:"derivado-aprobar",props:{ruta:Object,movimiento:Object},components:{movimiento_expediente:f},data:function(){return{url:this.$root.API_URL,tabIndex:0,tabIndex2:0,errors:[]}},computed:{existeRecursoRutaVecinas:function(){return this.$store.state.rutaVecinaActiva}},created:function(){this.$store.dispatch("verificarRecursoRutasVecinas",this.ruta.id)},methods:{prevTab:function(){this.errors=[],this.tabIndex2--,this.tabIndex--},nextTab:function(){this.errors=[];var t=!1;t&&(this.tabIndex2++,this.$nextTick((function(){this.tabIndex++})))}}},vt=ht,_t=(a("2796"),a("fe50"),Object(b["a"])(vt,pt,ft,!1,null,"7e5c6692",null)),xt=_t.exports,gt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-card",[t.existeRecursoRutaVecinas?[a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[a("ul",[a("li",[t._v("Debe deshacer las acciones realizadas en otras opciones de este procedimiento")])])])]:[a("b-card",{attrs:{"no-body":""}},[a("b-tabs",{staticStyle:{"min-height":"250px"},attrs:{card:"","active-nav-item-class":"font-weight-bold text-uppercase text-danger"},model:{value:t.tabIndex,callback:function(e){t.tabIndex=e},expression:"tabIndex"}},[a("b-tab",{attrs:{title:"1. Añadir observaciones","title-item-class":"disabledTab",disabled:t.tabIndex2<0}},[a("observaciones",{ref:"observaciones",attrs:{ruta:t.ruta}}),t.errors.length?a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[a("ul",t._l(t.errors,(function(e,i){return a("li",{key:i},[t._v(t._s(e))])})),0)]):t._e()],1),a("b-tab",{attrs:{title:"2. "+t.ruta.etiqueta.charAt(0).toUpperCase()+t.ruta.etiqueta.slice(1)+" expediente","title-item-class":"disabledTab",disabled:t.tabIndex2<1}},[a("movimiento_expediente",{attrs:{movimiento:t.movimiento,ruta:t.ruta}})],1)],1)],1),a("div",{staticClass:"text-center"},[a("b-button-group",{staticClass:"mt-3"},[a("b-button",{staticClass:"mr-1",attrs:{disabled:0==t.tabIndex},on:{click:t.prevTab}},[t._v("Anterior")]),a("b-button",{attrs:{disabled:1==t.tabIndex},on:{click:t.nextTab}},[t._v("Siguiente")])],1)],1)]],2)},yt=[],Ct={name:"derivado-observar",props:{ruta:Object,movimiento:Object},components:{observaciones:it,movimiento_expediente:f},data:function(){return{url:this.$root.API_URL,tabIndex:0,tabIndex2:0,errors:[]}},computed:{existeRecursoRutaVecinas:function(){return this.$store.state.rutaVecinaActiva}},created:function(){this.$store.dispatch("verificarRecursoRutasVecinas",this.ruta.id)},methods:{prevTab:function(){this.errors=[],this.tabIndex2--,this.tabIndex--},nextTab:function(){this.errors=[];var t=!1;0==this.tabIndex&&(t=this.validarTab1()),t&&(this.tabIndex2++,this.$nextTick((function(){this.tabIndex++})))},validarTab1:function(){return 0==this.$refs.observaciones.cantidadObservaciones()&&this.errors.push("Debe registrar observaciones para el expediente seleccionado."),!this.errors.length}}},It=Ct,$t=(a("6dc7"),a("901a"),Object(b["a"])(It,gt,yt,!1,null,"1d5d9433",null)),At=$t.exports,kt={name:"index",props:{movimiento:Object},components:{derivado_aprobar:xt,derivado_observar:At},data:function(){return{url:this.$root.API_URL,ruta_seleccionada:null,estados:this.$root.estados}},filters:{capitalize:function(t){return t?(t=t.toString(),t.charAt(0).toUpperCase()+t.slice(1)):""}},computed:{array_ruta:function(){return this.$store.state.rutas}},created:function(){this.$store.dispatch("getRutas")},methods:{}},wt=kt,Rt=(a("c7e9"),Object(b["a"])(wt,mt,bt,!1,null,"4e5b3c82",null)),jt=Rt.exports,Tt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return null!=t.movimiento?a("div",[a("div",{staticClass:"row justify-content-center mb-1"},[a("fieldset",{staticClass:"col-10 col-md-8 px-3"},[a("legend",[t._v("Elija una opción:")]),a("div",{staticClass:"row justify-content-center"},[t._l(t.array_ruta,(function(e,i){return[a("b-form-radio",{key:i,staticClass:"m-2",attrs:{value:e,button:"",name:"acciones","button-variant":"outline-primary"},model:{value:t.ruta_seleccionada,callback:function(e){t.ruta_seleccionada=e},expression:"ruta_seleccionada"}},[t._v(" "+t._s(t._f("capitalize")(e.etiqueta))+" Expediente ")])]}))],2)])]),"aprobado"!=t.estados[t.movimiento.etiqueta]&&"enviado"!=t.estados[t.movimiento.etiqueta]||null==t.ruta_seleccionada?t._e():["aprobar"==t.ruta_seleccionada.etiqueta?a("aprobado_enviado_aprobar",{attrs:{ruta:t.ruta_seleccionada,movimiento:t.movimiento}}):t._e(),"denegar"==t.ruta_seleccionada.etiqueta?a("aprobado_enviado_denegar",{attrs:{ruta:t.ruta_seleccionada,movimiento:t.movimiento}}):t._e(),"rechazar"==t.ruta_seleccionada.etiqueta?a("aprobado_enviado_rechazar",{attrs:{ruta:t.ruta_seleccionada,movimiento:t.movimiento}}):t._e()]],2):t._e()},Pt=[],Et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-card",[t.existeRecursoRutaVecinas?[a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[a("ul",[a("li",[t._v("Debe deshacer las acciones realizadas en otras opciones de este procedimiento")])])])]:[a("b-card",{attrs:{"no-body":""}},[a("b-tabs",{staticStyle:{"min-height":"250px"},attrs:{card:"","active-nav-item-class":"font-weight-bold text-uppercase text-danger"},model:{value:t.tabIndex,callback:function(e){t.tabIndex=e},expression:"tabIndex"}},[a("b-tab",{attrs:{title:"1. "+t.ruta.etiqueta.charAt(0).toUpperCase()+t.ruta.etiqueta.slice(1)+" expediente","title-item-class":"disabledTab",disabled:t.tabIndex2<0}},[a("movimiento_expediente",{attrs:{movimiento:t.movimiento,ruta:t.ruta}})],1)],1)],1),a("div",{staticClass:"text-center"},[a("b-button-group",{staticClass:"mt-3"},[a("b-button",{staticClass:"mr-1",attrs:{disabled:0==t.tabIndex},on:{click:t.prevTab}},[t._v("Anterior")]),a("b-button",{attrs:{disabled:0==t.tabIndex},on:{click:t.nextTab}},[t._v("Siguiente")])],1)],1)]],2)},Ot=[],Dt={name:"aprobado-aprobar",props:{ruta:Object,movimiento:Object},components:{movimiento_expediente:f},data:function(){return{url:this.$root.API_URL,tabIndex:0,tabIndex2:0,errors:[]}},computed:{existeRecursoRutaVecinas:function(){return this.$store.state.rutaVecinaActiva}},created:function(){this.$store.dispatch("verificarRecursoRutasVecinas",this.ruta.id)},methods:{prevTab:function(){this.errors=[],this.tabIndex2--,this.tabIndex--},nextTab:function(){this.errors=[];var t=!1;t&&(this.tabIndex2++,this.$nextTick((function(){this.tabIndex++})))}}},St=Dt,Ut=(a("e14c"),a("f1fe"),Object(b["a"])(St,Et,Ot,!1,null,"dcd788b2",null)),qt=Ut.exports,Vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-card",[t.existeRecursoRutaVecinas?[a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[a("ul",[a("li",[t._v("Debe deshacer las acciones realizadas en otras opciones de este procedimiento")])])])]:[a("b-card",{attrs:{"no-body":""}},[a("b-tabs",{staticStyle:{"min-height":"250px"},attrs:{card:"","active-nav-item-class":"font-weight-bold text-uppercase text-danger"},model:{value:t.tabIndex,callback:function(e){t.tabIndex=e},expression:"tabIndex"}},[a("b-tab",{attrs:{title:"1. Añadir observaciones","title-item-class":"disabledTab",disabled:t.tabIndex2<0}},[a("observaciones",{ref:"observaciones",attrs:{ruta:t.ruta}}),t.errors.length?a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[a("ul",t._l(t.errors,(function(e,i){return a("li",{key:i},[t._v(t._s(e))])})),0)]):t._e()],1),a("b-tab",{attrs:{title:"2. "+t.ruta.etiqueta.charAt(0).toUpperCase()+t.ruta.etiqueta.slice(1)+" expediente","title-item-class":"disabledTab",disabled:t.tabIndex2<1}},[a("movimiento_expediente",{attrs:{movimiento:t.movimiento,ruta:t.ruta}})],1)],1)],1),a("div",{staticClass:"text-center"},[a("b-button-group",{staticClass:"mt-3"},[a("b-button",{staticClass:"mr-1",attrs:{disabled:0==t.tabIndex},on:{click:t.prevTab}},[t._v("Anterior")]),a("b-button",{attrs:{disabled:1==t.tabIndex},on:{click:t.nextTab}},[t._v("Siguiente")])],1)],1)]],2)},zt=[],Lt={name:"aprobado-denegar",props:{ruta:Object,movimiento:Object},components:{observaciones:it,movimiento_expediente:f},data:function(){return{url:this.$root.API_URL,tabIndex:0,tabIndex2:0,errors:[]}},computed:{existeRecursoRutaVecinas:function(){return this.$store.state.rutaVecinaActiva}},created:function(){this.$store.dispatch("verificarRecursoRutasVecinas",this.ruta.id)},methods:{prevTab:function(){this.errors=[],this.tabIndex2--,this.tabIndex--},nextTab:function(){this.errors=[];var t=!1;0==this.tabIndex&&(t=this.validarTab1()),t&&(this.tabIndex2++,this.$nextTick((function(){this.tabIndex++})))},validarTab1:function(){return 0==this.$refs.observaciones.cantidadObservaciones()&&this.errors.push("Debe registrar observaciones para el expediente seleccionado."),!this.errors.length}}},Ft=Lt,Mt=(a("fb20"),a("eae2"),Object(b["a"])(Ft,Vt,zt,!1,null,"7b75b8ba",null)),Gt=Mt.exports,Nt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-card",[t.existeRecursoRutaVecinas?[a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[a("ul",[a("li",[t._v("Debe deshacer las acciones realizadas en otras opciones de este procedimiento")])])])]:[a("b-card",{attrs:{"no-body":""}},[a("b-tabs",{staticStyle:{"min-height":"250px"},attrs:{card:"","active-nav-item-class":"font-weight-bold text-uppercase text-danger"},model:{value:t.tabIndex,callback:function(e){t.tabIndex=e},expression:"tabIndex"}},[a("b-tab",{attrs:{title:"1. Añadir observaciones","title-item-class":"disabledTab",disabled:t.tabIndex2<0}},[a("observaciones",{ref:"observaciones",attrs:{ruta:t.ruta}}),t.errors.length?a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[a("ul",t._l(t.errors,(function(e,i){return a("li",{key:i},[t._v(t._s(e))])})),0)]):t._e()],1),a("b-tab",{attrs:{title:"2. "+t.ruta.etiqueta.charAt(0).toUpperCase()+t.ruta.etiqueta.slice(1)+" expediente","title-item-class":"disabledTab",disabled:t.tabIndex2<1}},[a("movimiento_expediente",{attrs:{movimiento:t.movimiento,ruta:t.ruta}})],1)],1)],1),a("div",{staticClass:"text-center"},[a("b-button-group",{staticClass:"mt-3"},[a("b-button",{staticClass:"mr-1",attrs:{disabled:0==t.tabIndex},on:{click:t.prevTab}},[t._v("Anterior")]),a("b-button",{attrs:{disabled:1==t.tabIndex},on:{click:t.nextTab}},[t._v("Siguiente")])],1)],1)]],2)},Bt=[],Jt={name:"aprobado-rechazar",props:{ruta:Object,movimiento:Object},components:{observaciones:it,movimiento_expediente:f},data:function(){return{url:this.$root.API_URL,tabIndex:0,tabIndex2:0,errors:[]}},computed:{existeRecursoRutaVecinas:function(){return this.$store.state.rutaVecinaActiva}},created:function(){this.$store.dispatch("verificarRecursoRutasVecinas",this.ruta.id)},methods:{prevTab:function(){this.errors=[],this.tabIndex2--,this.tabIndex--},nextTab:function(){this.errors=[];var t=!1;0==this.tabIndex&&(t=this.validarTab1()),t&&(this.tabIndex2++,this.$nextTick((function(){this.tabIndex++})))},validarTab1:function(){return 0==this.$refs.observaciones.cantidadObservaciones()&&this.errors.push("Debe registrar observaciones para el expediente seleccionado."),!this.errors.length}}},Ht=Jt,Xt=(a("7813"),a("331a"),Object(b["a"])(Ht,Nt,Bt,!1,null,"52c64769",null)),Kt=Xt.exports,Qt={name:"index",props:{movimiento:Object},components:{aprobado_enviado_aprobar:qt,aprobado_enviado_denegar:Gt,aprobado_enviado_rechazar:Kt},data:function(){return{url:this.$root.API_URL,ruta_seleccionada:null,estados:this.$root.estados}},filters:{capitalize:function(t){return t?(t=t.toString(),t.charAt(0).toUpperCase()+t.slice(1)):""}},computed:{array_ruta:function(){return this.$store.state.rutas}},created:function(){this.$store.dispatch("getRutas")},methods:{}},Wt=Qt,Yt=(a("7cec"),Object(b["a"])(Wt,Tt,Pt,!1,null,"51f5bee8",null)),Zt=Yt.exports,te=function(){var t=this,e=t.$createElement,a=t._self._c||e;return null!=t.movimiento?a("div",[a("div",{staticClass:"row justify-content-center mb-1"},[a("fieldset",{staticClass:"col-8 col-md-6 px-3"},[a("legend",[t._v("Elija una opción:")]),a("div",{staticClass:"row justify-content-center"},[t._l(t.array_ruta,(function(e,i){return[a("b-form-radio",{key:i,staticClass:"m-2",attrs:{value:e,button:"",name:"acciones","button-variant":"outline-primary"},model:{value:t.ruta_seleccionada,callback:function(e){t.ruta_seleccionada=e},expression:"ruta_seleccionada"}},[t._v(" "+t._s(t._f("capitalize")(e.etiqueta))+" Expediente ")])]}))],2)])]),"derivado"==t.estados[t.movimiento.etiqueta]&&null!=t.ruta_seleccionada?["derivar"==t.ruta_seleccionada.etiqueta?a("derivado_derivar",{attrs:{ruta:t.ruta_seleccionada,movimiento:t.movimiento}}):t._e()]:t._e()],2):t._e()},ee=[],ae=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-card",[t.existeRecursoRutaVecinas?[a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[a("ul",[a("li",[t._v("Debe deshacer las acciones realizadas en otras opciones de este procedimiento")])])])]:[a("b-card",{attrs:{"no-body":""}},[a("b-tabs",{staticStyle:{"min-height":"250px"},attrs:{card:"","active-nav-item-class":"font-weight-bold text-uppercase text-danger",lazy:""},model:{value:t.tabIndex,callback:function(e){t.tabIndex=e},expression:"tabIndex"}},[a("b-tab",{attrs:{title:"1. Información de dictamen","title-item-class":"disabledTab",disabled:t.tabIndex2<0}},[a("b-row",[a("b-col",[a("b-form-group",{attrs:{label:"Fecha de sesión de jurado:","label-for":"input-1"}},[a("b-form-input",{staticClass:"text-center",attrs:{id:"input-1",readonly:""},model:{value:t.expediente.fecha_sesion_jurado,callback:function(e){t.$set(t.expediente,"fecha_sesion_jurado",e)},expression:"expediente.fecha_sesion_jurado"}})],1)],1),a("b-col",[a("b-form-group",{attrs:{label:"Fecha de sustentación:","label-for":"input-2"}},[a("b-form-input",{staticClass:"text-center",attrs:{id:"input-2",readonly:""},model:{value:t.expediente.fecha_sustentacion,callback:function(e){t.$set(t.expediente,"fecha_sustentacion",e)},expression:"expediente.fecha_sustentacion"}})],1)],1),a("b-col",[a("b-form-group",{attrs:{label:"Hora de sustentación:","label-for":"input-3"}},[a("b-form-input",{staticClass:"text-center",attrs:{id:"input-3",readonly:""},model:{value:t.expediente.hora_sustentacion,callback:function(e){t.$set(t.expediente,"hora_sustentacion",e)},expression:"expediente.hora_sustentacion"}})],1)],1)],1),a("info_acta_dictamen",{attrs:{fecha_sesion_jurado:t.expediente.fecha_sesion_jurado,fecha_sustentacion:t.expediente.fecha_sustentacion,hora_sustentacion:t.expediente.hora_sustentacion}}),a("br"),t.errors.length?a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[a("ul",t._l(t.errors,(function(e,i){return a("li",{key:i},[t._v(t._s(e))])})),0)]):t._e()],1),a("b-tab",{attrs:{title:"2. Generar documento","title-item-class":"disabledTab",disabled:t.tabIndex2<1}},[a("generacion_documento",{ref:"documentos",attrs:{asesor:t.asesor,jurados:t.array_jurado_confirmado,nombre_archivo_pdf:"acta_dictamen.php",boton_nombre:"Acta de dictamen"}})],1),a("b-tab",{attrs:{title:"3. Añadir documento","title-item-class":"disabledTab",disabled:t.tabIndex2<2}},[a("documentos",{ref:"documentos",attrs:{ruta:t.ruta,max_docs:"1",nombre_asignado:"Acta de dictamen"}}),t.errors.length?a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[a("ul",t._l(t.errors,(function(e,i){return a("li",{key:i},[t._v(t._s(e))])})),0)]):t._e()],1),a("b-tab",{attrs:{title:"4. "+t.ruta.etiqueta.charAt(0).toUpperCase()+t.ruta.etiqueta.slice(1)+" expediente","title-item-class":"disabledTab",disabled:t.tabIndex2<3}},[a("movimiento_expediente",{attrs:{movimiento:t.movimiento,ruta:t.ruta}})],1)],1)],1),a("div",{staticClass:"text-center"},[a("b-button-group",{staticClass:"mt-3"},[a("b-button",{staticClass:"mr-1",attrs:{disabled:0==t.tabIndex},on:{click:t.prevTab}},[t._v("Anterior")]),a("b-button",{attrs:{disabled:3==t.tabIndex},on:{click:t.nextTab}},[t._v("Siguiente")])],1)],1)]],2)},ie=[],re=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.info-dictamen",modifiers:{"info-dictamen":!0}}],attrs:{variant:"warning"}},[t._v("Editar")]),a("b-modal",{ref:"modal",attrs:{id:"info-dictamen",title:"INFORMACIÓN DE DICTAMEN",size:"lg"},on:{show:t.setData,hidden:t.resetModal,ok:t.actualizar},scopedSlots:t._u([{key:"modal-footer",fn:function(e){var i=e.ok,r=e.cancel;return[a("b-button",{attrs:{size:"sm",variant:"danger"},on:{click:function(t){return r()}}},[t._v("Cancelar")]),a("b-button",{attrs:{size:"sm",variant:"success"},on:{click:function(t){return i()}}},[t._v("Actualizar")])]}}])},[a("form",{ref:"form"},[a("b-row",[a("b-col",[a("b-form-group",{attrs:{label:"Fecha sesión jurado:"}},[a("b-form-datepicker",{staticClass:"mb-2",model:{value:t.info_dictamen.fecha_sesion_jurado,callback:function(e){t.$set(t.info_dictamen,"fecha_sesion_jurado",e)},expression:"info_dictamen.fecha_sesion_jurado"}})],1)],1),a("b-col",[a("b-form-group",{attrs:{label:"Fecha sustentación:"}},[a("b-form-datepicker",{staticClass:"mb-2",model:{value:t.info_dictamen.fecha_sustentacion,callback:function(e){t.$set(t.info_dictamen,"fecha_sustentacion",e)},expression:"info_dictamen.fecha_sustentacion"}})],1)],1)],1),a("b-row",{staticClass:"justify-content-lg-center"},[a("b-col",{attrs:{lg:"3"}},[a("b-form-group",{attrs:{label:"Hora sustentación:"}},[a("b-time",{attrs:{locale:"en"},model:{value:t.info_dictamen.hora_sustentacion,callback:function(e){t.$set(t.info_dictamen,"hora_sustentacion",e)},expression:"info_dictamen.hora_sustentacion"}})],1)],1)],1)],1)])],1)},oe=[],se={name:"info-acta-dictamen",props:{fecha_sesion_jurado:String,fecha_sustentacion:String,hora_sustentacion:String},data:function(){return{url:this.$root.API_URL,expediente:this.$store.getters.getExpediente,info_dictamen:{fecha_sesion_jurado:"",fecha_sustentacion:"",hora_sustentacion:""}}},methods:{setData:function(){this.info_dictamen.fecha_sesion_jurado=this.fecha_sesion_jurado,this.info_dictamen.fecha_sustentacion=this.fecha_sustentacion,this.info_dictamen.hora_sustentacion=this.hora_sustentacion},resetModal:function(){this.info_dictamen.fecha_sesion_jurado="",this.info_dictamen.fecha_sustentacion="",this.info_dictamen.hora_sustentacion=""},actualizar:function(){var t=this,e=new FormData;e.append("idexpediente",this.expediente.id),e.append("fecha_sesion_jurado",this.info_dictamen.fecha_sesion_jurado),e.append("fecha_sustentacion",this.info_dictamen.fecha_sustentacion),e.append("hora_sustentacion",this.info_dictamen.hora_sustentacion),this.axios.post("".concat(this.url,"/Expediente/upd_tp_st_acta_dictamen"),e).then((function(e){e.data.error?t.$root.errorAlert(e.data.message):(t.$root.successAlert(e.data.message),t.getExpediente()),t.$nextTick((function(){t.$bvModal.hide("info-dictamen")}))}))},getExpediente:function(){var t=this,e=new FormData;e.append("idexpediente",this.expediente.id),this.axios.post("".concat(this.url,"/Expediente/getExpById"),e).then((function(e){e.data.error?console.log(e.data.message):(t.expediente=e.data.expediente,t.$store.dispatch("setExpediente",t.expediente))}))}}},ne=se,ce=Object(b["a"])(ne,re,oe,!1,null,null,null),de=ce.exports,le={name:"derivado-derivar",props:{ruta:Object,movimiento:Object},components:{info_acta_dictamen:de,generacion_documento:w,documentos:O,movimiento_expediente:f},data:function(){return{url:this.$root.API_URL,tabIndex:0,tabIndex2:0,array_jurado_confirmado:[],asesor:null,modalShow:!1,errors:[]}},computed:{existeRecursoRutaVecinas:function(){return this.$store.state.rutaVecinaActiva},expediente:function(){return this.$store.state.expediente}},created:function(){this.$store.dispatch("verificarRecursoRutasVecinas",this.ruta.id),this.getJuradosConfirmados(),this.getAsesor()},methods:{prevTab:function(){this.errors=[],this.tabIndex2--,this.tabIndex--},nextTab:function(){this.errors=[];var t=!1;0==this.tabIndex&&(t=this.validarTab0()),1==this.tabIndex&&(t=!0),2==this.tabIndex&&(t=this.validarTab2()),t&&(this.tabIndex2++,this.$nextTick((function(){this.tabIndex++})))},validarTab0:function(){return null!=this.expediente.fecha_sesion_jurado&&null!=this.expediente.fecha_sustentacion&&null!=this.expediente.hora_sustentacion||this.errors.push("Debe ingresar información de dictamen."),!this.errors.length},validarTab2:function(){return 0==this.$refs.documentos.cantidadDocumentos()&&this.errors.push("Debe registrar documentos para el expediente seleccionado."),!this.errors.length},getAsesor:function(){var t=this,e=new FormData;e.append("idexpediente",this.expediente.id),this.axios.post("".concat(this.url,"/Persona/get_asesor_expediente"),e).then((function(e){e.data.error?console.log(e.data.message):t.asesor=e.data.asesor}))},getJuradosConfirmados:function(){var t=this,e=new FormData;e.append("idexpediente",this.expediente.id),this.axios.post("".concat(this.url,"/Persona/jurado_confirmado_expediente"),e).then((function(e){e.data.error?console.log(e.data.message):t.array_jurado_confirmado=e.data.array_jurado_confirmado}))}}},ue=le,me=(a("ab15"),a("b54b"),Object(b["a"])(ue,ae,ie,!1,null,"751b28c8",null)),be=me.exports,pe={name:"index",props:{movimiento:Object},components:{derivado_derivar:be},data:function(){return{url:this.$root.API_URL,ruta_seleccionada:null,estados:this.$root.estados}},filters:{capitalize:function(t){return t?(t=t.toString(),t.charAt(0).toUpperCase()+t.slice(1)):""}},computed:{array_ruta:function(){return this.$store.state.rutas}},created:function(){this.$store.dispatch("getRutas")},methods:{}},fe=pe,he=(a("00ac"),Object(b["a"])(fe,te,ee,!1,null,"85e7df90",null)),ve=he.exports,_e=function(){var t=this,e=t.$createElement,a=t._self._c||e;return null!=t.movimiento?a("div",[a("div",{staticClass:"row justify-content-center mb-1"},[a("fieldset",{staticClass:"col-8 col-md-6 px-3"},[a("legend",[t._v("Elija una opción:")]),a("div",{staticClass:"row justify-content-center"},[t._l(t.array_ruta,(function(e,i){return[a("b-form-radio",{key:i,staticClass:"m-2",attrs:{value:e,button:"",name:"acciones","button-variant":"outline-primary"},model:{value:t.ruta_seleccionada,callback:function(e){t.ruta_seleccionada=e},expression:"ruta_seleccionada"}},[t._v(" "+t._s(t._f("capitalize")(e.etiqueta))+" Expediente ")])]}))],2)])]),"derivado"==t.estados[t.movimiento.etiqueta]&&null!=t.ruta_seleccionada?["aprobar"==t.ruta_seleccionada.etiqueta?a("derivado_aprobar",{attrs:{ruta:t.ruta_seleccionada,movimiento:t.movimiento}}):t._e(),"observar"==t.ruta_seleccionada.etiqueta?a("derivado_observar",{attrs:{ruta:t.ruta_seleccionada,movimiento:t.movimiento}}):t._e()]:t._e()],2):t._e()},xe=[],ge=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-card",[t.existeRecursoRutaVecinas?[a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[a("ul",[a("li",[t._v("Debe deshacer las acciones realizadas en otras opciones de este procedimiento")])])])]:[a("b-card",{attrs:{"no-body":""}},[a("b-tabs",{staticStyle:{"min-height":"250px"},attrs:{card:"","active-nav-item-class":"font-weight-bold text-uppercase text-danger"},model:{value:t.tabIndex,callback:function(e){t.tabIndex=e},expression:"tabIndex"}},[a("b-tab",{attrs:{title:"1. Generar documento","title-item-class":"disabledTab",disabled:t.tabIndex2<0}},[a("generacion_documento",{ref:"documentos",attrs:{asesor:t.asesor,jurados:t.array_jurado_confirmado,nombre_archivo_pdf:"acta_sustentacion.php",boton_nombre:"Acta sustentación"}})],1),a("b-tab",{attrs:{title:"2. Añadir documento","title-item-class":"disabledTab",disabled:t.tabIndex2<1}},[a("documentos",{ref:"documentos",attrs:{ruta:t.ruta,max_docs:"1",nombre_asignado:"Acta de sustentación"}}),t.errors.length?a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[a("ul",t._l(t.errors,(function(e,i){return a("li",{key:i},[t._v(t._s(e))])})),0)]):t._e()],1),a("b-tab",{attrs:{title:"3. "+t.ruta.etiqueta.charAt(0).toUpperCase()+t.ruta.etiqueta.slice(1)+" expediente","title-item-class":"disabledTab",disabled:t.tabIndex2<2}},[a("movimiento_expediente",{attrs:{movimiento:t.movimiento,ruta:t.ruta}})],1)],1)],1),a("div",{staticClass:"text-center"},[a("b-button-group",{staticClass:"mt-3"},[a("b-button",{staticClass:"mr-1",attrs:{disabled:0==t.tabIndex},on:{click:t.prevTab}},[t._v("Anterior")]),a("b-button",{attrs:{disabled:2==t.tabIndex},on:{click:t.nextTab}},[t._v("Siguiente")])],1)],1)]],2)},ye=[],Ce={name:"derivado-aprobar",props:{ruta:Object,movimiento:Object},components:{generacion_documento:w,documentos:O,movimiento_expediente:f},data:function(){return{url:this.$root.API_URL,expediente:this.$store.getters.getExpediente,tabIndex:0,tabIndex2:0,array_jurado_confirmado:[],asesor:null,errors:[]}},computed:{existeRecursoRutaVecinas:function(){return this.$store.state.rutaVecinaActiva}},created:function(){this.$store.dispatch("verificarRecursoRutasVecinas",this.ruta.id),this.getJuradosConfirmados(),this.getAsesor()},methods:{prevTab:function(){this.errors=[],this.tabIndex2--,this.tabIndex--},nextTab:function(){this.errors=[];var t=!1;0==this.tabIndex&&(t=!0),1==this.tabIndex&&(t=this.validarTab1()),t&&(this.tabIndex2++,this.$nextTick((function(){this.tabIndex++})))},validarTab1:function(){return 0==this.$refs.documentos.cantidadDocumentos()&&this.errors.push("Debe registrar documentos para el expediente seleccionado."),!this.errors.length},getAsesor:function(){var t=this,e=new FormData;e.append("idexpediente",this.expediente.id),this.axios.post("".concat(this.url,"/Persona/get_asesor_expediente"),e).then((function(e){e.data.error?console.log(e.data.message):t.asesor=e.data.asesor}))},getJuradosConfirmados:function(){var t=this,e=new FormData;e.append("idexpediente",this.expediente.id),this.axios.post("".concat(this.url,"/Persona/jurado_confirmado_expediente"),e).then((function(e){e.data.error?console.log(e.data.message):t.array_jurado_confirmado=e.data.array_jurado_confirmado}))}}},Ie=Ce,$e=(a("b2c8"),a("0343"),Object(b["a"])(Ie,ge,ye,!1,null,"6d17c45a",null)),Ae=$e.exports,ke=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-card",[t.existeRecursoRutaVecinas?[a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[a("ul",[a("li",[t._v("Debe deshacer las acciones realizadas en otras opciones de este procedimiento")])])])]:[a("b-card",{attrs:{"no-body":""}},[a("b-tabs",{staticStyle:{"min-height":"250px"},attrs:{card:"","active-nav-item-class":"font-weight-bold text-uppercase text-danger"},model:{value:t.tabIndex,callback:function(e){t.tabIndex=e},expression:"tabIndex"}},[a("b-tab",{attrs:{title:"1. Añadir observaciones","title-item-class":"disabledTab",disabled:t.tabIndex2<0}},[a("observaciones",{ref:"observaciones",attrs:{ruta:t.ruta}}),t.errors.length?a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[a("ul",t._l(t.errors,(function(e,i){return a("li",{key:i},[t._v(t._s(e))])})),0)]):t._e()],1),a("b-tab",{attrs:{title:"2. "+t.ruta.etiqueta.charAt(0).toUpperCase()+t.ruta.etiqueta.slice(1)+" expediente","title-item-class":"disabledTab",disabled:t.tabIndex2<1}},[a("movimiento_expediente",{attrs:{movimiento:t.movimiento,ruta:t.ruta}})],1)],1)],1),a("div",{staticClass:"text-center"},[a("b-button-group",{staticClass:"mt-3"},[a("b-button",{staticClass:"mr-1",attrs:{disabled:0==t.tabIndex},on:{click:t.prevTab}},[t._v("Anterior")]),a("b-button",{attrs:{disabled:1==t.tabIndex},on:{click:t.nextTab}},[t._v("Siguiente")])],1)],1)]],2)},we=[],Re={name:"derivado-observar",props:{ruta:Object,movimiento:Object},components:{observaciones:it,movimiento_expediente:f},data:function(){return{url:this.$root.API_URL,tabIndex:0,tabIndex2:0,errors:[]}},computed:{existeRecursoRutaVecinas:function(){return this.$store.state.rutaVecinaActiva}},created:function(){this.$store.dispatch("verificarRecursoRutasVecinas",this.ruta.id)},methods:{prevTab:function(){this.errors=[],this.tabIndex2--,this.tabIndex--},nextTab:function(){this.errors=[];var t=!1;0==this.tabIndex&&(t=this.validarTab1()),t&&(this.tabIndex2++,this.$nextTick((function(){this.tabIndex++})))},validarTab1:function(){return 0==this.$refs.observaciones.cantidadObservaciones()&&this.errors.push("Debe registrar observaciones para el expediente seleccionado."),!this.errors.length}}},je=Re,Te=(a("36fc"),a("c4e7"),Object(b["a"])(je,ke,we,!1,null,"61fc799e",null)),Pe=Te.exports,Ee={name:"index",props:{movimiento:Object},components:{derivado_aprobar:Ae,derivado_observar:Pe},data:function(){return{url:this.$root.API_URL,ruta_seleccionada:null,estados:this.$root.estados}},filters:{capitalize:function(t){return t?(t=t.toString(),t.charAt(0).toUpperCase()+t.slice(1)):""}},computed:{array_ruta:function(){return this.$store.state.rutas}},created:function(){this.$store.dispatch("getRutas")},methods:{}},Oe=Ee,De=(a("d2b8"),Object(b["a"])(Oe,_e,xe,!1,null,"45c47f5a",null)),Se=De.exports,Ue=function(){var t=this,e=t.$createElement,a=t._self._c||e;return null!=t.movimiento?a("div",[a("div",{staticClass:"row justify-content-center mb-1"},[a("fieldset",{staticClass:"col-8 col-md-6 px-3"},[a("legend",[t._v("Elija una opción:")]),a("div",{staticClass:"row justify-content-center"},[t._l(t.array_ruta,(function(e,i){return[a("b-form-radio",{key:i,staticClass:"m-2",attrs:{value:e,button:"",name:"acciones","button-variant":"outline-primary"},model:{value:t.ruta_seleccionada,callback:function(e){t.ruta_seleccionada=e},expression:"ruta_seleccionada"}},[t._v(" "+t._s(t._f("capitalize")(e.etiqueta))+" Expediente ")])]}))],2)])]),"aprobado"==t.estados[t.movimiento.etiqueta]&&null!=t.ruta_seleccionada||"enviado"==t.estados[t.movimiento.etiqueta]&&null!=t.ruta_seleccionada?["derivar"==t.ruta_seleccionada.etiqueta?a("aprobado_enviado_derivar",{attrs:{ruta:t.ruta_seleccionada,movimiento:t.movimiento}}):t._e()]:t._e()],2):t._e()},qe=[],Ve=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-card",[t.existeRecursoRutaVecinas?[a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[a("ul",[a("li",[t._v("Debe deshacer las acciones realizadas en otras opciones de este procedimiento")])])])]:[a("b-card",{attrs:{"no-body":""}},[a("b-tabs",{staticStyle:{"min-height":"250px"},attrs:{card:"","active-nav-item-class":"font-weight-bold text-uppercase text-danger"},model:{value:t.tabIndex,callback:function(e){t.tabIndex=e},expression:"tabIndex"}},[a("b-tab",{attrs:{title:"1. Generar documento","title-item-class":"disabledTab",disabled:t.tabIndex2<0}},[a("generacion_documento",{ref:"documentos",attrs:{asesor:t.asesor,jurados:t.array_jurado_confirmado,nombre_archivo_pdf:"acta_conformidad_redaccion_tesis.php",boton_nombre:"Acta conformidad redacción"}})],1),a("b-tab",{attrs:{title:"2. Añadir documento","title-item-class":"disabledTab",disabled:t.tabIndex2<1}},[a("documentos",{ref:"documentos",attrs:{ruta:t.ruta,max_docs:"1",nombre_asignado:"Acta de conformidad de redacción de tesis"}}),t.errors.length?a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[a("ul",t._l(t.errors,(function(e,i){return a("li",{key:i},[t._v(t._s(e))])})),0)]):t._e()],1),a("b-tab",{attrs:{title:"3. "+t.ruta.etiqueta.charAt(0).toUpperCase()+t.ruta.etiqueta.slice(1)+" expediente","title-item-class":"disabledTab",disabled:t.tabIndex2<2}},[a("movimiento_expediente",{attrs:{movimiento:t.movimiento,ruta:t.ruta}})],1)],1)],1),a("div",{staticClass:"text-center"},[a("b-button-group",{staticClass:"mt-3"},[a("b-button",{staticClass:"mr-1",attrs:{disabled:0==t.tabIndex},on:{click:t.prevTab}},[t._v("Anterior")]),a("b-button",{attrs:{disabled:2==t.tabIndex},on:{click:t.nextTab}},[t._v("Siguiente")])],1)],1)]],2)},ze=[],Le={name:"aprobado-derivar",props:{ruta:Object,movimiento:Object},components:{generacion_documento:w,documentos:O,movimiento_expediente:f},data:function(){return{url:this.$root.API_URL,expediente:this.$store.getters.getExpediente,tabIndex:0,tabIndex2:0,array_jurado_confirmado:[],asesor:null,errors:[]}},computed:{existeRecursoRutaVecinas:function(){return this.$store.state.rutaVecinaActiva}},created:function(){this.$store.dispatch("verificarRecursoRutasVecinas",this.ruta.id),this.getJuradosConfirmados(),this.getAsesor()},methods:{prevTab:function(){this.errors=[],this.tabIndex2--,this.tabIndex--},nextTab:function(){this.errors=[];var t=!1;0==this.tabIndex&&(t=!0),1==this.tabIndex&&(t=this.validarTab1()),t&&(this.tabIndex2++,this.$nextTick((function(){this.tabIndex++})))},validarTab1:function(){return 0==this.$refs.documentos.cantidadDocumentos()&&this.errors.push("Debe registrar documentos para el expediente seleccionado."),!this.errors.length},getAsesor:function(){var t=this,e=new FormData;e.append("idexpediente",this.expediente.id),this.axios.post("".concat(this.url,"/Persona/get_asesor_expediente"),e).then((function(e){e.data.error?console.log(e.data.message):t.asesor=e.data.asesor}))},getJuradosConfirmados:function(){var t=this,e=new FormData;e.append("idexpediente",this.expediente.id),this.axios.post("".concat(this.url,"/Persona/jurado_confirmado_expediente"),e).then((function(e){e.data.error?console.log(e.data.message):t.array_jurado_confirmado=e.data.array_jurado_confirmado}))}}},Fe=Le,Me=(a("188d"),a("49d4"),Object(b["a"])(Fe,Ve,ze,!1,null,"b03df9c2",null)),Ge=Me.exports,Ne={name:"index",props:{movimiento:Object},components:{aprobado_enviado_derivar:Ge},data:function(){return{url:this.$root.API_URL,ruta_seleccionada:null,estados:this.$root.estados}},filters:{capitalize:function(t){return t?(t=t.toString(),t.charAt(0).toUpperCase()+t.slice(1)):""}},computed:{array_ruta:function(){return this.$store.state.rutas}},created:function(){this.$store.dispatch("getRutas")},methods:{}},Be=Ne,Je=(a("1299"),Object(b["a"])(Be,Ue,qe,!1,null,"38531564",null)),He=Je.exports,Xe={name:"tituloprofesional-sustentaciontesis",props:{idexpediente:String},components:{resolver_asignacion_asesoria_proyecto:F,dar_conformidad_asesoramiento_proyecto:ut,revisar_documentacion_proyecto:jt,dictaminar_aprobacion_proyecto:Zt,emitir_acta_dictamen:ve,dictaminar_resultado_sustentacion:Se,emitir_acta_conformidad_redaccion_trabajo:He},data:function(){return{url:this.$root.API_URL,url_show_file:"".concat(this.$root.API_URL,"/utils/show_file.php"),usuario:this.$store.getters.getUsuario,grado_modalidad:this.$store.getters.getGradoModalidad,procedimiento:this.$store.getters.getProcedimiento,expediente:{},graduando:{},movimiento:{},estados:this.$root.estados,color_acciones:this.$root.color_acciones,array_archivo:[],array_archivo_ultimo:[],columnas_archivos:[{key:"nombre",label:"Nombre",class:"text-left",sortable:!0},{key:"procedimiento",label:"Procedimiento",class:"text-left",sortable:!0},{key:"area",label:"Rol-Area",class:"text-center",sortable:!0},{key:"descargar",label:"Archivo",class:"text-center"}],columnas_archivos_ultimo:[{key:"nombre",label:"Nombre",class:"text-left"},{key:"procedimiento",label:"Procedimiento",class:"text-left"},{key:"area",label:"Rol-Area",class:"text-center"},{key:"descargar",label:"Archivo",class:"text-center"}],modal:0,nombre_documento:""}},created:function(){null!=this.idexpediente?(this.getLastMovimiento(),this.getExpediente(),this.getGraduando(),this.getArchivos(),this.getArchivosProcOrigen()):this.$router.push({name:"home"})},methods:{getLastMovimiento:function(){var t=this,e=new FormData;e.append("idproc_destino",this.procedimiento.id),e.append("idexpediente",this.idexpediente),this.axios.post("".concat(this.url,"/Movimiento/ultimoMovimiento"),e).then((function(e){e.data.error?console.log(e.data.message):t.movimiento=e.data.movimiento}))},mostrarArchivo:function(t,e){this.$refs.show_file.file_id.value=t,this.$refs.show_file.submit(),this.nombre_documento=e,this.modal=1},mostrarArchivoUltimo:function(t,e){this.$refs.show_file_ultimo.file_id.value=t,this.$refs.show_file_ultimo.submit(),this.nombre_documento=e,this.modal=1},getExpediente:function(){var t=this,e=new FormData;e.append("idexpediente",this.idexpediente),this.axios.post("".concat(this.url,"/Expediente/getExpById"),e).then((function(e){e.data.error?console.log(e.data.message):(t.expediente=e.data.expediente,t.$store.dispatch("setExpediente",t.expediente))}))},getGraduando:function(){var t=this,e=new FormData;e.append("idexpediente",this.idexpediente),this.axios.post("".concat(this.url,"/GraduandoExpediente/getGraduando"),e).then((function(e){e.data.error?console.log(e.data.message):(t.graduando=e.data.graduando,t.$store.dispatch("setGraduando",t.graduando))}))},getArchivos:function(){var t=this,e=new FormData;e.append("idexpediente",this.idexpediente),this.axios.post("".concat(this.url,"/Archivo/index"),e).then((function(e){e.data.error?console.log(e.data.message):t.array_archivo=e.data.array_archivo}))},getArchivosProcOrigen:function(){var t=this,e=new FormData;e.append("idprocedimiento",this.procedimiento.id),e.append("idexpediente",this.idexpediente),this.axios.post("".concat(this.url,"/Archivo/show"),e).then((function(e){e.data.error?console.log(e.data.message):t.array_archivo_ultimo=e.data.array_archivo_ultimo}))}}},Ke=Xe,Qe=(a("a684"),Object(b["a"])(Ke,i,r,!1,null,"392f9aa8",null));e["default"]=Qe.exports},"6dc7":function(t,e,a){"use strict";var i=a("3926"),r=a.n(i);r.a},"73c5":function(t,e,a){},7641:function(t,e,a){},7813:function(t,e,a){"use strict";var i=a("09b7"),r=a.n(i);r.a},"7cec":function(t,e,a){"use strict";var i=a("9ec9"),r=a.n(i);r.a},"85ec":function(t,e,a){},"901a":function(t,e,a){"use strict";var i=a("3b4c"),r=a.n(i);r.a},9253:function(t,e,a){"use strict";var i=a("2f08"),r=a.n(i);r.a},"92ba":function(t,e,a){"use strict";var i=a("01ce"),r=a.n(i);r.a},9472:function(t,e,a){},9692:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid p-4",staticStyle:{"background-color":"#fff"}},[a("h5",{staticClass:"text-center font-weight-bold text-uppercase text-danger",domProps:{textContent:t._s(t.procedimiento.nombre+": Expedientes")}}),a("div",{staticClass:"text-center m-3"},[a("b-button",{attrs:{to:{name:"procedimientos"},variant:"outline-info"}},[a("b-icon",{attrs:{icon:"arrow-left-short"}}),t._v(" Atras ")],1)],1),a("b-card",{attrs:{"no-body":""}},[a("b-tabs",{attrs:{card:"","active-nav-item-class":"font-weight-bold text-uppercase text-danger"}},[a("b-tab",{attrs:{title:"Recibidos",active:""},on:{click:function(e){return t.getExpedientes(t.procedimiento.id,t.procedimiento.tipo_rol)}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12"},[a("b-row",[a("b-col",{staticClass:"my-1",attrs:{md:"4"}},[a("b-form-group",{staticClass:"mb-0",attrs:{"label-cols-sm":"6",label:"Expedientes por página: "}},[a("b-form-select",{attrs:{options:t.pageOptions},model:{value:t.perPage,callback:function(e){t.perPage=e},expression:"perPage"}})],1)],1),a("b-col",{staticClass:"my-1",attrs:{"offset-md":"4",md:"4"}},[a("b-form-group",{staticClass:"mb-0",attrs:{"label-cols-sm":"3",label:"Buscar: "}},[a("b-input-group",[a("b-form-input",{attrs:{placeholder:"Escriba el texto a buscar..."},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}}),a("b-input-group-append",[a("b-button",{attrs:{disabled:!t.filter},on:{click:function(e){t.filter=""}}},[t._v("Limpiar")])],1)],1)],1)],1)],1),a("b-table",{attrs:{bordered:"",striped:"",items:t.array_expediente,fields:t.columnas,"show-empty":"","empty-text":"No hay expedientes recibidos que mostrar.","current-page":t.currentPage,"per-page":t.perPage,filter:t.filter,"empty-filtered-text":"No hay expedientes que coincidan con su búsqueda.",busy:t.isBusy},on:{filtered:t.onFiltered},scopedSlots:t._u([{key:"cell(estado)",fn:function(e){return[a("b-badge",{attrs:{variant:t.color_estados[e.item.estado]}},[t._v(t._s(e.item.estado))])]}},{key:"cell(acciones)",fn:function(e){return[a("b-button",{attrs:{variant:"success",size:"sm","data-toggle":"tooltip","data-placement":"left",title:"Evaluar",to:{name:t.grado_modalidad.componente,params:{idexpediente:e.item.id}}}},[a("i",{staticClass:"fa fa-edit"}),t._v(" Evaluar ")])]}},{key:"table-busy",fn:function(){return[a("div",{staticClass:"text-center text-danger my-2"},[a("b-spinner",{staticClass:"align-middle"}),a("strong",[t._v("Cargando...")])],1)]},proxy:!0}])}),a("b-row",[a("b-col",{staticClass:"my-1",attrs:{"offset-md":"6",md:"6"}},[a("b-pagination",{staticClass:"my-0",attrs:{"total-rows":t.totalRows,"per-page":t.perPage,align:"right"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1)],1)])]),a("b-tab",{attrs:{title:"Enviados"},on:{click:function(e){return t.getExpedientesEnviados(t.procedimiento.id)}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12"},[a("b-row",[a("b-col",{staticClass:"my-1",attrs:{md:"4"}},[a("b-form-group",{staticClass:"mb-0",attrs:{"label-cols-sm":"6",label:"Expedientes por página: "}},[a("b-form-select",{attrs:{options:t.pageOptions},model:{value:t.perPage,callback:function(e){t.perPage=e},expression:"perPage"}})],1)],1),a("b-col",{staticClass:"my-1",attrs:{"offset-md":"4",md:"4"}},[a("b-form-group",{staticClass:"mb-0",attrs:{"label-cols-sm":"3",label:"Buscar: "}},[a("b-input-group",[a("b-form-input",{attrs:{placeholder:"Escriba el texto a buscar..."},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}}),a("b-input-group-append",[a("b-button",{attrs:{disabled:!t.filter},on:{click:function(e){t.filter=""}}},[t._v("Limpiar")])],1)],1)],1)],1)],1),a("b-table",{attrs:{bordered:"",striped:"",items:t.array_exp_enviados,fields:t.columnas_enviados,"show-empty":"","empty-text":"No hay expedientes enviados que mostrar.","current-page":t.currentPage,"per-page":t.perPage,filter:t.filter,"empty-filtered-text":"No hay expedientes que coincidan con su búsqueda.",busy:t.isBusy},on:{filtered:t.onFiltered},scopedSlots:t._u([{key:"cell(estado)",fn:function(e){return[a("b-badge",{attrs:{variant:t.color_estados[e.item.estado]}},[t._v(t._s(e.item.estado))])]}},{key:"cell(acciones)",fn:function(e){return[a("b-button",{attrs:{variant:"warning",size:"sm",title:"Deshacer"},on:{click:function(a){return t.deshacer(e.item.id,e.item.idexpediente,e.item.idproc_origen,e.item.fecha_ant,e.item.etiqueta)}}},[a("i",{staticClass:"fa fa-edit"}),t._v(" Deshacer ")])]}},{key:"table-busy",fn:function(){return[a("div",{staticClass:"text-center text-danger my-2"},[a("b-spinner",{staticClass:"align-middle"}),a("strong",[t._v("Cargando...")])],1)]},proxy:!0}])}),a("b-row",[a("b-col",{staticClass:"my-1",attrs:{"offset-md":"6",md:"6"}},[a("b-pagination",{staticClass:"my-0",attrs:{"total-rows":t.totalRows,"per-page":t.perPage,align:"right"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1)],1)])])],1)],1)],1)},r=[],o={name:"bandeja",data:function(){return{url:this.$root.API_URL,usuario:this.$store.getters.getUsuario,grado_modalidad:this.$store.getters.getGradoModalidad,procedimiento:this.$store.getters.getProcedimiento,color_estados:this.$root.color_estados,estados:this.$root.estados,array_expediente:[],array_exp_enviados:[],columnas:[{key:"codigo",label:"Código",class:"text-center"},{key:"graduando",label:"Graduando (s)"},{key:"escuela",label:"Escuela"},{key:"fecha_recepcion",label:"Fecha Recepción",class:"text-center"},{key:"estado",label:"Estado",class:"text-center"},{key:"acciones",label:"Acciones",class:"text-center"}],columnas_enviados:[{key:"codigo",label:"Código",class:"text-center"},{key:"graduando",label:"Graduando (s)"},{key:"escuela",label:"Escuela"},{key:"fecha_envio",label:"Fecha Envio",class:"text-center"},{key:"estado",label:"Estado",class:"text-center"},{key:"acciones",label:"Acciones",class:"text-center"}],totalRows:1,currentPage:1,perPage:5,pageOptions:[5,10,15],filter:null,isBusy:!1}},created:function(){null!=this.procedimiento?this.getExpedientes(this.procedimiento.id,this.procedimiento.tipo_rol):this.$router.push({name:"home"})},methods:{getExpedientes:function(t,e){var a=this,i=new FormData;i.append("idprocedimiento",t),i.append("codi_usuario",this.usuario.codi_usuario),i.append("tipo_usuario",this.usuario.tipo),i.append("tipo_rol",e),this.toggleBusy(),this.axios.post("".concat(this.url,"/Expediente/getList"),i).then((function(t){t.data.error?console.log(t.data.message):(a.array_expediente=t.data.array_expediente,a.totalRows=a.array_expediente.length),a.toggleBusy()}))},getExpedientesEnviados:function(t){var e=this,a=new FormData;a.append("idusuario",this.usuario.id),a.append("idproc_origen",t),this.toggleBusy(),this.axios.post("".concat(this.url,"/Movimiento/expedientes_enviados"),a).then((function(t){t.data.error?console.log(t.data.message):(e.array_exp_enviados=t.data.array_exp_enviados,e.totalRows=e.array_exp_enviados.length),e.toggleBusy()}))},deshacer:function(t,e,a,i,r){var o=this;this.$bvModal.msgBoxConfirm("¿Seguro que quiere deshacer el movimiento realizado sobre este expediente?",{title:"Deshacer Movimiento",okVariant:"success",okTitle:"Deshacer",cancelTitle:"Cancelar",centered:!0}).then((function(s){if(s){var n=new FormData;n.append("id",t),n.append("idexpediente",e),n.append("idproc_origen",a),n.append("fecha_ant",i),n.append("estado_expediente_ant",o.estados[r]),o.axios.post("".concat(o.url,"/Movimiento/deshacer"),n).then((function(t){t.data.error?o.$root.errorAlert(t.data.message):(o.$root.successAlert(t.data.message),o.getExpedientesEnviados(a))}))}}))},toggleBusy:function(){this.isBusy=!this.isBusy},onFiltered:function(t){this.totalRows=t.length,this.currentPage=1},_countDownChanged:function(t){this.dismissCountDown=t}}},s=o,n=a("2877"),c=Object(n["a"])(s,i,r,!1,null,null,null);e["default"]=c.exports},9874:function(t,e,a){},"9b05":function(t,e,a){"use strict";var i=a("c5f3"),r=a.n(i);r.a},"9bba":function(t,e,a){},"9ec9":function(t,e,a){},"9f60":function(t,e,a){},a684:function(t,e,a){"use strict";var i=a("45bd"),r=a.n(i);r.a},ab15:function(t,e,a){"use strict";var i=a("153c"),r=a.n(i);r.a},b2c8:function(t,e,a){"use strict";var i=a("03e7"),r=a.n(i);r.a},b54b:function(t,e,a){"use strict";var i=a("7641"),r=a.n(i);r.a},b911:function(t,e,a){},bb51:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},r=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container text-center"},[i("img",{attrs:{alt:"Vue logo",src:a("d4da")}})])}],o={name:"Home",data:function(){return{}}},s=o,n=a("2877"),c=Object(n["a"])(s,i,r,!1,null,null,null);e["default"]=c.exports},bd1d:function(t,e,a){"use strict";var i=a("b911"),r=a.n(i);r.a},c4e7:function(t,e,a){"use strict";var i=a("f4a9"),r=a.n(i);r.a},c50b:function(t,e,a){},c5f3:function(t,e,a){},c7e9:function(t,e,a){"use strict";var i=a("352d"),r=a.n(i);r.a},cf82:function(t,e,a){},d0e7:function(t,e,a){"use strict";var i=a("9bba"),r=a.n(i);r.a},d2b8:function(t,e,a){"use strict";var i=a("eddb"),r=a.n(i);r.a},d4da:function(t,e,a){t.exports=a.p+"img/logo_unsa.098d5e1f.png"},dbc1:function(t,e,a){},dceb:function(t,e,a){},e14c:function(t,e,a){"use strict";var i=a("ffd3"),r=a.n(i);r.a},e4d8:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container p-4",staticStyle:{"background-color":"#fff"}},[a("h5",{staticClass:"text-center font-weight-bold text-uppercase text-danger",domProps:{textContent:t._s(t.grado_modalidad.grado_titulo+" - "+t.grado_modalidad.modalidad+": Procedimientos")}}),a("div",{staticClass:"text-center mt-3"},[a("b-button",{attrs:{to:{name:"inicio"},variant:"outline-info"}},[a("b-icon",{attrs:{icon:"arrow-left-short"}}),t._v(" Atras ")],1)],1),t._l(t.objectGroups,(function(e,i){return a("div",{key:i,staticClass:"row text-center mt-3"},t._l(t.array_procedimiento.slice(i*t.itemsPerRow,(i+1)*t.itemsPerRow),(function(e,i){return a("div",{key:i,staticClass:"col-lg-4"},[a("div",{staticClass:"counter"},[a("h5",{staticClass:"count-text-title",domProps:{textContent:t._s(e.nombre)}}),0==e.total_expedientes?a("h2",{staticClass:"timer count-title count-number",domProps:{textContent:t._s(e.total_expedientes)}}):a("h2",{staticClass:"timer count-title count-number text-danger",domProps:{textContent:t._s(e.total_expedientes)}}),a("p",{staticClass:"count-text"},[t._v("Solicitudes pendientes")]),a("br"),a("b-button",{attrs:{pill:"",variant:"info"},on:{click:function(a){return t.mostrarBandeja(e)}}},[t._v(" Ver expedientes ")])],1)])})),0)}))],2)},r=[],o=(a("a630"),a("d3b7"),a("3ca3"),a("ddb0"),{name:"procedimientos",data:function(){return{url:this.$root.API_URL,grado_modalidad:this.$store.getters.getGradoModalidad,array_procedimiento:[],itemsPerRow:3}},computed:{objectGroups:function(){return Array.from(Array(Math.ceil(this.array_procedimiento.length/this.itemsPerRow)).keys())}},created:function(){null!=this.grado_modalidad?this.getProcedimientos():this.$router.push({name:"home"})},methods:{getProcedimientos:function(){var t=this,e=this.$store.getters.getUsuario,a=new FormData;a.append("idgrado_modalidad",this.grado_modalidad.id),a.append("idrol",e.idrol),a.append("idusuario",e.id),a.append("codi_usuario",e.codi_usuario),a.append("tipo_usuario",e.tipo),this.axios.post("".concat(this.url,"/Procedimiento/getProcedimientos"),a).then((function(e){e.data.error?console.log(e.data.message):t.array_procedimiento=e.data.array_procedimiento}))},mostrarBandeja:function(t){this.$store.dispatch("setProcedimiento",t),this.$router.push({name:"bandeja"})}}}),s=o,n=a("2877"),c=Object(n["a"])(s,i,r,!1,null,null,null);e["default"]=c.exports},eae2:function(t,e,a){"use strict";var i=a("280a"),r=a.n(i);r.a},ed94:function(t,e,a){},eddb:function(t,e,a){},ee94:function(t,e,a){},f1fe:function(t,e,a){"use strict";var i=a("317c"),r=a.n(i);r.a},f4a9:function(t,e,a){},f658:function(t,e,a){"use strict";var i=a("ee94"),r=a.n(i);r.a},f95f:function(t,e,a){},fb20:function(t,e,a){"use strict";var i=a("6339"),r=a.n(i);r.a},fe50:function(t,e,a){"use strict";var i=a("4411"),r=a.n(i);r.a},ffd3:function(t,e,a){}});
//# sourceMappingURL=app.83db7f5a.js.map