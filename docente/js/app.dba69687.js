(function(e){function t(t){for(var o,s,n=t[0],d=t[1],c=t[2],l=0,m=[];l<n.length;l++)s=n[l],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&m.push(i[s][0]),i[s]=0;for(o in d)Object.prototype.hasOwnProperty.call(d,o)&&(e[o]=d[o]);u&&u(t);while(m.length)m.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],o=!0,n=1;n<a.length;n++){var d=a[n];0!==i[d]&&(o=!1)}o&&(r.splice(t--,1),e=s(s.s=a[0]))}return e}var o={},i={app:0},r=[];function s(t){if(o[t])return o[t].exports;var a=o[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=e,s.c=o,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)s.d(a,o,function(t){return e[t]}.bind(null,o));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/sisacad/sisdoce/graduacion/gt-docente/docente/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],d=n.push.bind(n);n.push=t,n=n.slice();for(var c=0;c<n.length;c++)t(n[c]);var u=d;r.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"0186":function(e,t,a){},"0343":function(e,t,a){"use strict";var o=a("305b"),i=a.n(o);i.a},"0348":function(e,t,a){},"034f":function(e,t,a){"use strict";var o=a("85ec"),i=a.n(o);i.a},"06c5":function(e,t,a){},"0f51":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container p-4",staticStyle:{"background-color":"#fff"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col text-center"},[e.array_grado_modalidad.length>0?a("h5",{staticClass:"font-weight-bold text-uppercase text-danger",domProps:{textContent:e._s("Grados - Modalidades")}}):a("h5",{staticClass:"text-info",domProps:{textContent:e._s("No existen solicitudes pendientes")}})])]),e._l(e.objectGroups,(function(t,o){return a("div",{key:o,staticClass:"row text-center mt-3"},e._l(e.array_grado_modalidad.slice(o*e.itemsPerRow,(o+1)*e.itemsPerRow),(function(t,o){return a("div",{key:o,staticClass:"col-lg-4"},[a("div",{staticClass:"counter"},[a("h5",{staticClass:"count-text-title",domProps:{textContent:e._s(t.nombre_grado_titulo+" - "+t.nombre_modalidad_obtencion)}}),a("h2",{staticClass:"timer count-title count-number text-danger",domProps:{textContent:e._s(t.total_expedientes)}}),a("p",{staticClass:"count-text"},[e._v("Solicitudes pendientes")]),a("br"),a("b-button",{attrs:{pill:"",variant:"info",to:{name:"procedimientos",params:{grado_modalidad:t}}}},[e._v(" Ver procedimientos ")])],1)])})),0)}))],2)},i=[],r=(a("a630"),a("d3b7"),a("3ca3"),a("ddb0"),{name:"inicio",data:function(){return{url:this.$root.API_URL,usuario:this.$store.state.usuario,array_grado_modalidad:[],itemsPerRow:3}},computed:{objectGroups:function(){return Array.from(Array(Math.ceil(this.array_grado_modalidad.length/this.itemsPerRow)).keys())}},created:function(){this.getGradoModalidad()},methods:{getGradoModalidad:function(){var e=this,t=new FormData;t.append("codi_usuario",this.usuario.codi_usuario),t.append("idrol_area",this.usuario.idrol_area),this.axios.post("".concat(this.url,"/GradoModalidad/inicio"),t).then((function(t){t.data.error?console.log(t.data.message):e.array_grado_modalidad=t.data.array_grado_modalidad}))}}}),s=r,n=a("2877"),d=Object(n["a"])(s,o,i,!1,null,null,null);t["default"]=d.exports},"0f72":function(e,t,a){"use strict";var o=a("dd08"),i=a.n(o);i.a},"116a":function(e,t,a){},"157e":function(e,t,a){},"1bd6":function(e,t,a){},"1f41":function(e,t,a){"use strict";var o=a("0348"),i=a.n(o);i.a},2268:function(e,t,a){},2750:function(e,t,a){},"27e9":function(e,t,a){},"280a":function(e,t,a){},"305b":function(e,t,a){},"317c":function(e,t,a){},3217:function(e,t,a){"use strict";var o=a("157e"),i=a.n(o);i.a},"331a":function(e,t,a){"use strict";var o=a("f95f"),i=a.n(o);i.a},"351d":function(e,t,a){"use strict";var o=a("5339"),i=a.n(o);i.a},"3b4c":function(e,t,a){},"41a7":function(e,t,a){"use strict";var o=a("c50b"),i=a.n(o);i.a},"41c0":function(e,t,a){"use strict";var o=a("dbc1"),i=a.n(o);i.a},4411:function(e,t,a){},"46e2":function(e,t,a){"use strict";var o=a("2268"),i=a.n(o);i.a},"49d4":function(e,t,a){"use strict";var o=a("2750"),i=a.n(o);i.a},"4a66":function(e,t,a){"use strict";var o=a("96fb"),i=a.n(o);i.a},5339:function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var o=a("2b0e"),i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("b-navbar",{staticClass:"nav-docente",attrs:{toggleable:"lg",type:"dark"}},[a("b-navbar-brand",{attrs:{href:"#"}},[e._v("Grados y Títulos - UNSA")]),a("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),a("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[a("b-navbar-nav",[a("b-nav-item",{attrs:{to:{name:"inicio"}}},[e._v("Expedientes")]),a("b-nav-item",{attrs:{to:{name:"reportes"}}},[e._v("Reportes")])],1)],1)],1),a("router-view")],1)},r=[],s={name:"app",data:function(){return{url:this.$root.API_URL,codi_usuario:null,usuario:null}},created:function(){this.getCodiOper()},methods:{getCodiOper:function(){var e=this;this.axios.get("".concat(this.url,"/codi_oper.php")).then((function(t){t.data.error?e.$root.mostrarNotificacion("Advertencia!","warning",4e3,"error",t.data.message,"bottom-right"):(e.codi_usuario=t.data.codi_oper,e.getUsuario())}))},getUsuario:function(){var e=this,t=new FormData;t.append("codi_usuario",this.codi_usuario),this.axios.post("".concat(this.url,"/Usuario/getIdUsuario"),t).then((function(t){t.data.error?console.log(t.data.message):(e.usuario=t.data.usuario,e.$store.dispatch("setUsuario",e.usuario))}))}}},n=s,d=(a("034f"),a("2877")),c=Object(d["a"])(n,i,r,!1,null,null,null),u=c.exports,l=a("fb9a"),m=a.n(l),b=(a("04f2"),a("85ff")),p=a.n(b),_=(a("c789"),a("8c4f"));o["default"].use(_["a"]);var f=[{path:"/",name:"home",component:a("bb51").default},{path:"/expedientes/inicio",name:"inicio",component:a("0f51").default},{path:"/expedientes/procedimientos",name:"procedimientos",component:a("e4d8").default,props:!0},{path:"/expedientes/bandeja",name:"bandeja",component:a("9692").default,props:!0},{path:"/expedientes/info-expediente4",name:"info-expediente4",component:a("6aaa").default,props:!0},{path:"/reportes",name:"reportes",component:a("bb51").default}],h=new _["a"]({mode:"history",base:"/sisacad/sisdoce/graduacion/gt-docente/docente/",routes:f}),v=h,g=a("2f62");o["default"].use(g["a"]);var x=new g["a"].Store({state:{usuario:null},mutations:{SET_USUARIO:function(e,t){e.usuario=t}},actions:{setUsuario:function(e,t){var a=e.commit;a("SET_USUARIO",t)}},modules:{}}),y={API_URL:"//190.119.145.150:8022/sisacad/sisdoce/graduacion/gt-docente/backend",color_acciones:{enviar:"success",derivar:"success",devolver:"danger",denegar:"danger",observar:"warning",rechazar:"danger",aceptar:"success",aprobar:"success",anular:"danger",finalizar:"primary"},color_estados:{enviado:"success",derivado:"success",devuelto:"danger",denegado:"danger",observado:"warning",rechazado:"danger",aceptado:"success",aprobado:"success",anulado:"danger",finalizado:"primary"},estados:{enviar:"enviado",derivar:"derivado",devolver:"devuelto",denegar:"denegado",observar:"observado",rechazar:"rechazado",aceptar:"aceptado",aprobar:"aprobado",anular:"anulado",finalizar:"finalizado"}},C=y,j=a("5f5b"),R=a("b1e0"),I=a("bc3a"),O=a.n(I),k=a("a7fe"),w=a.n(k),D=a("4a7a"),$=a.n(D),A=a("8e5f"),T=a.n(A);a("f9e3"),a("2dd8"),a("5df9"),a("6dfc"),a("e607"),a("5aea");o["default"].use(m.a,{theme:{colors:{primary:"#5b3cc4",success:"rgb(23, 201, 100)",danger:"rgb(242, 19, 93)",warning:"rgb(255, 130, 0)",dark:"rgb(36, 33, 69)"}}});var P=!0,E={isEnabled:!0,logLevel:P?"error":"debug",stringifyArguments:!1,showLogLevel:!0,showMethodName:!0,separator:"|",showConsoleColors:!0};o["default"].use(p.a,E),o["default"].use(R["a"]),o["default"].use(w.a,O.a),o["default"].use(j["a"]),o["default"].use(R["b"]),o["default"].component("v-select",$.a),o["default"].component("multiselect",T.a),o["default"].config.productionTip=!1,new o["default"]({data:{API_URL:C.API_URL,FILE_URL:C.FILE_URL,color_acciones:C.color_acciones,color_estados:C.color_estados,estados:C.estados},methods:{mostrarNotificacion:function(e,t,a,o,i,r){this.$vs.notify({title:e,color:t,time:a,icon:o,text:i,position:r})}},router:v,store:x,render:function(e){return e(u)}}).$mount("#app")},5759:function(e,t,a){"use strict";var o=a("06c5"),i=a.n(o);i.a},"5aea":function(e,t,a){},"5d18":function(e,t,a){},"5e5b":function(e,t,a){},"61fa":function(e,t,a){"use strict";var o=a("ed94"),i=a.n(o);i.a},6234:function(e,t,a){"use strict";var o=a("a075"),i=a.n(o);i.a},6462:function(e,t,a){"use strict";var o=a("5d18"),i=a.n(o);i.a},6912:function(e,t,a){"use strict";var o=a("a069"),i=a.n(o);i.a},"69b1":function(e,t,a){"use strict";var o=a("f36c"),i=a.n(o);i.a},"6aaa":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"container",staticStyle:{"background-color":"#fff",padding:"20px"}},[a("h5",{staticClass:"text-center font-weight-bold text-uppercase text-danger",domProps:{textContent:e._s(e.grado_procedimiento.proc_nombre)}}),a("p",{staticClass:"narrow text-center",domProps:{textContent:e._s(e.grado_procedimiento.proc_descripcion)}}),a("div",{staticClass:"text-center m-3"},[a("b-button",{attrs:{to:{name:"bandeja",params:{usuario:e.usuario,grado_modalidad:e.grado_modalidad,grado_procedimiento:e.grado_procedimiento}},variant:"outline-info"}},[a("b-icon",{attrs:{icon:"arrow-left-short"}}),e._v("Atras ")],1)],1),a("b-card",{attrs:{"no-body":""}},[a("b-tabs",{attrs:{card:"",justified:"","active-nav-item-class":"font-weight-bold text-uppercase text-danger"}},[a("b-tab",{attrs:{title:"Información de Expediente",active:""}},[a("b-card",{attrs:{"no-body":""}},[a("b-tabs",{attrs:{pills:"",card:"",vertical:""}},[a("b-tab",{attrs:{title:"Expediente"}},[a("div",{staticClass:"mb-3"},[a("h4",{staticClass:"text-info text-center"},[a("i",{staticClass:"fa fa-folder-open",attrs:{"aria-hidden":"true"}}),e._v(" Expediente ")])]),null!=e.expediente?a("b-card",[a("form",[a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-md-3"},[a("label",{staticClass:"text-info"},[e._v("Código")]),a("label",{staticClass:"lbl-data",domProps:{textContent:e._s(e.expediente.codigo)}})]),a("div",{staticClass:"form-group col-md-9"},[a("label",{staticClass:"text-info"},[e._v("Título Proyecto")]),a("label",{staticClass:"lbl-data",domProps:{textContent:e._s(e.expediente.titulo)}})])]),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-md-6"},[a("label",{staticClass:"text-info"},[e._v("Programa de estudios")]),a("label",{staticClass:"lbl-data",domProps:{textContent:e._s(e.expediente.escuela)}})]),a("div",{staticClass:"form-group col-md-6"},[a("label",{staticClass:"text-info"},[e._v("Fecha de inicio de trámite")]),a("label",{staticClass:"lbl-data",domProps:{textContent:e._s(e.expediente.fing)}})])])])]):e._e()],1),a("b-tab",{attrs:{title:"Graduando"}},[a("div",{staticClass:"mb-3"},[a("h4",{staticClass:"text-info text-center"},[a("i",{staticClass:"fa fa-user",attrs:{"aria-hidden":"true"}}),e._v(" Graduando ")])]),null!=e.graduando?a("b-card",[a("form",[a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-md-3"},[a("label",{staticClass:"text-info"},[e._v("CUI")]),a("label",{staticClass:"lbl-data",domProps:{textContent:e._s(e.graduando.cui)}})]),a("div",{staticClass:"form-group col-md-9"},[a("label",{staticClass:"text-info"},[e._v("Apellidos y Nombres")]),a("label",{staticClass:"lbl-data",domProps:{textContent:e._s(e.graduando.apell_nombres)}})])]),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-md-3"},[a("label",{staticClass:"text-info"},[e._v("E-mail")]),a("label",{staticClass:"lbl-data",domProps:{textContent:e._s(e.graduando.email)}})]),a("div",{staticClass:"form-group col-md-3"},[a("label",{staticClass:"text-info"},[e._v("Teléfono")]),a("label",{staticClass:"lbl-data",domProps:{textContent:e._s(e.graduando.telefono_movil)}})]),a("div",{staticClass:"form-group col-md-6"},[a("label",{staticClass:"text-info"},[e._v("Dirección")]),a("label",{staticClass:"lbl-data",domProps:{textContent:e._s(e.graduando.direccion)}})])])])]):e._e()],1),a("b-tab",{attrs:{title:"Documentos"}},[a("div",{staticClass:"mb-3"},[a("h4",{staticClass:"text-info text-center"},[a("i",{staticClass:"fa fa-files-o",attrs:{"aria-hidden":"true"}}),e._v(" Archivos ")])]),a("form",{ref:"show_file",attrs:{action:e.url_show_file,target:"my-frame",method:"post"}},[a("input",{attrs:{type:"hidden",name:"file_id"}})]),a("b-table",{attrs:{items:e.array_archivo,fields:e.columnas_archivos,striped:"",bordered:"",hover:"",small:"",responsive:"","show-empty":"","empty-text":"No hay documentos que mostrar.","primary-key":"id"},scopedSlots:e._u([{key:"cell(descargar)",fn:function(t){return[a("b-button",{attrs:{variant:"warning",size:"sm",title:"Descargar"},on:{click:function(a){return e.mostrarArchivo(t.item.id,t.item.nombre)}}},[a("b-icon",{attrs:{icon:"eye"}})],1)]}}])})],1)],1)],1)],1),null!=e.movimiento?a("b-tab",{attrs:{title:"Información de Procedencia"}},[a("b-card",{attrs:{"no-body":""}},[a("b-tabs",{attrs:{pills:"",card:"",vertical:""}},[a("b-tab",{attrs:{title:"Estado de expediente"}},[a("div",{staticClass:"mb-3"},[a("h4",{staticClass:"text-info text-center"},[e._v("Estado de expediente")])]),a("b-row",{staticClass:"justify-content-lg-center"},[a("b-col",{attrs:{col:"",lg:"10"}},[a("table",{staticClass:"table table-bordered table-borderless"},[a("tbody",[a("tr",[a("th",{staticClass:"bg-light text-right"},[e._v("Procedimiento:")]),a("td",{domProps:{textContent:e._s(e.movimiento.procedimiento_origen)}})]),a("tr",[a("th",{staticClass:"bg-light text-right"},[e._v("Rol / Área:")]),null!=e.movimiento.rol_area_origen?a("td",{domProps:{textContent:e._s(e.movimiento.rol_area_origen)}}):a("td",{domProps:{textContent:e._s(e.movimiento.tipo_rol)}})]),a("tr",[a("th",{staticClass:"bg-light text-right"},[e._v("Responsable:")]),a("td",{domProps:{textContent:e._s(e.movimiento.nombre_usuario)}})]),a("tr",[a("th",{staticClass:"bg-light text-right"},[e._v("Estado:")]),a("td",[a("b-badge",{staticClass:"estado",attrs:{variant:e.color_acciones[e.movimiento.etiqueta]},domProps:{textContent:e._s(e.estados[e.movimiento.etiqueta])}})],1)]),a("tr",[a("th",{staticClass:"bg-light text-right"},[e._v("Fecha / Hora:")]),a("td",{domProps:{textContent:e._s(e.movimiento.fecha+" hrs.")}},[e._v("johncarter@mail.com")])])])])])],1)],1),e.array_archivo_ultimo.length>0?a("b-tab",{attrs:{title:"Archivos adjuntos"}},[a("div",{staticClass:"mb-4"},[a("h4",{staticClass:"text-info text-center"},[a("i",{staticClass:"fa fa-files-o",attrs:{"aria-hidden":"true"}}),e._v(" Archivos adjuntos ")])]),a("form",{ref:"show_file_ultimo",attrs:{action:e.url_show_file,target:"my-frame",method:"post"}},[a("input",{attrs:{type:"hidden",name:"file_id"}})]),a("b-table",{attrs:{items:e.array_archivo_ultimo,fields:e.columnas_archivos_ultimo,striped:"",bordered:"",borderless:"",responsive:"","show-empty":"","empty-text":"No hay archivos que mostrar.","primary-key":"id"},scopedSlots:e._u([{key:"cell(descargar)",fn:function(t){return[a("b-button",{attrs:{variant:"warning",size:"sm",title:"Descargar"},on:{click:function(a){return e.mostrarArchivoUltimo(t.item.id,t.item.nombre)}}},[a("b-icon",{attrs:{icon:"eye"}})],1)]}}],null,!1,4066017)})],1):e._e()],1)],1)],1):e._e(),null!=e.movimiento?a("b-tab",{attrs:{title:"Procesamiento de Expediente"}},[null!=e.graduando?a(e.nombre_componente,{tag:"component",attrs:{grado_modalidad:e.grado_modalidad,grado_procedimiento:e.grado_procedimiento,usuario:e.usuario,expediente:e.expediente,graduando:e.graduando,movimiento:e.movimiento}}):e._e()],1):e._e()],1)],1)],1),a("div",{staticClass:"modal fade centered-modal",class:{mostrar:e.modal},staticStyle:{display:"none"},attrs:{tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-primary modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h4",{staticClass:"modal-title",domProps:{textContent:e._s(e.nombre_documento)}}),a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(t){e.modal=0}}},[a("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])]),a("div",{staticClass:"modal-body"},[a("iframe",{attrs:{name:"my-frame",src:e.url_show_file,width:"660",height:"380",frameborder:"0",allowtransparency:"true"}})]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(t){e.modal=0}}},[e._v("Cerrar")])])])])])])},i=[],r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return null!=e.movimiento?a("div",[a("div",{staticClass:"row justify-content-center mb-1"},[a("fieldset",{staticClass:"col-8 col-md-6 px-3"},[a("legend",[e._v("Elija una opción:")]),a("div",{staticClass:"row justify-content-center"},[e._l(e.array_ruta,(function(t,o){return[a("b-form-radio",{key:o,staticClass:"m-2",attrs:{value:t,button:"",name:"acciones","button-variant":"outline-primary"},model:{value:e.ruta_seleccionada,callback:function(t){e.ruta_seleccionada=t},expression:"ruta_seleccionada"}},[e._v(" "+e._s(e._f("capitalize")(t.etiqueta))+" Expediente ")])]}))],2)])]),"derivado"==e.estados[e.movimiento.etiqueta]&&null!=e.ruta_seleccionada?["aceptar"==e.ruta_seleccionada.etiqueta?a("derivado_aceptar",{attrs:{grado_modalidad:e.grado_modalidad,grado_procedimiento:e.grado_procedimiento,usuario:e.usuario,expediente:e.expediente,graduando:e.graduando,ruta:e.ruta_seleccionada,movimiento:e.movimiento}}):e._e(),"denegar"==e.ruta_seleccionada.etiqueta?a("derivado_denegar",{attrs:{grado_modalidad:e.grado_modalidad,grado_procedimiento:e.grado_procedimiento,usuario:e.usuario,expediente:e.expediente,graduando:e.graduando,ruta:e.ruta_seleccionada,movimiento:e.movimiento}}):e._e()]:e._e()],2):e._e()},s=[],n=(a("fb6a"),a("d3b7"),a("25f0"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-card",[e.existeRecursoRutaVecinas?[a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[a("ul",[a("li",[e._v("Debe deshacer las acciones realizadas en otras opciones de este procedimiento")])])])]:[a("b-card",{attrs:{"no-body":""}},[a("b-tabs",{staticStyle:{"min-height":"250px"},attrs:{card:"","active-nav-item-class":"font-weight-bold text-uppercase text-danger"},model:{value:e.tabIndex,callback:function(t){e.tabIndex=t},expression:"tabIndex"}},[a("b-tab",{attrs:{title:"1. "+e.ruta.etiqueta.charAt(0).toUpperCase()+e.ruta.etiqueta.slice(1)+" expediente","title-item-class":"disabledTab",disabled:e.tabIndex2<0}},[a("movimiento_expediente",{attrs:{grado_modalidad:e.grado_modalidad,grado_procedimiento:e.grado_procedimiento,usuario:e.usuario,expediente:e.expediente,movimiento:e.movimiento,ruta:e.ruta}})],1)],1)],1),a("div",{staticClass:"text-center"},[a("b-button-group",{staticClass:"mt-3"},[a("b-button",{staticClass:"mr-1",attrs:{disabled:0==e.tabIndex},on:{click:e.prevTab}},[e._v("Anterior")]),a("b-button",{attrs:{disabled:0==e.tabIndex},on:{click:e.nextTab}},[e._v("Siguiente")])],1)],1)]],2)}),d=[],c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"text-center"},[a("b-row",{staticClass:"justify-content-lg-center"},[a("b-col",{attrs:{col:"",lg:"8"}},[a("p",{staticClass:"text-justify"},[a("b",[e._v("Nota: ")]),e._v(" La acción "+e._s(e.ruta.etiqueta)+" permite derivar el expediente al procedimiento "),a("b",[e._v(e._s(e.ruta.procedimiento_destino))]),e._v(" a cargo de "),a("b",[e._v(e._s(e.ruta.rol_area_destino))])])])],1),a("b-button",{staticClass:"m-1",attrs:{variant:e.color_acciones[e.ruta.etiqueta]},on:{click:function(t){return e.mover(e.ruta)}}},[e._v(" "+e._s(e._f("capitalize")(e.ruta.etiqueta))+" ")])],1)},u=[],l={name:"movimiento-expediente",props:{grado_modalidad:Object,grado_procedimiento:Object,usuario:Object,expediente:Object,movimiento:Object,ruta:Object},data:function(){return{url:this.$root.API_URL,color_acciones:this.$root.color_acciones,estados:this.$root.estados}},methods:{mover:function(e){var t=this;this.$bvModal.msgBoxConfirm("¿Seguro que quiere "+e.etiqueta+" este expediente?",{title:e.etiqueta.charAt(0).toUpperCase()+e.etiqueta.slice(1)+" Expediente",okVariant:this.color_acciones[e.etiqueta],okTitle:e.etiqueta.charAt(0).toUpperCase()+e.etiqueta.slice(1),cancelTitle:"Cancelar",centered:!0}).then((function(a){if(a){var o=t,i=t._toFormData({idexpediente:t.expediente.id,idusuario:t.usuario.id,idruta:e.id,idgradproc_origen:e.idgradproc_origen,idgradproc_destino:e.idgradproc_destino,idmov_anterior:t.movimiento.id,estado_expediente:t.estados[e.etiqueta]});t.axios.post("".concat(t.url,"/Movimiento/mover"),i).then((function(e){e.data.error?o.$root.mostrarNotificacion("Error!","danger",5e3,"error_outline",e.data.message,"bottom-right"):(o.$root.mostrarNotificacion("Éxito!","success",5e3,"done",e.data.message,"bottom-right"),o.$router.push({name:"bandeja",params:{usuario:o.usuario,grado_modalidad:o.grado_modalidad,grado_procedimiento:o.grado_procedimiento}}))}))}}))},_toFormData:function(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return t}},filters:{capitalize:function(e){return e?(e=e.toString(),e.charAt(0).toUpperCase()+e.slice(1)):""}},mounted:function(){}},m=l,b=a("2877"),p=Object(b["a"])(m,c,u,!1,null,null,null),_=p.exports,f={name:"derivado-aceptar",props:{grado_modalidad:Object,grado_procedimiento:Object,usuario:Object,expediente:Object,graduando:Object,ruta:Object,movimiento:Object},components:{movimiento_expediente:_},data:function(){return{url:this.$root.API_URL,tabIndex:0,tabIndex2:0,existeRecursoRutaVecinas:!1,errors:[]}},methods:{prevTab:function(){this.errors=[],this.tabIndex2--,this.tabIndex--},nextTab:function(){this.errors=[];var e=!1;e&&(this.tabIndex2++,this.$nextTick((function(){this.tabIndex++})))},verificarRecursoRutasVecinas:function(){var e=this,t=this._toFormData({idexpediente:this.expediente.id,idgrado_proc:this.grado_procedimiento.id,idusuario:this.usuario.id,idruta:this.ruta.id});this.axios.post("".concat(this.url,"/Recurso/verify"),t).then((function(t){t.data.error?console.log(t.data.message):e.existeRecursoRutaVecinas=t.data.existeRecursoRutaVecinas}))},_toFormData:function(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return t}},mounted:function(){this.verificarRecursoRutasVecinas()}},h=f,v=(a("a43a"),a("61fa"),Object(b["a"])(h,n,d,!1,null,"76085bf9",null)),g=v.exports,x=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-card",[e.existeRecursoRutaVecinas?[a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[a("ul",[a("li",[e._v("Debe deshacer las acciones realizadas en otras opciones de este procedimiento")])])])]:[a("b-card",{attrs:{"no-body":""}},[a("b-tabs",{staticStyle:{"min-height":"250px"},attrs:{card:"","active-nav-item-class":"font-weight-bold text-uppercase text-danger"},model:{value:e.tabIndex,callback:function(t){e.tabIndex=t},expression:"tabIndex"}},[a("b-tab",{attrs:{title:"1. Generar documento","title-item-class":"disabledTab",disabled:e.tabIndex2<0}},[a("generacion_documento",{ref:"documentos",attrs:{expediente:e.expediente,graduando:e.graduando,asesor:e.asesor,nombre_archivo_pdf:"informe_renuncia_asesoria.php",boton_nombre:"Informe de renuncia"}})],1),a("b-tab",{attrs:{title:"2. Añadir documento","title-item-class":"disabledTab",disabled:e.tabIndex2<1}},[a("documentos",{ref:"documentos",attrs:{expediente:e.expediente,idgrado_proc:e.grado_procedimiento.id,idusuario:e.usuario.id,ruta:e.ruta,max_docs:"1",nombre_asignado:"Informe de renuncia de asesoria"}}),e.errors.length?a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[a("ul",e._l(e.errors,(function(t,o){return a("li",{key:o},[e._v(e._s(t))])})),0)]):e._e()],1),a("b-tab",{attrs:{title:"3. "+e.ruta.etiqueta.charAt(0).toUpperCase()+e.ruta.etiqueta.slice(1)+" expediente","title-item-class":"disabledTab",disabled:e.tabIndex2<2}},[a("movimiento_expediente",{attrs:{grado_modalidad:e.grado_modalidad,grado_procedimiento:e.grado_procedimiento,usuario:e.usuario,expediente:e.expediente,movimiento:e.movimiento,ruta:e.ruta}})],1)],1)],1),a("div",{staticClass:"text-center"},[a("b-button-group",{staticClass:"mt-3"},[a("b-button",{staticClass:"mr-1",attrs:{disabled:0==e.tabIndex},on:{click:e.prevTab}},[e._v("Anterior")]),a("b-button",{attrs:{disabled:2==e.tabIndex},on:{click:e.nextTab}},[e._v("Siguiente")])],1)],1)]],2)},y=[],C=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mb-3"},[a("b-form",{ref:"frm_datos_pdf",staticClass:"mb-3",attrs:{action:e.url_pdf+e.nombre_archivo_pdf,method:"post"},on:{submit:function(t){return t.preventDefault(),e.generarPdf(t)}}},[a("input",{attrs:{type:"hidden",name:"expediente"}}),a("input",{attrs:{type:"hidden",name:"movimiento"}}),a("input",{attrs:{type:"hidden",name:"asesor"}}),a("input",{attrs:{type:"hidden",name:"graduando"}}),a("input",{attrs:{type:"hidden",name:"jurados"}}),a("div",{staticClass:"row"},[a("div",{staticClass:"mx-auto"},[a("b-button",{attrs:{type:"submit",variant:"success"}},[a("b-icon",{attrs:{icon:"file-earmark-arrow-down"}}),e._v(" "+e._s(e.boton_nombre)+" ")],1)],1)])])],1)},j=[],R={name:"resolucion-designacion-nuevo-asesor",props:{expediente:Object,graduando:Object,asesor:Object,jurados:Array,nombre_archivo_pdf:String,boton_nombre:String},data:function(){return{url_pdf:"".concat(this.$root.API_URL,"/pdfs/titulo_profesional_sustentacion_tesis/"),show_frame:"none"}},methods:{generarPdf:function(){this.$refs.frm_datos_pdf.expediente.value=JSON.stringify(this.expediente),this.$refs.frm_datos_pdf.graduando.value=JSON.stringify(this.graduando),this.$refs.frm_datos_pdf.asesor.value=JSON.stringify(this.asesor),this.$refs.frm_datos_pdf.jurados.value=JSON.stringify(this.jurados),this.$refs.frm_datos_pdf.submit(),this.show_frame="block"}}},I=R,O=Object(b["a"])(I,C,j,!1,null,null,null),k=O.exports,w=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b-form",{staticClass:"mb-3",on:{submit:function(t){return t.preventDefault(),e.registrarDocumento(t)}}},[null==e.array_opciones?a("b-row",[a("b-col",{attrs:{sm:"12",md:"8",lg:"8"}},[a("b-form-file",{attrs:{placeholder:"Seleccione un archivo...",accept:".jpg, .png, .pdf",required:""},model:{value:e.file,callback:function(t){e.file=t},expression:"file"}})],1),a("b-col",{attrs:{sm:"12",md:"4",lg:"4"}},[a("b-button",{attrs:{type:"submit",variant:"success",title:"Subir Archivo",disabled:e.array_documento.length==e.max_docs}},[a("b-icon",{attrs:{icon:"plus-circle"}})],1)],1)],1):a("b-row",[a("b-col",{attrs:{sm:"12",md:"3",lg:"3"}},[a("b-form-select",{staticClass:"mr-3",attrs:{options:e.array_opciones,required:""},model:{value:e.opcion_documento,callback:function(t){e.opcion_documento=t},expression:"opcion_documento"}})],1),a("b-col",{attrs:{sm:"12",md:"6",lg:"6"}},[a("b-form-file",{attrs:{placeholder:"Seleccione un archivo...",accept:".jpg, .png, .pdf",required:""},model:{value:e.file,callback:function(t){e.file=t},expression:"file"}})],1),a("b-col",{attrs:{sm:"12",md:"3",lg:"3"}},[a("b-button",{attrs:{type:"submit",variant:"success",title:"Subir Archivo",disabled:e.array_documento.length==e.max_docs}},[a("b-icon",{attrs:{icon:"plus-circle"}})],1)],1)],1)],1),a("b-table",{attrs:{items:e.array_documento,fields:e.columnas_documento,striped:"",bordered:"",small:"","show-empty":"","empty-text":"No hay documentos que mostrar.","primary-key":"id",busy:e.estaOcupado},scopedSlots:e._u([{key:"cell(acciones)",fn:function(t){return[a("form",{ref:"show_file",attrs:{action:e.url_show_file,target:"document-frame",method:"post"}},[a("input",{attrs:{type:"hidden",name:"file_id"},domProps:{value:t.item.id}})]),a("b-button",{staticClass:"mr-1",attrs:{variant:"warning",size:"sm",title:"Visualizar"},on:{click:function(a){return e.mostrarArchivo(t.item.nombre)}}},[a("b-icon",{attrs:{icon:"eye"}})],1),a("b-button",{attrs:{variant:"danger",size:"sm",title:"Eliminar"},on:{click:function(a){return e.eliminarDocumento(t.item.id)}}},[a("b-icon",{attrs:{icon:"trash"}})],1)]}},{key:"table-busy",fn:function(){return[a("div",{staticClass:"text-center text-danger my-2"},[a("b-spinner",{staticClass:"align-middle"}),a("strong",[e._v("Cargando...")])],1)]},proxy:!0}])}),a("div",{staticClass:"modal fade centered-modal",class:{mostrar:e.modal},staticStyle:{display:"none"},attrs:{tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-primary modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h4",{staticClass:"modal-title",domProps:{textContent:e._s(e.nombre_documento)}}),a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(t){e.modal=0}}},[a("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])]),a("div",{staticClass:"modal-body"},[a("iframe",{attrs:{name:"document-frame",src:e.url_show_file,width:"660",height:"380",frameborder:"0",allowtransparency:"true"}})]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(t){e.modal=0}}},[e._v("Cerrar")])])])])])],1)},D=[],$={name:"documentos",props:{expediente:Object,idgrado_proc:String,idusuario:String,ruta:Object,nombre_asignado:String,array_opciones:Array,max_docs:String},data:function(){return{url:this.$root.API_URL,url_show_file:this.$root.API_URL+"/utils/show_file.php",array_documento:[],columnas_documento:[{key:"nombre_asignado",label:"Nombre documento"},{key:"nombre_archivo",label:"Nombre archivo"},{key:"acciones",label:"Acciones",class:"text-center"}],file:null,estaOcupado:!1,modal:0,nombre_documento:"",opcion_documento:null}},methods:{cantidadDocumentos:function(){return this.array_documento.length},mostrarArchivo:function(e){this.$refs.show_file.submit(),this.nombre_documento=e,this.modal=1},getDocumento:function(){var e=this,t=this._toFormData({idgrado_proc:this.idgrado_proc,idusuario:this.idusuario,idexpediente:this.expediente.id});this.axios.post("".concat(this.url,"/Archivo/get"),t).then((function(t){t.data.error||(e.array_documento=t.data.array_documento)}))},registrarDocumento:function(){var e,t=this;e=null!=this.nombre_asignado?this.nombre_asignado:this.opcion_documento;var a=this._toFormData({idexpediente:this.expediente.id,idgrado_proc:this.idgrado_proc,idusuario:this.idusuario,idruta:this.ruta.id,nombre_asignado:e,file:this.file});this.estaOcupado=!0,this.axios.post("".concat(this.url,"/Archivo/store"),a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){console.log(e),t.resetearValores(),e.data.error?t.$root.mostrarNotificacion("Error!","danger",4e3,"error_outline",e.data.message,"bottom-right"):(t.$root.mostrarNotificacion("Éxito!","success",4e3,"done",e.data.message,"bottom-right"),t.getDocumento())}))},eliminarDocumento:function(e){var t=this,a=this,o=this._toFormData({id:e});this.$bvModal.msgBoxConfirm("¿Esta seguro de eliminar el documento?",{title:"Eliminar documento",okVariant:"danger",okTitle:"SI",cancelTitle:"NO",centered:!0}).then((function(e){e&&t.axios.post("".concat(t.url,"/Archivo/delete"),o).then((function(e){a.resetearValores(),e.data.error?a.$root.mostrarNotificacion("Error!","danger",4e3,"error_outline",e.data.message,"bottom-right"):(a.$root.mostrarNotificacion("Éxito!","success",4e3,"done",e.data.message,"bottom-right"),a.getDocumento())}))}))},resetearValores:function(){this.file=null,this.errors=[],this.opcion_documento=null,this.estaOcupado=!1},_toFormData:function(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return t}},mounted:function(){this.getDocumento()}},A=$,T=(a("8b6c"),Object(b["a"])(A,w,D,!1,null,"83a7ead4",null)),P=T.exports,E={name:"derivado-denegar",props:{grado_modalidad:Object,grado_procedimiento:Object,usuario:Object,expediente:Object,graduando:Object,ruta:Object,movimiento:Object},components:{generacion_documento:k,documentos:P,movimiento_expediente:_},data:function(){return{url:this.$root.API_URL,tabIndex:0,tabIndex2:0,existeRecursoRutaVecinas:!1,asesor:null,errors:[]}},methods:{prevTab:function(){this.errors=[],this.tabIndex2--,this.tabIndex--},nextTab:function(){this.errors=[];var e=!1;0==this.tabIndex&&(e=!0),1==this.tabIndex&&(e=this.validarTab1()),e&&(this.tabIndex2++,this.$nextTick((function(){this.tabIndex++})))},validarTab1:function(){return 0==this.$refs.documentos.cantidadDocumentos()&&this.errors.push("Debe registrar documentos para el expediente seleccionado."),!this.errors.length},verificarRecursoRutasVecinas:function(){var e=this,t=this._toFormData({idexpediente:this.expediente.id,idgrado_proc:this.grado_procedimiento.id,idusuario:this.usuario.id,idruta:this.ruta.id});this.axios.post("".concat(this.url,"/Recurso/verify"),t).then((function(t){t.data.error?console.log(t.data.message):e.existeRecursoRutaVecinas=t.data.existeRecursoRutaVecinas}))},getAsesor:function(){var e=this,t=this._toFormData({idexpediente:this.expediente.id});this.axios.post("".concat(this.url,"/Persona/get_asesor_expediente"),t).then((function(t){t.data.error?console.log(t.data.message):e.asesor=t.data.asesor}))},_toFormData:function(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return t}},mounted:function(){this.verificarRecursoRutasVecinas(),this.getAsesor()}},F=E,V=(a("0f72"),a("41c0"),Object(b["a"])(F,x,y,!1,null,"183d9506",null)),q=V.exports,S={name:"index",props:{grado_modalidad:Object,grado_procedimiento:Object,usuario:Object,expediente:Object,graduando:Object,movimiento:Object},components:{derivado_aceptar:g,derivado_denegar:q},data:function(){return{url:this.$root.API_URL,array_ruta:[],ruta_seleccionada:null,estados:this.$root.estados}},methods:{getRutas:function(){var e=this,t=this._toFormData({idgradproc_origen:this.grado_procedimiento.id});this.axios.post("".concat(this.url,"/Ruta/getRutasByProc"),t).then((function(t){t.data.error?console.log(t.data.message):e.array_ruta=t.data.array_ruta}))},_toFormData:function(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return t}},filters:{capitalize:function(e){return e?(e=e.toString(),e.charAt(0).toUpperCase()+e.slice(1)):""}},mounted:function(){this.getRutas()}},U=S,z=(a("9718"),Object(b["a"])(U,r,s,!1,null,"457a2034",null)),L=z.exports,N=function(){var e=this,t=e.$createElement,a=e._self._c||t;return null!=e.movimiento?a("div",[a("div",{staticClass:"row justify-content-center mb-1"},[a("fieldset",{staticClass:"col-8 col-md-6 px-3"},[a("legend",[e._v("Elija una opción:")]),a("div",{staticClass:"row justify-content-center"},[e._l(e.array_ruta,(function(t,o){return[a("b-form-radio",{key:o,staticClass:"m-2",attrs:{value:t,button:"",name:"acciones","button-variant":"outline-primary"},model:{value:e.ruta_seleccionada,callback:function(t){e.ruta_seleccionada=t},expression:"ruta_seleccionada"}},[e._v(" "+e._s(e._f("capitalize")(t.etiqueta))+" Expediente ")])]}))],2)])]),"derivado"==e.estados[e.movimiento.etiqueta]&&null!=e.ruta_seleccionada?["aprobar"==e.ruta_seleccionada.etiqueta?a("derivado_aprobar",{attrs:{grado_modalidad:e.grado_modalidad,grado_procedimiento:e.grado_procedimiento,usuario:e.usuario,expediente:e.expediente,graduando:e.graduando,ruta:e.ruta_seleccionada,movimiento:e.movimiento}}):e._e(),"rechazar"==e.ruta_seleccionada.etiqueta?a("derivado_rechazar",{attrs:{grado_modalidad:e.grado_modalidad,grado_procedimiento:e.grado_procedimiento,usuario:e.usuario,expediente:e.expediente,graduando:e.graduando,ruta:e.ruta_seleccionada,movimiento:e.movimiento}}):e._e()]:e._e()],2):e._e()},M=[],G=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-card",[e.existeRecursoRutaVecinas?[a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[a("ul",[a("li",[e._v("Debe deshacer las acciones realizadas en otras opciones de este procedimiento")])])])]:[a("b-card",{attrs:{"no-body":""}},[a("b-tabs",{staticStyle:{"min-height":"250px"},attrs:{card:"","active-nav-item-class":"font-weight-bold text-uppercase text-danger"},model:{value:e.tabIndex,callback:function(t){e.tabIndex=t},expression:"tabIndex"}},[a("b-tab",{attrs:{title:"1. Generar documento","title-item-class":"disabledTab",disabled:e.tabIndex2<0}},[a("generacion_documento",{ref:"documentos",attrs:{expediente:e.expediente,graduando:e.graduando,asesor:e.asesor,nombre_archivo_pdf:"informe_conformidad_asesoramiento.php",boton_nombre:"Informe conformidad asesoramiento"}})],1),a("b-tab",{attrs:{title:"2. Añadir documento","title-item-class":"disabledTab",disabled:e.tabIndex2<1}},[a("documentos",{ref:"documentos",attrs:{expediente:e.expediente,idgrado_proc:e.grado_procedimiento.id,idusuario:e.usuario.id,ruta:e.ruta,max_docs:"1",nombre_asignado:"Informe de conformidad de asesoramiento"}}),e.errors.length?a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[a("ul",e._l(e.errors,(function(t,o){return a("li",{key:o},[e._v(e._s(t))])})),0)]):e._e()],1),a("b-tab",{attrs:{title:"3. "+e.ruta.etiqueta.charAt(0).toUpperCase()+e.ruta.etiqueta.slice(1)+" expediente","title-item-class":"disabledTab",disabled:e.tabIndex2<2}},[a("movimiento_expediente",{attrs:{grado_modalidad:e.grado_modalidad,grado_procedimiento:e.grado_procedimiento,usuario:e.usuario,expediente:e.expediente,movimiento:e.movimiento,ruta:e.ruta}})],1)],1)],1),a("div",{staticClass:"text-center"},[a("b-button-group",{staticClass:"mt-3"},[a("b-button",{staticClass:"mr-1",attrs:{disabled:0==e.tabIndex},on:{click:e.prevTab}},[e._v("Anterior")]),a("b-button",{attrs:{disabled:2==e.tabIndex},on:{click:e.nextTab}},[e._v("Siguiente")])],1)],1)]],2)},B=[],J={name:"derivado-aprobar",props:{grado_modalidad:Object,grado_procedimiento:Object,usuario:Object,expediente:Object,graduando:Object,ruta:Object,movimiento:Object},components:{generacion_documento:k,documentos:P,movimiento_expediente:_},data:function(){return{url:this.$root.API_URL,tabIndex:0,tabIndex2:0,existeRecursoRutaVecinas:!1,asesor:null,errors:[]}},methods:{prevTab:function(){this.errors=[],this.tabIndex2--,this.tabIndex--},nextTab:function(){this.errors=[];var e=!1;0==this.tabIndex&&(e=!0),1==this.tabIndex&&(e=this.validarTab1()),e&&(this.tabIndex2++,this.$nextTick((function(){this.tabIndex++})))},validarTab1:function(){return 0==this.$refs.documentos.cantidadDocumentos()&&this.errors.push("Debe registrar documentos para el expediente seleccionado."),!this.errors.length},verificarRecursoRutasVecinas:function(){var e=this,t=this._toFormData({idexpediente:this.expediente.id,idgrado_proc:this.grado_procedimiento.id,idusuario:this.usuario.id,idruta:this.ruta.id});this.axios.post("".concat(this.url,"/Recurso/verify"),t).then((function(t){t.data.error?console.log(t.data.message):e.existeRecursoRutaVecinas=t.data.existeRecursoRutaVecinas}))},getAsesor:function(){var e=this,t=this._toFormData({idexpediente:this.expediente.id});this.axios.post("".concat(this.url,"/Persona/get_asesor_expediente"),t).then((function(t){t.data.error?console.log(t.data.message):e.asesor=t.data.asesor}))},_toFormData:function(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return t}},mounted:function(){this.verificarRecursoRutasVecinas(),this.getAsesor()}},H=J,K=(a("351d"),a("d0e7"),Object(b["a"])(H,G,B,!1,null,"71a280e9",null)),Q=K.exports,W=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-card",[e.existeRecursoRutaVecinas?[a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[a("ul",[a("li",[e._v("Debe deshacer las acciones realizadas en otras opciones de este procedimiento")])])])]:[a("b-card",{attrs:{"no-body":""}},[a("b-tabs",{staticStyle:{"min-height":"250px"},attrs:{card:"","active-nav-item-class":"font-weight-bold text-uppercase text-danger"},model:{value:e.tabIndex,callback:function(t){e.tabIndex=t},expression:"tabIndex"}},[a("b-tab",{attrs:{title:"1. Añadir observaciones","title-item-class":"disabledTab",disabled:e.tabIndex2<0}},[a("observaciones",{ref:"observaciones",attrs:{expediente:e.expediente,idgrado_proc:e.grado_procedimiento.id,idusuario:e.usuario.id,ruta:e.ruta}}),e.errors.length?a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[a("ul",e._l(e.errors,(function(t,o){return a("li",{key:o},[e._v(e._s(t))])})),0)]):e._e()],1),a("b-tab",{attrs:{title:"2. "+e.ruta.etiqueta.charAt(0).toUpperCase()+e.ruta.etiqueta.slice(1)+" expediente","title-item-class":"disabledTab",disabled:e.tabIndex2<1}},[a("movimiento_expediente",{attrs:{grado_modalidad:e.grado_modalidad,grado_procedimiento:e.grado_procedimiento,usuario:e.usuario,expediente:e.expediente,movimiento:e.movimiento,ruta:e.ruta}})],1)],1)],1),a("div",{staticClass:"text-center"},[a("b-button-group",{staticClass:"mt-3"},[a("b-button",{staticClass:"mr-1",attrs:{disabled:0==e.tabIndex},on:{click:e.prevTab}},[e._v("Anterior")]),a("b-button",{attrs:{disabled:1==e.tabIndex},on:{click:e.nextTab}},[e._v("Siguiente")])],1)],1)]],2)},X=[],Y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b-form",{staticClass:"mb-3",on:{submit:function(t){return t.preventDefault(),e.guardarObservaciones(t)}}},[a("b-row",{staticClass:"justify-content-lg-center mb-2"},[a("b-col",{attrs:{col:"",lg:"6"}},[a("b-form-group",{staticClass:"mb-0",attrs:{label:"Observaciones:","label-for":"observaciones"}},[a("b-form-textarea",{attrs:{id:"observaciones",placeholder:"Ingrese al menos 30 caracteres",state:e.observacion.descripcion.length>=30,required:"",rows:"3"},model:{value:e.observacion.descripcion,callback:function(t){e.$set(e.observacion,"descripcion",t)},expression:"observacion.descripcion"}})],1)],1)],1),a("b-row",{staticClass:"justify-content-lg-center"},[a("b-col",{staticClass:"text-right",attrs:{col:"",lg:"6"}},[a("b-button",{staticStyle:{height:"34px"},attrs:{variant:"success",size:"sm",type:"submit",title:"Guardar"}},[e._v(" Guardar ")])],1)],1)],1),a("b-table",{attrs:{items:e.array_observaciones,fields:e.columnas_observaciones,striped:"",bordered:"",small:"","show-empty":"","empty-text":"No hay observaciones que mostrar.","primary-key":"id"},scopedSlots:e._u([{key:"cell(acciones)",fn:function(t){return[a("b-button",{staticClass:"mr-1",attrs:{variant:"warning",size:"sm",title:"Editar"},on:{click:function(a){return e.editarObservaciones(t.item)}}},[a("b-icon",{attrs:{icon:"pencil-square"}})],1),a("b-button",{attrs:{variant:"danger",size:"sm",title:"Eliminar"},on:{click:function(a){return e.eliminarObservaciones(t.item.id)}}},[a("b-icon",{attrs:{icon:"trash"}})],1)]}}])}),e.errors.length?a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[a("ul",e._l(e.errors,(function(t,o){return a("li",{key:o},[e._v(e._s(t))])})),0)]):e._e()],1)},Z=[],ee={name:"observaciones",props:{expediente:Object,idgrado_proc:String,idusuario:String,ruta:Object},data:function(){return{url:this.$root.API_URL,columnas_observaciones:[{key:"descripcion",label:"Observaciones"},{key:"acciones",label:"Acciones",class:"text-center"}],observacion:{id:null,descripcion:""},array_observaciones:[],errors:[]}},methods:{cantidadObservaciones:function(){return this.array_observaciones.length},editarObservaciones:function(e){this.observacion=Object.assign({},e)},guardarObservaciones:function(){null==this.observacion.id?this.registrarObservaciones():this.actualizarObservaciones()},getObservaciones:function(){var e=this,t=this._toFormData({idgrado_proc:this.idgrado_proc,idusuario:this.idusuario,idexpediente:this.expediente.id});this.axios.post("".concat(this.url,"/Observaciones/show"),t).then((function(t){t.data.error?console.log(t.data.message):e.array_observaciones=t.data.array_observaciones}))},registrarObservaciones:function(){if(this.errors=[],this.observacion.descripcion.length<30)this.errors.push("Debe ingresar al menos 30 caracteres.");else{var e=this,t=this._toFormData({idexpediente:this.expediente.id,idgrado_proc:this.idgrado_proc,idusuario:this.idusuario,idruta:this.ruta.id,descripcion:this.observacion.descripcion});this.axios.post("".concat(this.url,"/Observaciones/store"),t).then((function(t){e.resetearValores(),t.data.error?e.$root.mostrarNotificacion("Error!","danger",4e3,"error_outline",t.data.message,"bottom-right"):(e.$root.mostrarNotificacion("Éxito!","success",4e3,"done",t.data.message,"bottom-right"),e.getObservaciones())}))}},actualizarObservaciones:function(){if(this.errors=[],this.observacion.descripcion.length<30)this.errors.push("Debe ingresar al menos 30 caracteres.");else{var e=this,t=this._toFormData({id:this.observacion.id,descripcion:this.observacion.descripcion});this.axios.post("".concat(this.url,"/Observaciones/update"),t).then((function(t){e.resetearValores(),t.data.error?e.$root.mostrarNotificacion("Error!","danger",4e3,"error_outline",t.data.message,"bottom-right"):(e.$root.mostrarNotificacion("Éxito!","success",4e3,"done",t.data.message,"bottom-right"),e.getObservaciones())}))}},eliminarObservaciones:function(e){var t=this,a=this,o=this._toFormData({id:e});this.$bvModal.msgBoxConfirm("¿Seguro que quieres eliminar estas observaciones?",{title:"Eliminar observaciones",okVariant:"danger",okTitle:"Eliminar",cancelTitle:"Cancelar",centered:!0}).then((function(e){e&&t.axios.post("".concat(t.url,"/Observaciones/delete"),o).then((function(e){a.resetearValores(),e.data.error?a.$root.mostrarNotificacion("Error!","danger",4e3,"error_outline",e.data.message,"bottom-right"):(a.$root.mostrarNotificacion("Éxito!","success",4e3,"done",e.data.message,"bottom-right"),a.getObservaciones())}))}))},resetearValores:function(){this.observacion.id=null,this.observacion.descripcion=""},_toFormData:function(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return t}},filters:{capitalize:function(e){return e?(e=e.toString(),e.charAt(0).toUpperCase()+e.slice(1)):""}},mounted:function(){this.getObservaciones()}},te=ee,ae=(a("6234"),Object(b["a"])(te,Y,Z,!1,null,"09bacf01",null)),oe=ae.exports,ie={name:"derivado-rechazar",props:{grado_modalidad:Object,grado_procedimiento:Object,usuario:Object,expediente:Object,graduando:Object,ruta:Object,movimiento:Object},components:{observaciones:oe,movimiento_expediente:_},data:function(){return{url:this.$root.API_URL,tabIndex:0,tabIndex2:0,existeRecursoRutaVecinas:!1,errors:[]}},methods:{prevTab:function(){this.errors=[],this.tabIndex2--,this.tabIndex--},nextTab:function(){this.errors=[];var e=!1;0==this.tabIndex&&(e=this.validarTab1()),e&&(this.tabIndex2++,this.$nextTick((function(){this.tabIndex++})))},validarTab1:function(){return 0==this.$refs.observaciones.cantidadObservaciones()&&this.errors.push("Debe registrar observaciones para el expediente seleccionado."),!this.errors.length},verificarRecursoRutasVecinas:function(){var e=this,t=this._toFormData({idexpediente:this.expediente.id,idgrado_proc:this.grado_procedimiento.id,idusuario:this.usuario.id,idruta:this.ruta.id});this.axios.post("".concat(this.url,"/Recurso/verify"),t).then((function(t){t.data.error?console.log(t.data.message):e.existeRecursoRutaVecinas=t.data.existeRecursoRutaVecinas}))},_toFormData:function(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return t}},mounted:function(){this.verificarRecursoRutasVecinas()}},re=ie,se=(a("4a66"),a("41a7"),Object(b["a"])(re,W,X,!1,null,"777fd1e3",null)),ne=se.exports,de={name:"index",props:{grado_modalidad:Object,grado_procedimiento:Object,usuario:Object,expediente:Object,graduando:Object,movimiento:Object},components:{derivado_aprobar:Q,derivado_rechazar:ne},data:function(){return{url:this.$root.API_URL,array_ruta:[],ruta_seleccionada:null,estados:this.$root.estados}},methods:{getRutas:function(){var e=this,t=this._toFormData({idgradproc_origen:this.grado_procedimiento.id});this.axios.post("".concat(this.url,"/Ruta/getRutasByProc"),t).then((function(t){t.data.error?console.log(t.data.message):e.array_ruta=t.data.array_ruta}))},_toFormData:function(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return t}},filters:{capitalize:function(e){return e?(e=e.toString(),e.charAt(0).toUpperCase()+e.slice(1)):""}},mounted:function(){this.getRutas()}},ce=de,ue=(a("3217"),Object(b["a"])(ce,N,M,!1,null,"12a0c19a",null)),le=ue.exports,me=function(){var e=this,t=e.$createElement,a=e._self._c||t;return null!=e.movimiento?a("div",[a("div",{staticClass:"row justify-content-center mb-1"},[a("fieldset",{staticClass:"col-8 col-md-6 px-3"},[a("legend",[e._v("Elija una opción:")]),a("div",{staticClass:"row justify-content-center"},[e._l(e.array_ruta,(function(t,o){return[a("b-form-radio",{key:o,staticClass:"m-2",attrs:{value:t,button:"",name:"acciones","button-variant":"outline-primary"},model:{value:e.ruta_seleccionada,callback:function(t){e.ruta_seleccionada=t},expression:"ruta_seleccionada"}},[e._v(" "+e._s(e._f("capitalize")(t.etiqueta))+" Expediente ")])]}))],2)])]),"derivado"==e.estados[e.movimiento.etiqueta]&&null!=e.ruta_seleccionada?["aprobar"==e.ruta_seleccionada.etiqueta?a("derivado_aprobar",{attrs:{grado_modalidad:e.grado_modalidad,grado_procedimiento:e.grado_procedimiento,usuario:e.usuario,tipo_rol:e.tipo_rol,expediente:e.expediente,graduando:e.graduando,ruta:e.ruta_seleccionada,movimiento:e.movimiento}}):e._e(),"observar"==e.ruta_seleccionada.etiqueta?a("derivado_observar",{attrs:{grado_modalidad:e.grado_modalidad,grado_procedimiento:e.grado_procedimiento,usuario:e.usuario,tipo_rol:e.tipo_rol,expediente:e.expediente,graduando:e.graduando,ruta:e.ruta_seleccionada,movimiento:e.movimiento}}):e._e()]:e._e()],2):e._e()},be=[],pe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-card",[e.existeRecursoRutaVecinas?[a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[a("ul",[a("li",[e._v("Debe deshacer las acciones realizadas en otras opciones de este procedimiento")])])])]:[a("b-card",{attrs:{"no-body":""}},[a("b-tabs",{staticStyle:{"min-height":"250px"},attrs:{card:"","active-nav-item-class":"font-weight-bold text-uppercase text-danger"},model:{value:e.tabIndex,callback:function(t){e.tabIndex=t},expression:"tabIndex"}},[a("b-tab",{attrs:{title:"1. "+e.ruta.etiqueta.charAt(0).toUpperCase()+e.ruta.etiqueta.slice(1)+" expediente","title-item-class":"disabledTab",disabled:e.tabIndex2<0}},[a("movimiento_expediente",{attrs:{grado_modalidad:e.grado_modalidad,grado_procedimiento:e.grado_procedimiento,usuario:e.usuario,expediente:e.expediente,movimiento:e.movimiento,ruta:e.ruta}})],1)],1)],1),a("div",{staticClass:"text-center"},[a("b-button-group",{staticClass:"mt-3"},[a("b-button",{staticClass:"mr-1",attrs:{disabled:0==e.tabIndex},on:{click:e.prevTab}},[e._v("Anterior")]),a("b-button",{attrs:{disabled:0==e.tabIndex},on:{click:e.nextTab}},[e._v("Siguiente")])],1)],1)]],2)},_e=[],fe={name:"derivado-aprobar",props:{grado_modalidad:Object,grado_procedimiento:Object,usuario:Object,expediente:Object,graduando:Object,ruta:Object,movimiento:Object},components:{movimiento_expediente:_},data:function(){return{url:this.$root.API_URL,tabIndex:0,tabIndex2:0,existeRecursoRutaVecinas:!1,errors:[]}},methods:{prevTab:function(){this.errors=[],this.tabIndex2--,this.tabIndex--},nextTab:function(){this.errors=[];var e=!1;e&&(this.tabIndex2++,this.$nextTick((function(){this.tabIndex++})))},verificarRecursoRutasVecinas:function(){var e=this,t=this._toFormData({idexpediente:this.expediente.id,idgrado_proc:this.grado_procedimiento.id,idusuario:this.usuario.id,idruta:this.ruta.id});this.axios.post("".concat(this.url,"/Recurso/verify"),t).then((function(t){t.data.error?console.log(t.data.message):e.existeRecursoRutaVecinas=t.data.existeRecursoRutaVecinas}))},_toFormData:function(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return t}},mounted:function(){this.verificarRecursoRutasVecinas()}},he=fe,ve=(a("edaa"),a("fe50"),Object(b["a"])(he,pe,_e,!1,null,"26eff792",null)),ge=ve.exports,xe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-card",[e.existeRecursoRutaVecinas?[a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[a("ul",[a("li",[e._v("Debe deshacer las acciones realizadas en otras opciones de este procedimiento")])])])]:[a("b-card",{attrs:{"no-body":""}},[a("b-tabs",{staticStyle:{"min-height":"250px"},attrs:{card:"","active-nav-item-class":"font-weight-bold text-uppercase text-danger"},model:{value:e.tabIndex,callback:function(t){e.tabIndex=t},expression:"tabIndex"}},[a("b-tab",{attrs:{title:"1. Añadir observaciones","title-item-class":"disabledTab",disabled:e.tabIndex2<0}},[a("observaciones",{ref:"observaciones",attrs:{expediente:e.expediente,idgrado_proc:e.grado_procedimiento.id,idusuario:e.usuario.id,ruta:e.ruta}}),e.errors.length?a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[a("ul",e._l(e.errors,(function(t,o){return a("li",{key:o},[e._v(e._s(t))])})),0)]):e._e()],1),a("b-tab",{attrs:{title:"2. "+e.ruta.etiqueta.charAt(0).toUpperCase()+e.ruta.etiqueta.slice(1)+" expediente","title-item-class":"disabledTab",disabled:e.tabIndex2<1}},[a("movimiento_expediente",{attrs:{grado_modalidad:e.grado_modalidad,grado_procedimiento:e.grado_procedimiento,usuario:e.usuario,expediente:e.expediente,movimiento:e.movimiento,ruta:e.ruta}})],1)],1)],1),a("div",{staticClass:"text-center"},[a("b-button-group",{staticClass:"mt-3"},[a("b-button",{staticClass:"mr-1",attrs:{disabled:0==e.tabIndex},on:{click:e.prevTab}},[e._v("Anterior")]),a("b-button",{attrs:{disabled:1==e.tabIndex},on:{click:e.nextTab}},[e._v("Siguiente")])],1)],1)]],2)},ye=[],Ce={name:"derivado-observar",props:{grado_modalidad:Object,grado_procedimiento:Object,usuario:Object,expediente:Object,graduando:Object,ruta:Object,movimiento:Object},components:{observaciones:oe,movimiento_expediente:_},data:function(){return{url:this.$root.API_URL,tabIndex:0,tabIndex2:0,existeRecursoRutaVecinas:!1,errors:[]}},methods:{prevTab:function(){this.errors=[],this.tabIndex2--,this.tabIndex--},nextTab:function(){this.errors=[];var e=!1;0==this.tabIndex&&(e=this.validarTab1()),e&&(this.tabIndex2++,this.$nextTick((function(){this.tabIndex++})))},validarTab1:function(){return 0==this.$refs.observaciones.cantidadObservaciones()&&this.errors.push("Debe registrar observaciones para el expediente seleccionado."),!this.errors.length},verificarRecursoRutasVecinas:function(){var e=this,t=this._toFormData({idexpediente:this.expediente.id,idgrado_proc:this.grado_procedimiento.id,idusuario:this.usuario.id,idruta:this.ruta.id});this.axios.post("".concat(this.url,"/Recurso/verify"),t).then((function(t){t.data.error?console.log(t.data.message):e.existeRecursoRutaVecinas=t.data.existeRecursoRutaVecinas}))},_toFormData:function(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return t}},mounted:function(){this.verificarRecursoRutasVecinas()}},je=Ce,Re=(a("69b1"),a("901a"),Object(b["a"])(je,xe,ye,!1,null,"21c8d0c4",null)),Ie=Re.exports,Oe={name:"index",props:{grado_modalidad:Object,grado_procedimiento:Object,usuario:Object,expediente:Object,graduando:Object,movimiento:Object},components:{derivado_aprobar:ge,derivado_observar:Ie},data:function(){return{url:this.$root.API_URL,array_ruta:[],ruta_seleccionada:null,estados:this.$root.estados}},methods:{getRutas:function(){var e=this,t=this._toFormData({idgradproc_origen:this.grado_procedimiento.id});this.axios.post("".concat(this.url,"/Ruta/getRutasByProc"),t).then((function(t){t.data.error?console.log(t.data.message):e.array_ruta=t.data.array_ruta}))},_toFormData:function(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return t}},filters:{capitalize:function(e){return e?(e=e.toString(),e.charAt(0).toUpperCase()+e.slice(1)):""}},mounted:function(){this.getRutas()}},ke=Oe,we=(a("bbcc"),Object(b["a"])(ke,me,be,!1,null,"666a99f4",null)),De=we.exports,$e=function(){var e=this,t=e.$createElement,a=e._self._c||t;return null!=e.movimiento?a("div",[a("div",{staticClass:"row justify-content-center mb-1"},[a("fieldset",{staticClass:"col-10 col-md-8 px-3"},[a("legend",[e._v("Elija una opción:")]),a("div",{staticClass:"row justify-content-center"},[e._l(e.array_ruta,(function(t,o){return[a("b-form-radio",{key:o,staticClass:"m-2",attrs:{value:t,button:"",name:"acciones","button-variant":"outline-primary"},model:{value:e.ruta_seleccionada,callback:function(t){e.ruta_seleccionada=t},expression:"ruta_seleccionada"}},[e._v(" "+e._s(e._f("capitalize")(t.etiqueta))+" Expediente ")])]}))],2)])]),"aprobado"!=e.estados[e.movimiento.etiqueta]&&"enviado"!=e.estados[e.movimiento.etiqueta]||null==e.ruta_seleccionada?e._e():["aprobar"==e.ruta_seleccionada.etiqueta?a("aprobado_enviado_aprobar",{attrs:{grado_modalidad:e.grado_modalidad,grado_procedimiento:e.grado_procedimiento,usuario:e.usuario,expediente:e.expediente,graduando:e.graduando,ruta:e.ruta_seleccionada,movimiento:e.movimiento}}):e._e(),"denegar"==e.ruta_seleccionada.etiqueta?a("aprobado_enviado_denegar",{attrs:{grado_modalidad:e.grado_modalidad,grado_procedimiento:e.grado_procedimiento,usuario:e.usuario,expediente:e.expediente,graduando:e.graduando,ruta:e.ruta_seleccionada,movimiento:e.movimiento}}):e._e(),"rechazar"==e.ruta_seleccionada.etiqueta?a("aprobado_enviado_rechazar",{attrs:{grado_modalidad:e.grado_modalidad,grado_procedimiento:e.grado_procedimiento,usuario:e.usuario,expediente:e.expediente,graduando:e.graduando,ruta:e.ruta_seleccionada,movimiento:e.movimiento}}):e._e()]],2):e._e()},Ae=[],Te=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-card",[e.existeRecursoRutaVecinas?[a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[a("ul",[a("li",[e._v("Debe deshacer las acciones realizadas en otras opciones de este procedimiento")])])])]:[a("b-card",{attrs:{"no-body":""}},[a("b-tabs",{staticStyle:{"min-height":"250px"},attrs:{card:"","active-nav-item-class":"font-weight-bold text-uppercase text-danger"},model:{value:e.tabIndex,callback:function(t){e.tabIndex=t},expression:"tabIndex"}},[a("b-tab",{attrs:{title:"1. "+e.ruta.etiqueta.charAt(0).toUpperCase()+e.ruta.etiqueta.slice(1)+" expediente","title-item-class":"disabledTab",disabled:e.tabIndex2<0}},[a("movimiento_expediente",{attrs:{grado_modalidad:e.grado_modalidad,grado_procedimiento:e.grado_procedimiento,usuario:e.usuario,expediente:e.expediente,movimiento:e.movimiento,ruta:e.ruta}})],1)],1)],1),a("div",{staticClass:"text-center"},[a("b-button-group",{staticClass:"mt-3"},[a("b-button",{staticClass:"mr-1",attrs:{disabled:0==e.tabIndex},on:{click:e.prevTab}},[e._v("Anterior")]),a("b-button",{attrs:{disabled:0==e.tabIndex},on:{click:e.nextTab}},[e._v("Siguiente")])],1)],1)]],2)},Pe=[],Ee={name:"aprobado-aprobar",props:{grado_modalidad:Object,grado_procedimiento:Object,usuario:Object,expediente:Object,graduando:Object,ruta:Object,movimiento:Object},components:{movimiento_expediente:_},data:function(){return{url:this.$root.API_URL,tabIndex:0,tabIndex2:0,existeRecursoRutaVecinas:!1,errors:[]}},methods:{prevTab:function(){this.errors=[],this.tabIndex2--,this.tabIndex--},nextTab:function(){this.errors=[];var e=!1;e&&(this.tabIndex2++,this.$nextTick((function(){this.tabIndex++})))},verificarRecursoRutasVecinas:function(){var e=this,t=this._toFormData({idexpediente:this.expediente.id,idgrado_proc:this.grado_procedimiento.id,idusuario:this.usuario.id,idruta:this.ruta.id});this.axios.post("".concat(this.url,"/Recurso/verify"),t).then((function(t){t.data.error?console.log(t.data.message):e.existeRecursoRutaVecinas=t.data.existeRecursoRutaVecinas}))},_toFormData:function(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return t}},mounted:function(){this.verificarRecursoRutasVecinas()}},Fe=Ee,Ve=(a("caf9"),a("f1fe"),Object(b["a"])(Fe,Te,Pe,!1,null,"075ef090",null)),qe=Ve.exports,Se=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-card",[e.existeRecursoRutaVecinas?[a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[a("ul",[a("li",[e._v("Debe deshacer las acciones realizadas en otras opciones de este procedimiento")])])])]:[a("b-card",{attrs:{"no-body":""}},[a("b-tabs",{staticStyle:{"min-height":"250px"},attrs:{card:"","active-nav-item-class":"font-weight-bold text-uppercase text-danger"},model:{value:e.tabIndex,callback:function(t){e.tabIndex=t},expression:"tabIndex"}},[a("b-tab",{attrs:{title:"1. Añadir observaciones","title-item-class":"disabledTab",disabled:e.tabIndex2<0}},[a("observaciones",{ref:"observaciones",attrs:{expediente:e.expediente,idgrado_proc:e.grado_procedimiento.id,idusuario:e.usuario.id,ruta:e.ruta}}),e.errors.length?a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[a("ul",e._l(e.errors,(function(t,o){return a("li",{key:o},[e._v(e._s(t))])})),0)]):e._e()],1),a("b-tab",{attrs:{title:"2. "+e.ruta.etiqueta.charAt(0).toUpperCase()+e.ruta.etiqueta.slice(1)+" expediente","title-item-class":"disabledTab",disabled:e.tabIndex2<1}},[a("movimiento_expediente",{attrs:{grado_modalidad:e.grado_modalidad,grado_procedimiento:e.grado_procedimiento,usuario:e.usuario,expediente:e.expediente,movimiento:e.movimiento,ruta:e.ruta}})],1)],1)],1),a("div",{staticClass:"text-center"},[a("b-button-group",{staticClass:"mt-3"},[a("b-button",{staticClass:"mr-1",attrs:{disabled:0==e.tabIndex},on:{click:e.prevTab}},[e._v("Anterior")]),a("b-button",{attrs:{disabled:1==e.tabIndex},on:{click:e.nextTab}},[e._v("Siguiente")])],1)],1)]],2)},Ue=[],ze={name:"aprobado-denegar",props:{grado_modalidad:Object,grado_procedimiento:Object,usuario:Object,expediente:Object,graduando:Object,ruta:Object,movimiento:Object},components:{observaciones:oe,movimiento_expediente:_},data:function(){return{url:this.$root.API_URL,tabIndex:0,tabIndex2:0,existeRecursoRutaVecinas:!1,errors:[]}},methods:{prevTab:function(){this.errors=[],this.tabIndex2--,this.tabIndex--},nextTab:function(){this.errors=[];var e=!1;0==this.tabIndex&&(e=this.validarTab1()),e&&(this.tabIndex2++,this.$nextTick((function(){this.tabIndex++})))},validarTab1:function(){return 0==this.$refs.observaciones.cantidadObservaciones()&&this.errors.push("Debe registrar observaciones para el expediente seleccionado."),!this.errors.length},verificarRecursoRutasVecinas:function(){var e=this,t=this._toFormData({idexpediente:this.expediente.id,idgrado_proc:this.grado_procedimiento.id,idusuario:this.usuario.id,idruta:this.ruta.id});this.axios.post("".concat(this.url,"/Recurso/verify"),t).then((function(t){t.data.error?console.log(t.data.message):e.existeRecursoRutaVecinas=t.data.existeRecursoRutaVecinas}))},_toFormData:function(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return t}},mounted:function(){this.verificarRecursoRutasVecinas()}},Le=ze,Ne=(a("e8fa"),a("eae2"),Object(b["a"])(Le,Se,Ue,!1,null,"f7daa2cc",null)),Me=Ne.exports,Ge=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-card",[e.existeRecursoRutaVecinas?[a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[a("ul",[a("li",[e._v("Debe deshacer las acciones realizadas en otras opciones de este procedimiento")])])])]:[a("b-card",{attrs:{"no-body":""}},[a("b-tabs",{staticStyle:{"min-height":"250px"},attrs:{card:"","active-nav-item-class":"font-weight-bold text-uppercase text-danger"},model:{value:e.tabIndex,callback:function(t){e.tabIndex=t},expression:"tabIndex"}},[a("b-tab",{attrs:{title:"1. Añadir observaciones","title-item-class":"disabledTab",disabled:e.tabIndex2<0}},[a("observaciones",{ref:"observaciones",attrs:{expediente:e.expediente,idgrado_proc:e.grado_procedimiento.id,idusuario:e.usuario.id,ruta:e.ruta}}),e.errors.length?a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[a("ul",e._l(e.errors,(function(t,o){return a("li",{key:o},[e._v(e._s(t))])})),0)]):e._e()],1),a("b-tab",{attrs:{title:"2. "+e.ruta.etiqueta.charAt(0).toUpperCase()+e.ruta.etiqueta.slice(1)+" expediente","title-item-class":"disabledTab",disabled:e.tabIndex2<1}},[a("movimiento_expediente",{attrs:{grado_modalidad:e.grado_modalidad,grado_procedimiento:e.grado_procedimiento,usuario:e.usuario,expediente:e.expediente,movimiento:e.movimiento,ruta:e.ruta}})],1)],1)],1),a("div",{staticClass:"text-center"},[a("b-button-group",{staticClass:"mt-3"},[a("b-button",{staticClass:"mr-1",attrs:{disabled:0==e.tabIndex},on:{click:e.prevTab}},[e._v("Anterior")]),a("b-button",{attrs:{disabled:1==e.tabIndex},on:{click:e.nextTab}},[e._v("Siguiente")])],1)],1)]],2)},Be=[],Je={name:"aprobado-rechazar",props:{grado_modalidad:Object,grado_procedimiento:Object,usuario:Object,expediente:Object,graduando:Object,ruta:Object,movimiento:Object},components:{observaciones:oe,movimiento_expediente:_},data:function(){return{url:this.$root.API_URL,tabIndex:0,tabIndex2:0,existeRecursoRutaVecinas:!1,errors:[]}},methods:{prevTab:function(){this.errors=[],this.tabIndex2--,this.tabIndex--},nextTab:function(){this.errors=[];var e=!1;0==this.tabIndex&&(e=this.validarTab1()),e&&(this.tabIndex2++,this.$nextTick((function(){this.tabIndex++})))},validarTab1:function(){return 0==this.$refs.observaciones.cantidadObservaciones()&&this.errors.push("Debe registrar observaciones para el expediente seleccionado."),!this.errors.length},verificarRecursoRutasVecinas:function(){var e=this,t=this._toFormData({idexpediente:this.expediente.id,idgrado_proc:this.grado_procedimiento.id,idusuario:this.usuario.id,idruta:this.ruta.id});this.axios.post("".concat(this.url,"/Recurso/verify"),t).then((function(t){t.data.error?console.log(t.data.message):e.existeRecursoRutaVecinas=t.data.existeRecursoRutaVecinas}))},_toFormData:function(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return t}},mounted:function(){this.verificarRecursoRutasVecinas()}},He=Je,Ke=(a("6462"),a("331a"),Object(b["a"])(He,Ge,Be,!1,null,"7838d560",null)),Qe=Ke.exports,We={name:"index",props:{grado_modalidad:Object,grado_procedimiento:Object,usuario:Object,expediente:Object,graduando:Object,movimiento:Object},components:{aprobado_enviado_aprobar:qe,aprobado_enviado_denegar:Me,aprobado_enviado_rechazar:Qe},data:function(){return{url:this.$root.API_URL,array_ruta:[],ruta_seleccionada:null,estados:this.$root.estados}},methods:{getRutas:function(){var e=this,t=this._toFormData({idgradproc_origen:this.grado_procedimiento.id});this.axios.post("".concat(this.url,"/Ruta/getRutasByProc"),t).then((function(t){t.data.error?console.log(t.data.message):e.array_ruta=t.data.array_ruta}))},_toFormData:function(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return t}},filters:{capitalize:function(e){return e?(e=e.toString(),e.charAt(0).toUpperCase()+e.slice(1)):""}},mounted:function(){this.getRutas()}},Xe=We,Ye=(a("c195"),Object(b["a"])(Xe,$e,Ae,!1,null,"7d22ed84",null)),Ze=Ye.exports,et=function(){var e=this,t=e.$createElement,a=e._self._c||t;return null!=e.movimiento?a("div",[a("div",{staticClass:"row justify-content-center mb-1"},[a("fieldset",{staticClass:"col-8 col-md-6 px-3"},[a("legend",[e._v("Elija una opción:")]),a("div",{staticClass:"row justify-content-center"},[e._l(e.array_ruta,(function(t,o){return[a("b-form-radio",{key:o,staticClass:"m-2",attrs:{value:t,button:"",name:"acciones","button-variant":"outline-primary"},model:{value:e.ruta_seleccionada,callback:function(t){e.ruta_seleccionada=t},expression:"ruta_seleccionada"}},[e._v(" "+e._s(e._f("capitalize")(t.etiqueta))+" Expediente ")])]}))],2)])]),"derivado"==e.estados[e.movimiento.etiqueta]&&null!=e.ruta_seleccionada?["derivar"==e.ruta_seleccionada.etiqueta?a("derivado_derivar",{attrs:{grado_modalidad:e.grado_modalidad,grado_procedimiento:e.grado_procedimiento,usuario:e.usuario,idexpediente:e.expediente.id,graduando:e.graduando,ruta:e.ruta_seleccionada,movimiento:e.movimiento}}):e._e()]:e._e()],2):e._e()},tt=[],at=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-card",[e.existeRecursoRutaVecinas?[a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[a("ul",[a("li",[e._v("Debe deshacer las acciones realizadas en otras opciones de este procedimiento")])])])]:[a("b-card",{attrs:{"no-body":""}},[a("b-tabs",{staticStyle:{"min-height":"250px"},attrs:{card:"","active-nav-item-class":"font-weight-bold text-uppercase text-danger"},model:{value:e.tabIndex,callback:function(t){e.tabIndex=t},expression:"tabIndex"}},[a("b-tab",{attrs:{title:"1. Información de dictamen","title-item-class":"disabledTab",disabled:e.tabIndex2<0}},[a("b-row",[a("b-col",[a("b-form-group",{attrs:{label:"Fecha de sesión de jurado:","label-for":"input-1"}},[a("b-form-input",{staticClass:"text-center",attrs:{id:"input-1",readonly:""},model:{value:e.expediente.fecha_sesion_jurado,callback:function(t){e.$set(e.expediente,"fecha_sesion_jurado",t)},expression:"expediente.fecha_sesion_jurado"}})],1)],1),a("b-col",[a("b-form-group",{attrs:{label:"Fecha de sustentación:","label-for":"input-2"}},[a("b-form-input",{staticClass:"text-center",attrs:{id:"input-2",readonly:""},model:{value:e.expediente.fecha_sustentacion,callback:function(t){e.$set(e.expediente,"fecha_sustentacion",t)},expression:"expediente.fecha_sustentacion"}})],1)],1),a("b-col",[a("b-form-group",{attrs:{label:"Hora de sustentación:","label-for":"input-3"}},[a("b-form-input",{staticClass:"text-center",attrs:{id:"input-3",readonly:""},model:{value:e.expediente.hora_sustentacion,callback:function(t){e.$set(e.expediente,"hora_sustentacion",t)},expression:"expediente.hora_sustentacion"}})],1)],1)],1),a("info_acta_dictamen",{attrs:{expediente:e.expediente,fecha_sesion_jurado:e.expediente.fecha_sesion_jurado,fecha_sustentacion:e.expediente.fecha_sustentacion,hora_sustentacion:e.expediente.hora_sustentacion},on:{updateDataFromChild:e.actualizarInfoDictamen}}),a("br"),e.errors.length?a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[a("ul",e._l(e.errors,(function(t,o){return a("li",{key:o},[e._v(e._s(t))])})),0)]):e._e()],1),a("b-tab",{attrs:{title:"2. Generar documento","title-item-class":"disabledTab",disabled:e.tabIndex2<1}},[a("generacion_documento",{ref:"documentos",attrs:{expediente:e.expediente,graduando:e.graduando,asesor:e.asesor,jurados:e.array_jurado_confirmado,nombre_archivo_pdf:"acta_dictamen.php",boton_nombre:"Acta de dictamen"}})],1),a("b-tab",{attrs:{title:"3. Añadir documento","title-item-class":"disabledTab",disabled:e.tabIndex2<2}},[a("documentos",{ref:"documentos",attrs:{expediente:e.expediente,idgrado_proc:e.grado_procedimiento.id,idusuario:e.usuario.id,ruta:e.ruta,max_docs:"1",nombre_asignado:"Acta de dictamen"}}),e.errors.length?a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[a("ul",e._l(e.errors,(function(t,o){return a("li",{key:o},[e._v(e._s(t))])})),0)]):e._e()],1),a("b-tab",{attrs:{title:"4. "+e.ruta.etiqueta.charAt(0).toUpperCase()+e.ruta.etiqueta.slice(1)+" expediente","title-item-class":"disabledTab",disabled:e.tabIndex2<3}},[a("movimiento_expediente",{attrs:{grado_modalidad:e.grado_modalidad,grado_procedimiento:e.grado_procedimiento,usuario:e.usuario,expediente:e.expediente,movimiento:e.movimiento,ruta:e.ruta}})],1)],1)],1),a("div",{staticClass:"text-center"},[a("b-button-group",{staticClass:"mt-3"},[a("b-button",{staticClass:"mr-1",attrs:{disabled:0==e.tabIndex},on:{click:e.prevTab}},[e._v("Anterior")]),a("b-button",{attrs:{disabled:3==e.tabIndex},on:{click:e.nextTab}},[e._v("Siguiente")])],1)],1)]],2)},ot=[],it=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.info-dictamen",modifiers:{"info-dictamen":!0}}],attrs:{variant:"warning"}},[e._v("Editar")]),a("b-modal",{ref:"modal",attrs:{id:"info-dictamen",title:"INFORMACIÓN DE DICTAMEN",size:"lg"},on:{show:e.setData,hidden:e.resetModal,ok:e.actualizar},scopedSlots:e._u([{key:"modal-footer",fn:function(t){var o=t.ok,i=t.cancel;return[a("b-button",{attrs:{size:"sm",variant:"danger"},on:{click:function(e){return i()}}},[e._v("Cancelar")]),a("b-button",{attrs:{size:"sm",variant:"success"},on:{click:function(e){return o()}}},[e._v("Actualizar")])]}}])},[a("form",{ref:"form"},[a("b-row",[a("b-col",[a("b-form-group",{attrs:{label:"Fecha sesión jurado:"}},[a("b-form-datepicker",{staticClass:"mb-2",model:{value:e.info_dictamen.fecha_sesion_jurado,callback:function(t){e.$set(e.info_dictamen,"fecha_sesion_jurado",t)},expression:"info_dictamen.fecha_sesion_jurado"}})],1)],1),a("b-col",[a("b-form-group",{attrs:{label:"Fecha sustentación:"}},[a("b-form-datepicker",{staticClass:"mb-2",model:{value:e.info_dictamen.fecha_sustentacion,callback:function(t){e.$set(e.info_dictamen,"fecha_sustentacion",t)},expression:"info_dictamen.fecha_sustentacion"}})],1)],1)],1),a("b-row",{staticClass:"justify-content-lg-center"},[a("b-col",{attrs:{lg:"3"}},[a("b-form-group",{attrs:{label:"Hora sustentación:"}},[a("b-time",{attrs:{locale:"en"},model:{value:e.info_dictamen.hora_sustentacion,callback:function(t){e.$set(e.info_dictamen,"hora_sustentacion",t)},expression:"info_dictamen.hora_sustentacion"}})],1)],1)],1)],1)])],1)},rt=[],st={name:"info-acta-dictamen",props:{expediente:Object,fecha_sesion_jurado:String,fecha_sustentacion:String,hora_sustentacion:String},data:function(){return{url:this.$root.API_URL,info_dictamen:{fecha_sesion_jurado:"",fecha_sustentacion:"",hora_sustentacion:""}}},methods:{setData:function(){this.info_dictamen.fecha_sesion_jurado=this.fecha_sesion_jurado,this.info_dictamen.fecha_sustentacion=this.fecha_sustentacion,this.info_dictamen.hora_sustentacion=this.hora_sustentacion},resetModal:function(){this.info_dictamen.fecha_sesion_jurado="",this.info_dictamen.fecha_sustentacion="",this.info_dictamen.hora_sustentacion=""},actualizar:function(){var e=this,t=new FormData;t.append("idexpediente",this.expediente.id),t.append("fecha_sesion_jurado",this.info_dictamen.fecha_sesion_jurado),t.append("fecha_sustentacion",this.info_dictamen.fecha_sustentacion),t.append("hora_sustentacion",this.info_dictamen.hora_sustentacion),this.axios.post("".concat(this.url,"/Expediente/upd_tp_st_acta_dictamen"),t).then((function(t){t.data.error?e.$root.mostrarNotificacion("Error!","danger",4e3,"error_outline",t.data.message,"bottom-right"):(e.$root.mostrarNotificacion("Éxito!","success",4e3,"done",t.data.message,"bottom-right"),e.updateDataParent()),e.$nextTick((function(){e.$bvModal.hide("info-dictamen")}))}))},updateDataParent:function(){this.$emit("updateDataFromChild")}}},nt=st,dt=Object(b["a"])(nt,it,rt,!1,null,null,null),ct=dt.exports,ut={name:"derivado-derivar",props:{grado_modalidad:Object,grado_procedimiento:Object,usuario:Object,idexpediente:String,graduando:Object,ruta:Object,movimiento:Object},components:{info_acta_dictamen:ct,generacion_documento:k,documentos:P,movimiento_expediente:_},data:function(){return{url:this.$root.API_URL,tabIndex:0,tabIndex2:0,expediente:{},array_jurado_confirmado:[],existeRecursoRutaVecinas:!1,asesor:null,modalShow:!1,errors:[]}},created:function(){this.verificarRecursoRutasVecinas(),this.getJuradosConfirmados(),this.getAsesor(),this.getExpediente()},methods:{prevTab:function(){this.errors=[],this.tabIndex2--,this.tabIndex--},nextTab:function(){this.errors=[];var e=!1;0==this.tabIndex&&(e=this.validarTab0()),1==this.tabIndex&&(e=!0),2==this.tabIndex&&(e=this.validarTab2()),e&&(this.tabIndex2++,this.$nextTick((function(){this.tabIndex++})))},validarTab0:function(){return null!=this.expediente.fecha_sesion_jurado&&null!=this.expediente.fecha_sustentacion&&null!=this.expediente.hora_sustentacion||this.errors.push("Debe ingresar información de dictamen."),!this.errors.length},validarTab2:function(){return 0==this.$refs.documentos.cantidadDocumentos()&&this.errors.push("Debe registrar documentos para el expediente seleccionado."),!this.errors.length},verificarRecursoRutasVecinas:function(){var e=this,t=this._toFormData({idexpediente:this.idexpediente,idgrado_proc:this.grado_procedimiento.id,idusuario:this.usuario.id,idruta:this.ruta.id});this.axios.post("".concat(this.url,"/Recurso/verify"),t).then((function(t){t.data.error?console.log(t.data.message):e.existeRecursoRutaVecinas=t.data.existeRecursoRutaVecinas}))},getExpediente:function(){var e=this,t=new FormData;t.append("idexpediente",this.idexpediente),this.axios.post("".concat(this.url,"/Expediente/getExpById"),t).then((function(t){t.data.error?console.log(t.data.message):e.expediente=t.data.expediente}))},getAsesor:function(){var e=this,t=this._toFormData({idexpediente:this.idexpediente});this.axios.post("".concat(this.url,"/Persona/get_asesor_expediente"),t).then((function(t){t.data.error?console.log(t.data.message):e.asesor=t.data.asesor}))},getJuradosConfirmados:function(){var e=this,t=this._toFormData({idexpediente:this.idexpediente});this.axios.post("".concat(this.url,"/Persona/jurado_confirmado_expediente"),t).then((function(t){t.data.error?console.log(t.data.message):e.array_jurado_confirmado=t.data.array_jurado_confirmado}))},actualizarInfoDictamen:function(){this.getExpediente()},_toFormData:function(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return t}}},lt=ut,mt=(a("46e2"),a("b54b"),Object(b["a"])(lt,at,ot,!1,null,"20ec0cc0",null)),bt=mt.exports,pt={name:"index",props:{grado_modalidad:Object,grado_procedimiento:Object,usuario:Object,expediente:Object,graduando:Object,movimiento:Object},components:{derivado_derivar:bt},data:function(){return{url:this.$root.API_URL,array_ruta:[],ruta_seleccionada:null,estados:this.$root.estados}},methods:{getRutas:function(){var e=this,t=this._toFormData({idgradproc_origen:this.grado_procedimiento.id});this.axios.post("".concat(this.url,"/Ruta/getRutasByProc"),t).then((function(t){t.data.error?console.log(t.data.message):e.array_ruta=t.data.array_ruta}))},_toFormData:function(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return t}},filters:{capitalize:function(e){return e?(e=e.toString(),e.charAt(0).toUpperCase()+e.slice(1)):""}},mounted:function(){this.getRutas()}},_t=pt,ft=(a("b9e2"),Object(b["a"])(_t,et,tt,!1,null,"51822cfd",null)),ht=ft.exports,vt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return null!=e.movimiento?a("div",[a("div",{staticClass:"row justify-content-center mb-1"},[a("fieldset",{staticClass:"col-8 col-md-6 px-3"},[a("legend",[e._v("Elija una opción:")]),a("div",{staticClass:"row justify-content-center"},[e._l(e.array_ruta,(function(t,o){return[a("b-form-radio",{key:o,staticClass:"m-2",attrs:{value:t,button:"",name:"acciones","button-variant":"outline-primary"},model:{value:e.ruta_seleccionada,callback:function(t){e.ruta_seleccionada=t},expression:"ruta_seleccionada"}},[e._v(" "+e._s(e._f("capitalize")(t.etiqueta))+" Expediente ")])]}))],2)])]),"derivado"==e.estados[e.movimiento.etiqueta]&&null!=e.ruta_seleccionada?["aprobar"==e.ruta_seleccionada.etiqueta?a("derivado_aprobar",{attrs:{grado_modalidad:e.grado_modalidad,grado_procedimiento:e.grado_procedimiento,usuario:e.usuario,expediente:e.expediente,graduando:e.graduando,ruta:e.ruta_seleccionada,movimiento:e.movimiento}}):e._e(),"observar"==e.ruta_seleccionada.etiqueta?a("derivado_observar",{attrs:{grado_modalidad:e.grado_modalidad,grado_procedimiento:e.grado_procedimiento,usuario:e.usuario,expediente:e.expediente,graduando:e.graduando,ruta:e.ruta_seleccionada,movimiento:e.movimiento}}):e._e()]:e._e()],2):e._e()},gt=[],xt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-card",[e.existeRecursoRutaVecinas?[a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[a("ul",[a("li",[e._v("Debe deshacer las acciones realizadas en otras opciones de este procedimiento")])])])]:[a("b-card",{attrs:{"no-body":""}},[a("b-tabs",{staticStyle:{"min-height":"250px"},attrs:{card:"","active-nav-item-class":"font-weight-bold text-uppercase text-danger"},model:{value:e.tabIndex,callback:function(t){e.tabIndex=t},expression:"tabIndex"}},[a("b-tab",{attrs:{title:"1. Generar documento","title-item-class":"disabledTab",disabled:e.tabIndex2<0}},[a("generacion_documento",{ref:"documentos",attrs:{expediente:e.expediente,graduando:e.graduando,asesor:e.asesor,jurados:e.array_jurado_confirmado,nombre_archivo_pdf:"acta_sustentacion.php",boton_nombre:"Acta sustentación"}})],1),a("b-tab",{attrs:{title:"2. Añadir documento","title-item-class":"disabledTab",disabled:e.tabIndex2<1}},[a("documentos",{ref:"documentos",attrs:{expediente:e.expediente,idgrado_proc:e.grado_procedimiento.id,idusuario:e.usuario.id,ruta:e.ruta,max_docs:"1",nombre_asignado:"Acta de sustentación"}}),e.errors.length?a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[a("ul",e._l(e.errors,(function(t,o){return a("li",{key:o},[e._v(e._s(t))])})),0)]):e._e()],1),a("b-tab",{attrs:{title:"3. "+e.ruta.etiqueta.charAt(0).toUpperCase()+e.ruta.etiqueta.slice(1)+" expediente","title-item-class":"disabledTab",disabled:e.tabIndex2<2}},[a("movimiento_expediente",{attrs:{grado_modalidad:e.grado_modalidad,grado_procedimiento:e.grado_procedimiento,usuario:e.usuario,expediente:e.expediente,movimiento:e.movimiento,ruta:e.ruta}})],1)],1)],1),a("div",{staticClass:"text-center"},[a("b-button-group",{staticClass:"mt-3"},[a("b-button",{staticClass:"mr-1",attrs:{disabled:0==e.tabIndex},on:{click:e.prevTab}},[e._v("Anterior")]),a("b-button",{attrs:{disabled:2==e.tabIndex},on:{click:e.nextTab}},[e._v("Siguiente")])],1)],1)]],2)},yt=[],Ct={name:"derivado-aprobar",props:{grado_modalidad:Object,grado_procedimiento:Object,usuario:Object,expediente:Object,graduando:Object,ruta:Object,movimiento:Object},components:{generacion_documento:k,documentos:P,movimiento_expediente:_},data:function(){return{url:this.$root.API_URL,tabIndex:0,tabIndex2:0,array_jurado_confirmado:[],existeRecursoRutaVecinas:!1,asesor:null,errors:[]}},methods:{prevTab:function(){this.errors=[],this.tabIndex2--,this.tabIndex--},nextTab:function(){this.errors=[];var e=!1;0==this.tabIndex&&(e=!0),1==this.tabIndex&&(e=this.validarTab1()),e&&(this.tabIndex2++,this.$nextTick((function(){this.tabIndex++})))},validarTab1:function(){return 0==this.$refs.documentos.cantidadDocumentos()&&this.errors.push("Debe registrar documentos para el expediente seleccionado."),!this.errors.length},verificarRecursoRutasVecinas:function(){var e=this,t=this._toFormData({idexpediente:this.expediente.id,idgrado_proc:this.grado_procedimiento.id,idusuario:this.usuario.id,idruta:this.ruta.id});this.axios.post("".concat(this.url,"/Recurso/verify"),t).then((function(t){t.data.error?console.log(t.data.message):e.existeRecursoRutaVecinas=t.data.existeRecursoRutaVecinas}))},getAsesor:function(){var e=this,t=this._toFormData({idexpediente:this.expediente.id});this.axios.post("".concat(this.url,"/Persona/get_asesor_expediente"),t).then((function(t){t.data.error?console.log(t.data.message):e.asesor=t.data.asesor}))},getJuradosConfirmados:function(){var e=this,t=this._toFormData({idexpediente:this.expediente.id});this.axios.post("".concat(this.url,"/Persona/jurado_confirmado_expediente"),t).then((function(t){t.data.error?console.log(t.data.message):e.array_jurado_confirmado=t.data.array_jurado_confirmado}))},_toFormData:function(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return t}},mounted:function(){this.verificarRecursoRutasVecinas(),this.getJuradosConfirmados(),this.getAsesor()}},jt=Ct,Rt=(a("5759"),a("0343"),Object(b["a"])(jt,xt,yt,!1,null,"31630fb8",null)),It=Rt.exports,Ot=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-card",[e.existeRecursoRutaVecinas?[a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[a("ul",[a("li",[e._v("Debe deshacer las acciones realizadas en otras opciones de este procedimiento")])])])]:[a("b-card",{attrs:{"no-body":""}},[a("b-tabs",{staticStyle:{"min-height":"250px"},attrs:{card:"","active-nav-item-class":"font-weight-bold text-uppercase text-danger"},model:{value:e.tabIndex,callback:function(t){e.tabIndex=t},expression:"tabIndex"}},[a("b-tab",{attrs:{title:"1. Añadir observaciones","title-item-class":"disabledTab",disabled:e.tabIndex2<0}},[a("observaciones",{ref:"observaciones",attrs:{expediente:e.expediente,idgrado_proc:e.grado_procedimiento.id,idusuario:e.usuario.id,ruta:e.ruta}}),e.errors.length?a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[a("ul",e._l(e.errors,(function(t,o){return a("li",{key:o},[e._v(e._s(t))])})),0)]):e._e()],1),a("b-tab",{attrs:{title:"2. "+e.ruta.etiqueta.charAt(0).toUpperCase()+e.ruta.etiqueta.slice(1)+" expediente","title-item-class":"disabledTab",disabled:e.tabIndex2<1}},[a("movimiento_expediente",{attrs:{grado_modalidad:e.grado_modalidad,grado_procedimiento:e.grado_procedimiento,usuario:e.usuario,expediente:e.expediente,movimiento:e.movimiento,ruta:e.ruta}})],1)],1)],1),a("div",{staticClass:"text-center"},[a("b-button-group",{staticClass:"mt-3"},[a("b-button",{staticClass:"mr-1",attrs:{disabled:0==e.tabIndex},on:{click:e.prevTab}},[e._v("Anterior")]),a("b-button",{attrs:{disabled:1==e.tabIndex},on:{click:e.nextTab}},[e._v("Siguiente")])],1)],1)]],2)},kt=[],wt={name:"derivado-observar",props:{grado_modalidad:Object,grado_procedimiento:Object,usuario:Object,expediente:Object,graduando:Object,ruta:Object,movimiento:Object},components:{observaciones:oe,movimiento_expediente:_},data:function(){return{url:this.$root.API_URL,tabIndex:0,tabIndex2:0,existeRecursoRutaVecinas:!1,errors:[]}},methods:{prevTab:function(){this.errors=[],this.tabIndex2--,this.tabIndex--},nextTab:function(){this.errors=[];var e=!1;0==this.tabIndex&&(e=this.validarTab1()),e&&(this.tabIndex2++,this.$nextTick((function(){this.tabIndex++})))},validarTab1:function(){return 0==this.$refs.observaciones.cantidadObservaciones()&&this.errors.push("Debe registrar observaciones para el expediente seleccionado."),!this.errors.length},verificarRecursoRutasVecinas:function(){var e=this,t=this._toFormData({idexpediente:this.expediente.id,idgrado_proc:this.grado_procedimiento.id,idusuario:this.usuario.id,idruta:this.ruta.id});this.axios.post("".concat(this.url,"/Recurso/verify"),t).then((function(t){t.data.error?console.log(t.data.message):e.existeRecursoRutaVecinas=t.data.existeRecursoRutaVecinas}))},_toFormData:function(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return t}},mounted:function(){this.verificarRecursoRutasVecinas()}},Dt=wt,$t=(a("c843"),a("c4e7"),Object(b["a"])(Dt,Ot,kt,!1,null,"808eca22",null)),At=$t.exports,Tt={name:"index",props:{grado_modalidad:Object,grado_procedimiento:Object,usuario:Object,expediente:Object,graduando:Object,movimiento:Object},components:{derivado_aprobar:It,derivado_observar:At},data:function(){return{url:this.$root.API_URL,array_ruta:[],ruta_seleccionada:null,estados:this.$root.estados}},methods:{getRutas:function(){var e=this,t=this._toFormData({idgradproc_origen:this.grado_procedimiento.id});this.axios.post("".concat(this.url,"/Ruta/getRutasByProc"),t).then((function(t){t.data.error?console.log(t.data.message):e.array_ruta=t.data.array_ruta}))},_toFormData:function(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return t}},filters:{capitalize:function(e){return e?(e=e.toString(),e.charAt(0).toUpperCase()+e.slice(1)):""}},mounted:function(){this.getRutas()}},Pt=Tt,Et=(a("7642"),Object(b["a"])(Pt,vt,gt,!1,null,"1e4bb159",null)),Ft=Et.exports,Vt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return null!=e.movimiento?a("div",[a("div",{staticClass:"row justify-content-center mb-1"},[a("fieldset",{staticClass:"col-8 col-md-6 px-3"},[a("legend",[e._v("Elija una opción:")]),a("div",{staticClass:"row justify-content-center"},[e._l(e.array_ruta,(function(t,o){return[a("b-form-radio",{key:o,staticClass:"m-2",attrs:{value:t,button:"",name:"acciones","button-variant":"outline-primary"},model:{value:e.ruta_seleccionada,callback:function(t){e.ruta_seleccionada=t},expression:"ruta_seleccionada"}},[e._v(" "+e._s(e._f("capitalize")(t.etiqueta))+" Expediente ")])]}))],2)])]),"aprobado"==e.estados[e.movimiento.etiqueta]&&null!=e.ruta_seleccionada||"enviado"==e.estados[e.movimiento.etiqueta]&&null!=e.ruta_seleccionada?["derivar"==e.ruta_seleccionada.etiqueta?a("aprobado_enviado_derivar",{attrs:{grado_modalidad:e.grado_modalidad,grado_procedimiento:e.grado_procedimiento,usuario:e.usuario,expediente:e.expediente,graduando:e.graduando,ruta:e.ruta_seleccionada,movimiento:e.movimiento}}):e._e()]:e._e()],2):e._e()},qt=[],St=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-card",[e.existeRecursoRutaVecinas?[a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[a("ul",[a("li",[e._v("Debe deshacer las acciones realizadas en otras opciones de este procedimiento")])])])]:[a("b-card",{attrs:{"no-body":""}},[a("b-tabs",{staticStyle:{"min-height":"250px"},attrs:{card:"","active-nav-item-class":"font-weight-bold text-uppercase text-danger"},model:{value:e.tabIndex,callback:function(t){e.tabIndex=t},expression:"tabIndex"}},[a("b-tab",{attrs:{title:"1. Generar documento","title-item-class":"disabledTab",disabled:e.tabIndex2<0}},[a("generacion_documento",{ref:"documentos",attrs:{expediente:e.expediente,graduando:e.graduando,asesor:e.asesor,jurados:e.array_jurado_confirmado,nombre_archivo_pdf:"acta_conformidad_redaccion_tesis.php",boton_nombre:"Acta conformidad redacción"}})],1),a("b-tab",{attrs:{title:"2. Añadir documento","title-item-class":"disabledTab",disabled:e.tabIndex2<1}},[a("documentos",{ref:"documentos",attrs:{expediente:e.expediente,idgrado_proc:e.grado_procedimiento.id,idusuario:e.usuario.id,ruta:e.ruta,max_docs:"1",nombre_asignado:"Acta de conformidad de redacción de tesis"}}),e.errors.length?a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[a("ul",e._l(e.errors,(function(t,o){return a("li",{key:o},[e._v(e._s(t))])})),0)]):e._e()],1),a("b-tab",{attrs:{title:"3. "+e.ruta.etiqueta.charAt(0).toUpperCase()+e.ruta.etiqueta.slice(1)+" expediente","title-item-class":"disabledTab",disabled:e.tabIndex2<2}},[a("movimiento_expediente",{attrs:{grado_modalidad:e.grado_modalidad,grado_procedimiento:e.grado_procedimiento,usuario:e.usuario,expediente:e.expediente,movimiento:e.movimiento,ruta:e.ruta}})],1)],1)],1),a("div",{staticClass:"text-center"},[a("b-button-group",{staticClass:"mt-3"},[a("b-button",{staticClass:"mr-1",attrs:{disabled:0==e.tabIndex},on:{click:e.prevTab}},[e._v("Anterior")]),a("b-button",{attrs:{disabled:2==e.tabIndex},on:{click:e.nextTab}},[e._v("Siguiente")])],1)],1)]],2)},Ut=[],zt={name:"aprobado-derivar",props:{grado_modalidad:Object,grado_procedimiento:Object,usuario:Object,expediente:Object,graduando:Object,ruta:Object,movimiento:Object},components:{generacion_documento:k,documentos:P,movimiento_expediente:_},data:function(){return{url:this.$root.API_URL,tabIndex:0,tabIndex2:0,array_jurado_confirmado:[],existeRecursoRutaVecinas:!1,asesor:null,errors:[]}},methods:{prevTab:function(){this.errors=[],this.tabIndex2--,this.tabIndex--},nextTab:function(){this.errors=[];var e=!1;0==this.tabIndex&&(e=!0),1==this.tabIndex&&(e=this.validarTab1()),e&&(this.tabIndex2++,this.$nextTick((function(){this.tabIndex++})))},validarTab1:function(){return 0==this.$refs.documentos.cantidadDocumentos()&&this.errors.push("Debe registrar documentos para el expediente seleccionado."),!this.errors.length},verificarRecursoRutasVecinas:function(){var e=this,t=this._toFormData({idexpediente:this.expediente.id,idgrado_proc:this.grado_procedimiento.id,idusuario:this.usuario.id,idruta:this.ruta.id});this.axios.post("".concat(this.url,"/Recurso/verify"),t).then((function(t){t.data.error?console.log(t.data.message):e.existeRecursoRutaVecinas=t.data.existeRecursoRutaVecinas}))},getAsesor:function(){var e=this,t=this._toFormData({idexpediente:this.expediente.id});this.axios.post("".concat(this.url,"/Persona/get_asesor_expediente"),t).then((function(t){t.data.error?console.log(t.data.message):e.asesor=t.data.asesor}))},getJuradosConfirmados:function(){var e=this,t=this._toFormData({idexpediente:this.expediente.id});this.axios.post("".concat(this.url,"/Persona/jurado_confirmado_expediente"),t).then((function(t){t.data.error?console.log(t.data.message):e.array_jurado_confirmado=t.data.array_jurado_confirmado}))},_toFormData:function(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return t}},mounted:function(){this.verificarRecursoRutasVecinas(),this.getJuradosConfirmados(),this.getAsesor()}},Lt=zt,Nt=(a("6912"),a("49d4"),Object(b["a"])(Lt,St,Ut,!1,null,"1099c3be",null)),Mt=Nt.exports,Gt={name:"index",props:{grado_modalidad:Object,grado_procedimiento:Object,usuario:Object,expediente:Object,graduando:Object,movimiento:Object},components:{aprobado_enviado_derivar:Mt},data:function(){return{url:this.$root.API_URL,array_ruta:[],ruta_seleccionada:null,estados:this.$root.estados}},methods:{getRutas:function(){var e=this,t=this._toFormData({idgradproc_origen:this.grado_procedimiento.id});this.axios.post("".concat(this.url,"/Ruta/getRutasByProc"),t).then((function(t){t.data.error?console.log(t.data.message):e.array_ruta=t.data.array_ruta}))},_toFormData:function(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return t}},filters:{capitalize:function(e){return e?(e=e.toString(),e.charAt(0).toUpperCase()+e.slice(1)):""}},mounted:function(){this.getRutas()}},Bt=Gt,Jt=(a("cfa8"),Object(b["a"])(Bt,Vt,qt,!1,null,"48ce7115",null)),Ht=Jt.exports,Kt={name:"info-expediente",props:{nombre_componente:String,usuario:Object,grado_modalidad:Object,grado_procedimiento:Object,idexpediente:String},components:{resolver_asignacion_asesoria_proyecto:L,dar_conformidad_asesoramiento_proyecto:le,revisar_documentacion_proyecto:De,dictaminar_aprobacion_proyecto:Ze,emitir_acta_dictamen:ht,dictaminar_resultado_sustentacion:Ft,emitir_acta_conformidad_redaccion_trabajo:Ht},data:function(){return{url:this.$root.API_URL,url_show_file:"".concat(this.$root.API_URL,"/utils/show_file.php"),expediente:null,graduando:null,movimiento:null,estados:this.$root.estados,color_acciones:this.$root.color_acciones,array_archivo:[],array_archivo_ultimo:[],columnas_archivos:[{key:"nombre",label:"Nombre",class:"text-left",sortable:!0},{key:"procedimiento",label:"Procedimiento",class:"text-left",sortable:!0},{key:"area",label:"Rol-Area",class:"text-center",sortable:!0},{key:"descargar",label:"Archivo",class:"text-center"}],columnas_archivos_ultimo:[{key:"nombre",label:"Nombre",class:"text-left"},{key:"procedimiento",label:"Procedimiento",class:"text-left"},{key:"area",label:"Rol-Area",class:"text-center"},{key:"descargar",label:"Archivo",class:"text-center"}],modal:0,nombre_documento:""}},created:function(){null!=this.idexpediente?(this.getLastMovimiento(),this.getExpediente(),this.getGraduando(),this.getArchivos(),this.getArchivosProcOrigen()):this.$router.push({name:"home"})},methods:{getLastMovimiento:function(){var e=this,t=new FormData;t.append("idgradproc_destino",this.grado_procedimiento.id),t.append("idexpediente",this.idexpediente),this.axios.post("".concat(this.url,"/Movimiento/ultimoMovimiento"),t).then((function(t){t.data.error?console.log(t.data.message):e.movimiento=t.data.movimiento}))},mostrarArchivo:function(e,t){this.$refs.show_file.file_id.value=e,this.$refs.show_file.submit(),this.nombre_documento=t,this.modal=1},mostrarArchivoUltimo:function(e,t){this.$refs.show_file_ultimo.file_id.value=e,this.$refs.show_file_ultimo.submit(),this.nombre_documento=t,this.modal=1},getExpediente:function(){var e=this,t=new FormData;t.append("idexpediente",this.idexpediente),this.axios.post("".concat(this.url,"/Expediente/getExpById"),t).then((function(t){t.data.error?console.log(t.data.message):e.expediente=t.data.expediente}))},getGraduando:function(){var e=this,t=new FormData;t.append("idexpediente",this.idexpediente),this.axios.post("".concat(this.url,"/GraduandoExpediente/getGraduando"),t).then((function(t){t.data.error?console.log(t.data.message):e.graduando=t.data.graduando}))},getArchivos:function(){var e=this,t=new FormData;t.append("idexpediente",this.idexpediente),this.axios.post("".concat(this.url,"/Archivo/index"),t).then((function(t){t.data.error?console.log(t.data.message):e.array_archivo=t.data.array_archivo}))},getArchivosProcOrigen:function(){var e=this,t=new FormData;t.append("idgrado_proc",this.grado_procedimiento.id),t.append("idexpediente",this.idexpediente),this.axios.post("".concat(this.url,"/Archivo/show"),t).then((function(t){t.data.error?console.log(t.data.message):e.array_archivo_ultimo=t.data.array_archivo_ultimo}))}}},Qt=Kt,Wt=(a("1f41"),Object(b["a"])(Qt,o,i,!1,null,"7efe9ef5",null));t["default"]=Wt.exports},"724a":function(e,t,a){},7641:function(e,t,a){},7642:function(e,t,a){"use strict";var o=a("0186"),i=a.n(o);i.a},"85ec":function(e,t,a){},"8b6c":function(e,t,a){"use strict";var o=a("27e9"),i=a.n(o);i.a},"8c99":function(e,t,a){},"901a":function(e,t,a){"use strict";var o=a("3b4c"),i=a.n(o);i.a},9692:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"container-fluid p-4",staticStyle:{"background-color":"#fff"}},[a("h5",{staticClass:"text-center font-weight-bold text-uppercase text-danger",domProps:{textContent:e._s(e.grado_procedimiento.proc_nombre+": Expedientes")}}),a("div",{staticClass:"text-center m-3"},[a("b-button",{attrs:{to:{name:"procedimientos",params:{grado_modalidad:e.grado_modalidad}},variant:"outline-info"}},[a("b-icon",{attrs:{icon:"arrow-left-short"}}),e._v(" Atras ")],1)],1),a("b-card",{attrs:{"no-body":""}},[a("b-tabs",{attrs:{pills:"",card:"",vertical:""}},[a("b-tab",{attrs:{title:"Recibidos",active:""},on:{click:function(t){return e.getExpedientes(e.grado_procedimiento.id,e.grado_procedimiento.tipo_rol)}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12"},[a("b-row",[a("b-col",{staticClass:"my-1",attrs:{md:"4"}},[a("b-form-group",{staticClass:"mb-0",attrs:{"label-cols-sm":"6",label:"Expedientes por página: "}},[a("b-form-select",{attrs:{options:e.pageOptions},model:{value:e.perPage,callback:function(t){e.perPage=t},expression:"perPage"}})],1)],1),a("b-col",{staticClass:"my-1",attrs:{"offset-md":"4",md:"4"}},[a("b-form-group",{staticClass:"mb-0",attrs:{"label-cols-sm":"3",label:"Buscar: "}},[a("b-input-group",[a("b-form-input",{attrs:{placeholder:"Escriba el texto a buscar..."},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}}),a("b-input-group-append",[a("b-button",{attrs:{disabled:!e.filter},on:{click:function(t){e.filter=""}}},[e._v("Limpiar")])],1)],1)],1)],1)],1),a("b-table",{attrs:{bordered:"",striped:"",items:e.array_expediente,fields:e.columnas,"show-empty":"","empty-text":"No hay expedientes recibidos que mostrar.","current-page":e.currentPage,"per-page":e.perPage,filter:e.filter,"empty-filtered-text":"No hay expedientes que coincidan con su búsqueda.",busy:e.isBusy},on:{filtered:e.onFiltered},scopedSlots:e._u([{key:"cell(estado)",fn:function(t){return[a("b-badge",{attrs:{variant:e.color_estados[t.item.estado]}},[e._v(e._s(t.item.estado))])]}},{key:"cell(acciones)",fn:function(t){return[a("b-button",{attrs:{variant:"success",size:"sm","data-toggle":"tooltip","data-placement":"left",title:"Evaluar",to:{name:"info-expediente"+e.grado_modalidad.id,params:{nombre_componente:e.grado_procedimiento.url_formulario,usuario:e.usuario,grado_modalidad:e.grado_modalidad,grado_procedimiento:e.grado_procedimiento,idexpediente:t.item.id}}}},[a("i",{staticClass:"fa fa-edit"}),e._v(" Evaluar ")])]}},{key:"table-busy",fn:function(){return[a("div",{staticClass:"text-center text-danger my-2"},[a("b-spinner",{staticClass:"align-middle"}),a("strong",[e._v("Cargando...")])],1)]},proxy:!0}])}),a("b-row",[a("b-col",{staticClass:"my-1",attrs:{"offset-md":"6",md:"6"}},[a("b-pagination",{staticClass:"my-0",attrs:{"total-rows":e.totalRows,"per-page":e.perPage,align:"right"},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)],1)],1)])]),a("b-tab",{attrs:{title:"Enviados"},on:{click:function(t){return e.getExpedientesEnviados(e.grado_procedimiento.id)}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12"},[a("b-row",[a("b-col",{staticClass:"my-1",attrs:{md:"4"}},[a("b-form-group",{staticClass:"mb-0",attrs:{"label-cols-sm":"6",label:"Expedientes por página: "}},[a("b-form-select",{attrs:{options:e.pageOptions},model:{value:e.perPage,callback:function(t){e.perPage=t},expression:"perPage"}})],1)],1),a("b-col",{staticClass:"my-1",attrs:{"offset-md":"4",md:"4"}},[a("b-form-group",{staticClass:"mb-0",attrs:{"label-cols-sm":"3",label:"Buscar: "}},[a("b-input-group",[a("b-form-input",{attrs:{placeholder:"Escriba el texto a buscar..."},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}}),a("b-input-group-append",[a("b-button",{attrs:{disabled:!e.filter},on:{click:function(t){e.filter=""}}},[e._v("Limpiar")])],1)],1)],1)],1)],1),a("b-table",{attrs:{bordered:"",striped:"",items:e.array_exp_enviados,fields:e.columnas_enviados,"show-empty":"","empty-text":"No hay expedientes enviados que mostrar.","current-page":e.currentPage,"per-page":e.perPage,filter:e.filter,"empty-filtered-text":"No hay expedientes que coincidan con su búsqueda.",busy:e.isBusy},on:{filtered:e.onFiltered},scopedSlots:e._u([{key:"cell(estado)",fn:function(t){return[a("b-badge",{attrs:{variant:e.color_estados[t.item.estado]}},[e._v(e._s(t.item.estado))])]}},{key:"cell(acciones)",fn:function(t){return[a("b-button",{attrs:{variant:"warning",size:"sm",title:"Deshacer"},on:{click:function(a){return e.deshacer(t.item.id,t.item.idexpediente,t.item.idgradproc_origen,t.item.fecha_ant,t.item.etiqueta)}}},[a("i",{staticClass:"fa fa-edit"}),e._v(" Deshacer ")])]}},{key:"table-busy",fn:function(){return[a("div",{staticClass:"text-center text-danger my-2"},[a("b-spinner",{staticClass:"align-middle"}),a("strong",[e._v("Cargando...")])],1)]},proxy:!0}])}),a("b-row",[a("b-col",{staticClass:"my-1",attrs:{"offset-md":"6",md:"6"}},[a("b-pagination",{staticClass:"my-0",attrs:{"total-rows":e.totalRows,"per-page":e.perPage,align:"right"},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)],1)],1)])])],1)],1)],1)])},i=[],r={name:"menu-procedimientos",props:{grado_modalidad:Object,grado_procedimiento:Object},data:function(){return{url:this.$root.API_URL,usuario:this.$store.state.usuario,color_estados:this.$root.color_estados,estados:this.$root.estados,array_expediente:[],array_exp_enviados:[],columnas:[{key:"codigo",label:"Código",class:"text-center"},{key:"graduando",label:"Graduando (s)"},{key:"escuela",label:"Escuela"},{key:"fecha_recepcion",label:"Fecha Recepción",class:"text-center"},{key:"estado",label:"Estado",class:"text-center"},{key:"acciones",label:"Acciones",class:"text-center"}],columnas_enviados:[{key:"codigo",label:"Código",class:"text-center"},{key:"graduando",label:"Graduando (s)"},{key:"escuela",label:"Escuela"},{key:"fecha_envio",label:"Fecha Envio",class:"text-center"},{key:"estado",label:"Estado",class:"text-center"},{key:"acciones",label:"Acciones",class:"text-center"}],totalRows:1,currentPage:1,perPage:5,pageOptions:[5,10,15],filter:null,isBusy:!1}},created:function(){null!=this.grado_procedimiento?this.getExpedientes(this.grado_procedimiento.id,this.grado_procedimiento.tipo_rol):this.$router.push({name:"home"})},methods:{getExpedientes:function(e,t){var a=this,o=new FormData;o.append("idgrado_procedimiento",e),o.append("codi_usuario",this.usuario.codi_usuario),o.append("tipo_usuario",this.usuario.tipo),o.append("tipo_rol",t),this.toggleBusy(),this.axios.post("".concat(this.url,"/Expediente/getList"),o).then((function(e){e.data.error?console.log(e.data.message):(a.array_expediente=e.data.array_expediente,a.totalRows=a.array_expediente.length),a.toggleBusy()}))},getExpedientesEnviados:function(e){var t=this,a=new FormData;a.append("idusuario",this.usuario.id),a.append("idgradproc_origen",e),this.toggleBusy(),this.axios.post("".concat(this.url,"/Movimiento/expedientes_enviados"),a).then((function(e){e.data.error?console.log(e.data.message):(t.array_exp_enviados=e.data.array_exp_enviados,t.totalRows=t.array_exp_enviados.length),t.toggleBusy()}))},deshacer:function(e,t,a,o,i){var r=this;this.$bvModal.msgBoxConfirm("¿Seguro que quiere deshacer el movimiento realizado sobre este expediente?",{title:"Deshacer Movimiento",okVariant:"success",okTitle:"Deshacer",cancelTitle:"Cancelar",centered:!0}).then((function(s){if(s){var n=new FormData;n.append("id",e),n.append("idexpediente",t),n.append("idgradproc_origen",a),n.append("fecha_ant",o),n.append("estado_expediente_ant",r.estados[i]),r.axios.post("".concat(r.url,"/Movimiento/deshacer"),n).then((function(e){e.data.error?r.$root.mostrarNotificacion("Error!","danger",5e3,"error_outline",e.data.message,"bottom-right"):(r.$root.mostrarNotificacion("Éxito!","success",5e3,"done",e.data.message,"bottom-right"),r.getExpedientesEnviados(a))}))}}))},toggleBusy:function(){this.isBusy=!this.isBusy},onFiltered:function(e){this.totalRows=e.length,this.currentPage=1},_countDownChanged:function(e){this.dismissCountDown=e}}},s=r,n=a("2877"),d=Object(n["a"])(s,o,i,!1,null,null,null);t["default"]=d.exports},"96fb":function(e,t,a){},9718:function(e,t,a){"use strict";var o=a("724a"),i=a.n(o);i.a},"9bba":function(e,t,a){},"9cd5":function(e,t,a){},a069:function(e,t,a){},a075:function(e,t,a){},a43a:function(e,t,a){"use strict";var o=a("116a"),i=a.n(o);i.a},b54b:function(e,t,a){"use strict";var o=a("7641"),i=a.n(o);i.a},b87c:function(e,t,a){},b9e2:function(e,t,a){"use strict";var o=a("5e5b"),i=a.n(o);i.a},bb51:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},i=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"container text-center"},[o("img",{attrs:{alt:"Vue logo",src:a("d4da")}})])}],r={name:"Home",data:function(){return{}}},s=r,n=a("2877"),d=Object(n["a"])(s,o,i,!1,null,null,null);t["default"]=d.exports},bbcc:function(e,t,a){"use strict";var o=a("1bd6"),i=a.n(o);i.a},c195:function(e,t,a){"use strict";var o=a("fa33"),i=a.n(o);i.a},c4e7:function(e,t,a){"use strict";var o=a("f4a9"),i=a.n(o);i.a},c50b:function(e,t,a){},c843:function(e,t,a){"use strict";var o=a("9cd5"),i=a.n(o);i.a},caf9:function(e,t,a){"use strict";var o=a("b87c"),i=a.n(o);i.a},cfa8:function(e,t,a){"use strict";var o=a("efe2"),i=a.n(o);i.a},d0e7:function(e,t,a){"use strict";var o=a("9bba"),i=a.n(o);i.a},d4da:function(e,t,a){e.exports=a.p+"img/logo_unsa.098d5e1f.png"},d656:function(e,t,a){},dbc1:function(e,t,a){},dd08:function(e,t,a){},e4d8:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container p-4",staticStyle:{"background-color":"#fff"}},[a("h5",{staticClass:"text-center font-weight-bold text-uppercase text-danger",domProps:{textContent:e._s(e.grado_modalidad.nombre_grado_titulo+" - "+e.grado_modalidad.nombre_modalidad_obtencion+": Procedimientos")}}),a("div",{staticClass:"text-center mt-3"},[a("b-button",{attrs:{to:{name:"inicio",params:{grado_modalidad:e.grado_modalidad}},variant:"outline-info"}},[a("b-icon",{attrs:{icon:"arrow-left-short"}}),e._v(" Atras ")],1)],1),e._l(e.objectGroups,(function(t,o){return a("div",{key:o,staticClass:"row text-center mt-3"},e._l(e.array_grado_procedimiento.slice(o*e.itemsPerRow,(o+1)*e.itemsPerRow),(function(t,o){return a("div",{key:o,staticClass:"col-lg-4"},[a("div",{staticClass:"counter"},[a("h5",{staticClass:"count-text-title",domProps:{textContent:e._s(t.proc_nombre)}}),0==t.total_expedientes?a("h2",{staticClass:"timer count-title count-number",domProps:{textContent:e._s(t.total_expedientes)}}):a("h2",{staticClass:"timer count-title count-number text-danger",domProps:{textContent:e._s(t.total_expedientes)}}),a("p",{staticClass:"count-text"},[e._v("Solicitudes pendientes")]),a("br"),a("b-button",{attrs:{pill:"",variant:"info",to:{name:"bandeja",params:{grado_modalidad:e.grado_modalidad,grado_procedimiento:t}}}},[e._v(" Ver expedientes ")])],1)])})),0)}))],2)},i=[],r=(a("a630"),a("d3b7"),a("3ca3"),a("ddb0"),{name:"procedimientos",props:{grado_modalidad:Object},data:function(){return{url:this.$root.API_URL,usuario:this.$store.state.usuario,array_grado_procedimiento:[],itemsPerRow:3}},computed:{objectGroups:function(){return Array.from(Array(Math.ceil(this.array_grado_procedimiento.length/this.itemsPerRow)).keys())}},created:function(){null!=this.grado_modalidad?this.getGradoProcedimientos():this.$router.push({name:"home"})},methods:{getGradoProcedimientos:function(){var e=this,t=new FormData;t.append("idgrado_modalidad",this.grado_modalidad.id),t.append("idrol_area",this.usuario.idrol_area),t.append("idusuario",this.usuario.id),t.append("codi_usuario",this.usuario.codi_usuario),t.append("tipo_usuario",this.usuario.tipo),this.axios.post("".concat(this.url,"/GradoProcedimiento/gradoProcedimientos"),t).then((function(t){t.data.error?console.log(t.data.message):e.array_grado_procedimiento=t.data.array_grado_procedimiento}))}}}),s=r,n=a("2877"),d=Object(n["a"])(s,o,i,!1,null,null,null);t["default"]=d.exports},e8fa:function(e,t,a){"use strict";var o=a("8c99"),i=a.n(o);i.a},eae2:function(e,t,a){"use strict";var o=a("280a"),i=a.n(o);i.a},ed94:function(e,t,a){},edaa:function(e,t,a){"use strict";var o=a("d656"),i=a.n(o);i.a},efe2:function(e,t,a){},f1fe:function(e,t,a){"use strict";var o=a("317c"),i=a.n(o);i.a},f36c:function(e,t,a){},f4a9:function(e,t,a){},f95f:function(e,t,a){},fa33:function(e,t,a){},fe50:function(e,t,a){"use strict";var o=a("4411"),i=a.n(o);i.a}});
//# sourceMappingURL=app.dba69687.js.map